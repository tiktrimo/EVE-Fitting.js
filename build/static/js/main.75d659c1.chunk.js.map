{"version":3,"sources":["serviceWorker.js","key/ignore/firebaseAPI.js","cache/cacheService.js","components/Icons/slotIcons.jsx","fitter/src/Fit.js","components/Drawers/Slots/SlotChargeBadge.jsx","components/Drawers/Slots/SlotMetaBadge.jsx","components/Drawers/RecButton.jsx","components/Drawers/RecMenu.jsx","components/Icons/stateIcons.jsx","components/Drawers/ListDrawer/SetStateMenu.jsx","components/Drawers/Slots/Slot.jsx","components/Drawers/services/EFT.js","services/dataManipulation/findAttributes.js","components/Drawers/Slots/Slots.jsx","components/Drawers/FittingDrawer/ImportExportButtons.jsx","components/Drawers/FittingDrawer/fittingLazyFetch.js","components/Drawers/FittingDrawer/FittingDrawer.jsx","components/Drawers/Stats/StatTextField.jsx","components/Drawers/Stats/Stat.jsx","components/Drawers/Stats/StatDrawer.jsx","components/simpleEdition/shipCardComponents/NestedListDedicated.jsx","components/itemSelection/ItemSelection.jsx","services/eveListConstruction/filterInvTypesTable.js","services/eveListConstruction/createEveList.jsx","services/eveListConstruction/isTerminalGroup.js","services/eveListConstruction/findChildrenInvTypes.js","services/eveListConstruction/findChildrenMarketGroup.js","services/eveListConstruction/isArrayEmpty.js","components/itemSelection/ItemSelectionListCache.jsx","components/Drawers/ListDrawer/ListDrawerButtons.jsx","components/Drawers/ListDrawer/ListDrawerSearchbar.jsx","components/Drawers/ListDrawer/ListDrawer.jsx","components/Drawers/ListDrawer/ListDrawers.jsx","components/Drawers/Drawers.jsx","components/Icons/defenseIcons.jsx","components/FitCard/Stats/LinearProgressLabel.jsx","components/FitCard/Stats/ResistanceProgressLabel.jsx","components/FitCard/Stats/DamageTypeProgressLabel.jsx","components/FitCard/Stats/Resistance.jsx","components/Icons/resourceIcons.jsx","components/FitCard/Stats/services/Stat.js","components/FitCard/Stats/ResourcesMiscellaneousListItem.jsx","components/FitCard/Stats/Resouces.jsx","components/Icons/damageIcons.jsx","components/FitCard/Stats/DamageRangeListItem.jsx","components/FitCard/Stats/Damage.jsx","components/FitCard/Stats/Engineering.jsx","components/Icons/capacitorIcons.jsx","components/FitCard/Stats/Capacitor.jsx","components/FitCard/Stats/StatsSummary.jsx","components/FitCard/FitCard.jsx","components/InitialCard.jsx","InitialFetch.jsx","Initialtheming.jsx","index.js"],"names":["Boolean","window","location","hostname","match","NodeCache","require","cacheService","ttlSeconds","this","cache","stdTTL","checkperiod","useClones","key","storeFunction","value","get","Promise","resolve","then","result","set","reject","check","count","undefined","setTimeout","keys","del","flushAll","HighSlotIcon","props","SvgIcon","d","strokeWidth","stroke","color","MidSlotIcon","LowSlotIcon","RigSlotIcon","fill","DroneIcon","x1","y1","x2","y2","MiscIcon","CapsuleIcon","Fit","dogmaSkills","constructor","Object","skillBoard","skillsStaticBoardMax","values","reduce","acc","mods","concat","map","mod","debug","falseDebug","validateChargeSlot","slot","item","charge","itemChargeSize","chargeChargeSize","loadableGroupIDs","ID","attr","filter","length","includes","groupID","mapSlots_CONFIG","isIterate","ship","miscSlots","highSlots","midSlots","lowSlots","rigSlots","droneSlots","mapSlots","fit","callback","partialConfig","config","slotName","slots","apply","fitWithDomainID","board","staticBoard","passiveBoard","forEach","modifiedAttributeID","isStatic","push","appliedMod","type","typeAttributesStats","attribute","attributeID","penCount","console","log","baseMod","baseValue","modifyingAttributeValue","operation","appliedValue","penalizedModifyingAttributeValue","isPenalized","modifyingAttributeID","sampleMod","compareFunc","highIsGood","modifiedAttributeHighIsGood","a","b","modStackables","modNotStackables","isStackException","modifiedAttributeStackable","sort","index","array","targetMod","applyMod","domain","func","domainID","typeGroupID","typeSkills","skillTypeID","split","typeState","effectCategory","skills","Array","typeID","skillsBoard","skill","typeName","itemMods","chargeMods","dogmaSkill","invalidEffectIDs","extrovertEffects","typeEffectsStats","effect","modifierInfo","effectID","modifyingAttribute","effectName","iconID","getCurrentState","getInitialState","efft","initialState","currentState","find","entry","applyValue","mulValue","perValue","addValue","subValue","divValue","Math","pow","E","useStyles","makeStyles","theme","rootAvatar","width","height","right","bottom","fontSize","fontWeight","transition","transitions","create","easing","sharp","duration","leavingScreen","SlotChargeBadge","classes","useTheme","useState","palette","text","primary","backgroundColor","background","paper","badgeColor","setBadgeColor","badgeIcon","setBadgeIcon","handleBadgeClick","useCallback","e","stopPropagation","variant","dispatchSlotsOpen","payload","slotVariant","getLoadableGroup","setActiveSlotNumber","setActiveSlot","useEffect","Number","border","property","red","Badge","overlap","anchorOrigin","vertical","horizontal","badgeContent","group","isDisplyCount","Avatar","className","style","onClick","children","size","loadableSize","useStyle","top","SlotMetaBadge","getTechColor","metaGroupID","root","borderRadius","RecButton","Button","disabled","action","hover","disableElevation","RecMenu","open","setOpen","anchor","useRef","Fragment","ref","menuButton","Popover","anchorEl","current","transformOrigin","onClose","PaperProps","clientWidth","elevation","square","container","OverloadIcon","ActivationIcon","OfflineIcon","PassiveIcon","rootButton","minWidth","overloadButton","activationButton","green","passiveButton","orange","offlineButton","grey","OverloadButton","Tooltip","title","placement","arrow","dispatchListItems","button","ActivationButton","PassiveButton","OfflineButton","SetStateMenu","isActiveModule","setIsActiveModule","activeItem","slotsOpen","getCurrentStateColor","getCurrentStateIcon","state","isAmmo","org","isDisabled","rootActive","rootDiv","position","left","rootAvatarHover","marginLeft","marginTop","divider","marginRight","rootAvatarDefault","stateArcBorder","borderLeftColor","borderRightColor","borderTopColor","borderBottomColor","Slot","setItem","setCharge","isHover","setIsHover","handlePressOpen","getLoadableRig","getLoadableDrone","isActive","fetchedItem","fetchedCharge","ListItem","dense","onMouseEnter","onMouseLeave","typeCount","draggable","src","feedSource","SHIP","slotIcon","ListItemText","primaryTypographyProps","noWrap","secondary","getChageCountString","secondaryTypographyProps","capacity","volume","floor","EFT","fitText","typeIDs","findAttributebyID","shipText","slice","indexOf","moduleText","substring","shipName","replace","moduleNames","Set","moduleTextLine","dividedByComma","dividedByX","buildFitFromText","fitTextBlocks","droneText","moduleSlots","indexOfModuleText","trimStart","moduleTextBlocks","moduleTextBlock","chage","itemName","chargeName","droneTextLine","fitTextLine","dividedBy_x","textBlock","sampleTextLine","search","typeDroneSize","typeIsHiPower","typeIsMedPower","typeIsLoPower","buildTextFromFit","join","emptyText","moduleSlot","droneSlot","buildCompareTextFromFit","blankText","drone","lodingIndicator","gre","Slots","slotCount","rawItems","setRawItems","rawCharges","setRawCharges","fetchedItems","setFetchedItems","fetchedCharges","setFetchedCharges","setters","activeSlotNumber","isLoop","setIsLoop","isLoading","setIsLoading","session","setSession","importFitText","from","wait","fitFromText","getSlotCountAtImport","items","charges","translateVariant","importStateFlag","setImportStateFlag","importSlots","listItems","loopNumber","changeState","typeIsTurretFitted","typeIsLauncherFitted","pointLoad","turretPointLoad","launcherPointLoad","isTurretFitted","isLauncherFitted","extractHardpoints","validateHardpoints","assignItemToSlot","addCountToDroneSlots","AMMO","all","createFetchPromises","data","sessionData","fetchedData","processFetchedData","checkData","padding","Divider","getSlotCount","promisesItem","rawItem","promisesCharge","rawCharge","sessionPromise","fetcheditem","itemState","dispatchSlots","hashTypes","rawTypes","hashCount","types","number","ceiling","listItem","listIcon","warning","ImportExportButtons","openAlert","setOpenAlert","setTitle","setText","handleImportClick","copyTextFromClipboard","setImportFitText","importInitializeFlag","IDs","extractIDs","database","once","val","fittingLazyFetch","navigator","clipboard","writeText","exportFitText","Snackbar","ContentProps","getSnackbarBorder","message","ListItemIcon","autoHideDuration","permissions","query","name","permisson","readText","importFinishFlag","MISC_SLOT","HIGH_SLOT","MID_SLOT","LOW_SLOT","RIG_SLOT","DRONE_SLOT","rootClose","enteringScreen","overflow","rootExpand","maxWidth","rootRetract","expandButton","opaqueHover","opacity","retractButton","zIndex","child","overflowX","overflowY","paddingBottom","paddingRight","FittingDrawer","childRef","Drawer","switchExpandOpen","ButtonGroup","setExpand","expand","attrs","getDroneSlotCount","StatTextField","TextField","label","Typography","switchUnit","unitID","attributeName","defaultValue","InputProps","readOnly","disableUnderline","unit","eveUnit","displayName","Stat","setType","attributesCategories","setAttributesCategories","setTypeName","builtList","setList","etc","dividedAttributes","filteredAttributes","attributes","attributeCategoryID","filterAttributes","filtered","main","nameSpace","letterSpacing","lineHeight","align","createStatList","textDecoration","rootPaper","marginBottom","StatDrawer","tabIndex","setTabIndex","styleButton","selected","fullWidth","hidden","margin","transform","shortest","expandOpen","nested","paddingLeft","spacing","NestedList","React","opened","image","setImage","handleClick","itemData","isMounted","iconTypeID","iconFileName","storage","getDownloadURL","url","fetch","arrayBuffer","convertArrayBufferToBase64","List","ListItemAvatar","marketGroupName","IconButton","clsx","Collapse","in","timeout","unmountOnExit","binary","call","Uint8Array","String","fromCharCode","btoa","ItemSelection","handleItemClick","outboundSetItem","typeMetaGroupID","headFilterInvTypesTable","table","invTypesTable","allowedAttributes","allowedAttribute","toLowerCase","bodyFilterInvTypesTable","headCreateEveList","rootMarketGroupID","filterInvTypesTable","bodyCreateEveList","marketGroupTable","validateTables","marketGroupID","hasTypes","isTerminalGroup","childrenTypeIDs","swapped","len","i","tmp","bubbleSortByMetaLevel","findChildrenInvTypes","renderChildrenInvTypes","parentGroupID","findChildrenMarketGroup","renderedChildrenMarketGroups","renderedChildrenMarketGroup","isArrayEmpty","eveListConfig","renderChildrenMarketGroup","defalutEveListConfigStructure","paddingTop","memo","setMarketGroupTable","setInvTypesTable","builtListStructure","setBuiltListStructure","evelistConfigUpToDate","nosave","createEveList","JSON","stringify","hashFilter","deleteButton","ammoDeleteButton","showInfoButton","blue","addButton","loopOrNotButton","DeleteButton","AmmoDeleteButton","activeCharge","ShowInfoButton","activeSlot","slotNumber","AddButton","LoopOrNotButton","liftedIsLoop","setLiftedIsLoop","ListDrawerButtons","Grid","xs","textField","textFieldInputLabel","textFieldinputLabel","popperVisible","popperHidden","popperPaper","popperChild","maxHeight","SearchTextField","withStyles","borderWidth","borderLeftWidth","ListDrawerSearchbar","searchOpen","setSearchOpen","searchVisible","setSearchVisible","searchText","setSearchText","handleSearchTextChange","target","ClickAwayListener","onClickAway","InputLabelProps","inputProps","onChange","onFocus","Popper","Paper","mutateEveListConfig","mutatedAllowedAttributes","ListDrawer","filters","setWidth","getEveListConfig","getRootMarketGroupID","innerWidth","handleRender","addEventListener","removeEventListener","getMiscSlotMarketGroupID","setActiveItem","setActiveCharge","getActiveSlot","fitID","generateFilter","initialSlots","slotsReducer","initialSlotsOpen","STAT","slotsOpenReducer","initialListItems","listItemsReducer","Drawers","useReducer","setFit","setExportFitText","appliedFit","setFitID","giveSlotToStatDrawer","ArmorIcon","ShieldIcon","StructureIcon","EhpIcon","rootGrid","progress","childGrid","display","alignItems","justifyContent","description","LinearProgressLabel","LinearProgressFixed","bar","LinearProgress","Icon","typographyProps","ResistanceProgressLabel","forwardRef","innerRef","getLabel","getDescription","resistance","EM","toFixed","blueSecondary","TH","redSecondary","KI","greySecondary","EX","orgSecondary","damageType","ehpFactor","activeBonus","HP","scrollbarWidth","outer","document","createElement","visibility","msOverflowStyle","body","appendChild","inner","_scrollbarWidth","offsetWidth","parentNode","removeChild","DamageTypeList","list","component","damgeTypes","setDamageType","DamageTypeProgressLabel","DamageTypeListOpen","setDamageTypeListOpen","Resistance","stat","defense","shield","active","shieldBonus","armor","armorBonus","structure","structureBonus","TurretIcon","strokeLinecap","LauncherIcon","CalibrationIcon","DroneBayIcon","DroneBandwidthIcon","propCapacitor","capacitor","damage","stableLevel","capacitor_stableLevel","engineering","resource","miscellaneous","turretLauncherDamage","max","effective","alpha","turretLauncherRange","droneDamage","turrets","launchers","drones","practical","ambientChargeRate","boosterChargeRate","activationUseRate","cus","capacitorUsePerSec","dominID","Cmax","Tnow","capacitorDeltas","Cnow","capacitorLevel","delta","positiveDeltas","capacitorDelta","pg","load","output","cpu","pgLoad","pgOutput","cpuLoad","cpuOutput","turret","launcher","calibration","droneBandwidth","droneBay","droneActive","turretHardpoint","launcherHardpoint","droneCapacity","mountedTurrets","mountedLaunchers","mountedCalibration","mountedDroneBandwidth","droneVolume","scanResolution","signatureRadius","maximumLockedTarget","maximumTargetingRange","sensorStrength","gravimetric","magnetometric","ladar","radar","inertialModifier","maximumVelocity","warpSpeedMultiplier","cargoBayCapacity","gravimetricSensorStrength","magnetometricSensorStrength","ladarSensorStrength","radarSensorStrength","reloadTime","activationTime","rateOfFire","TAV","itemCapacity","chargeVolume","chargePerCycle","chargeVolumePerAct","EactivationTime","Infinity","defaultStat","isActivated","getActivationTime","alphaDamage","damageModifier","mergedDamage","turretRange","optimalRange","falloffRange","overlappingRange","range","launcherRange","filghtTime","activationCost","boosterSlot","sqrt","shipAttrs","armorHP","armorEM","armorTH","armorKI","armorEX","shieldHP","shieldEM","shieldTH","shieldKI","shieldEX","structureHP","structureEM","structureTH","structureKI","structureEX","activePropulsionModules","isPropulsionModule","shipBaseMaximumVelocity","propModuleMaximumVelocityBonusMul","propModuleThrust","propModuleMassAdd","shipMass","mass","thisEffectsNeedCharge","boldTypography","GridBoldTypography","flexBasis","ResourcesMiscellaneousListItem","misc","setMisc","justify","TurretHardpoint","LauncherHardpoint","Calibration","DroneBandwidth","isError","DroneBay","rootChild","Hardpoints","setLoad","setCapacity","alignContent","sm","AlphaIcon","DroneDamageSVG","rootPostIt","optimalRangeLabel","rangeFont","PostIt","share","borderRight","OptimalRangeBar","optimalRangeShare","FalloffRangeBar","falloffRangeShare","DamageRangeListItem","shares","setShares","rangeMax","rangeSum","getShares","WeaponDps","WeaponAlpha","DroneDps","Damage","Cpu","getPercent","getNum","Powergrid","Engineering","percent","CapacitorChargeIcon","tooltip","Capacitor","StatsSummary","setStat","editButton","EditButton","blueGreyLight","FitCard","Card","modeButton","modeButtonActive","Links","href","Settings","isDark","setIsDark","InitialCard","flexDirection","InitialD","json","cJSON","decompress","lightTheme","createMuiTheme","light","dark","blueGrey","darkTheme","overrides","MuiPaper","elevation3","boxShadow","Initialtheming","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","logEvent","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.75d659c1.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","export default {\r\n  apiKey: \"AIzaSyD9JKzskuYHt0_QQzfVTf1best1LIV_aEc\",\r\n  authDomain: \"evefittingjs.firebaseapp.com\",\r\n  databaseURL: \"https://evefittingjs.firebaseio.com\",\r\n  projectId: \"evefittingjs\",\r\n  storageBucket: \"evefittingjs.appspot.com\",\r\n  messagingSenderId: \"50378609544\",\r\n  appId: \"1:50378609544:web:a183550dc926c774d4a03d\",\r\n  measurementId: \"G-9WGWL8V4F4\",\r\n};\r\n","const NodeCache = require(\"node-cache\");\r\n\r\nexport default class cacheService {\r\n  constructor(ttlSeconds) {\r\n    this.cache = new NodeCache({\r\n      stdTTL: ttlSeconds,\r\n      checkperiod: ttlSeconds * 0.2,\r\n      useClones: false,\r\n    });\r\n  }\r\n\r\n  get(key, storeFunction) {\r\n    const value = this.cache.get(key);\r\n    if (value) {\r\n      /*       console.log(`${key}: Cache Operation[GET]`); */\r\n      return Promise.resolve(value);\r\n    }\r\n\r\n    return storeFunction().then((result) => {\r\n      /*       console.log(`${key}: Cache set`); */\r\n      this.cache.set(key, result);\r\n      return result;\r\n    });\r\n  }\r\n  wait(key) {\r\n    const value = this.cache.get(key);\r\n    if (value) {\r\n      /* console.log(`${key}: Cache Operation[WAIT]`); */\r\n      return Promise.resolve(value);\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      function check(count, cache) {\r\n        return () => {\r\n          const value = cache.get(key);\r\n          /* console.log(key, count); */\r\n          if (value !== undefined || count > 120) {\r\n            /*  console.log(`${key}: Cache Operation[WAIT]`); */\r\n            return resolve(value);\r\n          }\r\n          setTimeout(check(count++, cache), 100);\r\n        };\r\n      }\r\n      check(0, this.cache)();\r\n    });\r\n  }\r\n\r\n  del(keys) {\r\n    this.cache.del(keys);\r\n  }\r\n\r\n  flush() {\r\n    this.cache.flushAll();\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { SvgIcon } from \"@material-ui/core\";\r\n\r\nexport const HighSlotIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\"m11.949456,5.46298l0,5.560755\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n    <path\r\n      d=\"m4.974388,17.593532l4.953309,-2.93155\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n    <path\r\n      d=\"m14.038607,14.695678l5.020701,2.864158\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\n\r\nexport const MidSlotIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\"m5.041085,11.962486l5.445918,0\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n    <path\r\n      d=\"m13.477731,11.962486l5.445918,0\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\n\r\nexport const LowSlotIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\"m11.983486,6.352277l0,11.23114\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\n\r\nexport const RigSlotIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\"m4.606327,4.629219l-1.762578,1.762578l0,2.128828l0,2.105937l0.915625,0l0.915625,0l0,-1.556562l0,-1.556562l1.442109,-1.419219l1.442109,-1.419219l1.533672,0l1.533672,0l0,-0.915625l0,-0.915625l-2.128828,0l-2.105937,0l-1.785469,1.785469z\"\r\n      fill={props.color || \"#000000\"}\r\n    />\r\n    <path\r\n      d=\"m13.373437,3.759375l0,0.915625l1.556562,0l1.556562,0l1.419219,1.442109l1.419219,1.442109l0,1.533672l0,1.533672l0.915625,0l0.915625,0l0,-2.128828l0,-2.105937l-1.785469,-1.785469l-1.762578,-1.762578l-2.128828,0l-2.105937,0l0,0.915625z\"\r\n      fill={props.color || \"#000000\"}\r\n    />\r\n    <path\r\n      d=\"m2.843749,15.502266l0,2.105937l1.785469,1.785469l1.762578,1.762578l2.128828,0l2.105937,0l0,-0.915625l0,-0.915625l-1.556562,0l-1.556562,0l-1.419219,-1.442109l-1.419219,-1.442109l0,-1.533672l0,-1.533672l-0.915625,0l-0.915625,0l0,2.128828z\"\r\n      fill={props.color || \"#000000\"}\r\n    />\r\n    <path\r\n      d=\"m19.324999,14.93l0,1.556562l-1.442109,1.419219l-1.442109,1.419219l-1.533672,0l-1.533672,0l0,0.915625l0,0.915625l2.128828,0l2.105937,0l1.785469,-1.785469l1.762578,-1.762578l0,-2.128828l0,-2.105937l-0.915625,0l-0.915625,0l0,1.556562z\"\r\n      fill={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const DroneIcon = (props) => (\r\n  <SvgIcon>\r\n    <line\r\n      x1=\"5\"\r\n      y1=\"5\"\r\n      x2=\"10\"\r\n      y2=\"10\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n    <line\r\n      x1=\"19\"\r\n      y1=\"5\"\r\n      x2=\"14\"\r\n      y2=\"10\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n    <line\r\n      x1=\"10\"\r\n      y1=\"14\"\r\n      x2=\"5\"\r\n      y2=\"19\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n    <line\r\n      x1=\"14\"\r\n      y1=\"14\"\r\n      x2=\"19\"\r\n      y2=\"19\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const ammoSVG = (\r\n  <SvgIcon>\r\n    <path\r\n      id=\"svg_3\"\r\n      d=\"m9.784363,5.661415l0,17.46132\"\r\n      transform=\"rotate(45 9.784362792968757,14.392076492309569) \"\r\n      strokeWidth=\"5\"\r\n      stroke=\"#e5e5e5\"\r\n    />\r\n    <path\r\n      transform=\"rotate(45 17.253654479980472,6.930145263671872) \"\r\n      stroke=\"#e5e5e5\"\r\n      id=\"svg_4\"\r\n      d=\"m17.205661,6.96214l0.017997,-0.06399l0.05999,0l0.017997,0.06399l-0.095984,0z\"\r\n      strokeWidth=\"3.72\"\r\n    />\r\n    <path\r\n      id=\"svg_6\"\r\n      d=\"m18.638913,4.001311l0,3.104507\"\r\n      transform=\"rotate(45 18.638912200927738,5.553564071655272) \"\r\n      strokeWidth=\"3.7\"\r\n      stroke=\"#e5e5e5\"\r\n    />\r\n    <path\r\n      id=\"svg_7\"\r\n      d=\"m17.71106,4.705191c0,-2.952 0.78034,-5.34312 1.74371,-5.34312c0.96338,0 1.74372,2.39112 1.74372,5.34312c0,2.95201 -0.78034,5.34313 -1.74372,5.34313c-0.96337,0 -1.74371,-2.39112 -1.74371,-5.34313z\"\r\n      transform=\"rotate(45 19.454774856567386,4.705195426940916) \"\r\n      strokeWidth=\"0\"\r\n      stroke=\"#333333\"\r\n      fill=\"#e5e5e5\"\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const MiscIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\" M 12 18.923 L 8.686 13 L 5.371 7.077 L 12 7.077 L 18.629 7.077 L 15.314 13 L 12 18.923 Z \"\r\n      fill=\"none\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const CapsuleIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\" M 3.563 11.324 L 3.563 16.203 L 6.582 19.217 L 9.54 16.268 L 14.414 16.268 L 17.371 19.217 L 20.437 16.156 L 20.437 11.324 L 12.105 2.566 L 3.563 11.324 Z \"\r\n      fill=\"none\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\n","export default class Fit {\r\n  static validateChargeSlot = function (slot) {\r\n    if (!slot || !slot.item || !slot.charge) return false;\r\n\r\n    const item = slot.item;\r\n    const charge = slot.charge;\r\n\r\n    // Charge size[attributeID] = 128\r\n    const itemChargeSize = Fit.#common_findAttributeByID(item, 128);\r\n    const chargeChargeSize = Fit.#common_findAttributeByID(charge, 128);\r\n    if (\r\n      !!itemChargeSize &&\r\n      !!chargeChargeSize &&\r\n      itemChargeSize.value !== chargeChargeSize.value\r\n    )\r\n      return false;\r\n\r\n    // Used with (Charge Group)[attributeID] = 604, 605, 606, 609, 610\r\n    const loadableGroupIDs = [604, 605, 606, 609, 610]\r\n      .map((ID) => {\r\n        const attr = Fit.#common_findAttributeByID(item, ID);\r\n        if (!attr) return undefined;\r\n        else return attr.value;\r\n      })\r\n      .filter((value) => value);\r\n    if (loadableGroupIDs.length === 0) return false;\r\n\r\n    if (!loadableGroupIDs.includes(charge.groupID)) return false;\r\n\r\n    // Used with (Launcher Group)[attributeID] = 137,602,603\r\n    // Seems not necessary skip the test and return true\r\n\r\n    return true;\r\n  };\r\n\r\n  static mapSlots_CONFIG = {\r\n    isIterate: {\r\n      ship: false,\r\n      miscSlots: false,\r\n      highSlots: false,\r\n      midSlots: false,\r\n      lowSlots: false,\r\n      rigSlots: false,\r\n      droneSlots: false,\r\n    },\r\n  };\r\n  static mapSlots = function (fit, callback, partialConfig) {\r\n    const config = {\r\n      isIterate: {\r\n        ...Fit.mapSlots_CONFIG.isIterate,\r\n        ...partialConfig.isIterate,\r\n      },\r\n    };\r\n\r\n    return [\r\n      \"ship\",\r\n      \"miscSlots\",\r\n      \"highSlots\",\r\n      \"midSlots\",\r\n      \"lowSlots\",\r\n      \"rigSlots\",\r\n      \"droneSlots\",\r\n    ].reduce((acc, slotName) => {\r\n      if (config.isIterate[slotName] === true)\r\n        return acc.concat(Fit.#mapSlots_slots(fit[slotName], callback));\r\n      else return acc;\r\n    }, []);\r\n  };\r\n  static #mapSlots_slots = function (slots, callback) {\r\n    return slots.map((slot) => {\r\n      return callback(slot);\r\n    });\r\n  };\r\n\r\n  static apply = function (fit) {\r\n    const fitWithDomainID = Fit.#giveDomainID(fit);\r\n\r\n    const board = Fit.#createBoard(fitWithDomainID);\r\n    const staticBoard = Fit.#applyBoard_createStaticBoard(board);\r\n\r\n    return Fit.#applyBoard(fitWithDomainID, staticBoard);\r\n  };\r\n\r\n  static #applyBoard = function (fit, staticBoard) {\r\n    const ship = Fit.#applyBoard_type(fit.ship, staticBoard);\r\n    const miscSlots = Fit.#applyBoard_slots(fit.miscSlots, staticBoard);\r\n    const highSlots = Fit.#applyBoard_slots(fit.highSlots, staticBoard);\r\n    const midSlots = Fit.#applyBoard_slots(fit.midSlots, staticBoard);\r\n    const lowSlots = Fit.#applyBoard_slots(fit.lowSlots, staticBoard);\r\n    const rigSlots = Fit.#applyBoard_slots(fit.rigSlots, staticBoard);\r\n    const droneSlots = Fit.#applyBoard_slots(fit.droneSlots, staticBoard);\r\n\r\n    return {\r\n      ship,\r\n      miscSlots,\r\n      lowSlots,\r\n      midSlots,\r\n      highSlots,\r\n      rigSlots,\r\n      droneSlots,\r\n    };\r\n  };\r\n  static #applyBoard_createStaticBoard = function (board) {\r\n    const staticBoard = {};\r\n    const passiveBoard = Fit.#applyBoard_createPassiveBoard(board);\r\n\r\n    board.forEach((mod) => {\r\n      if (!staticBoard[mod.modifiedAttributeID])\r\n        staticBoard[mod.modifiedAttributeID] = [];\r\n      if (mod.isStatic === true) staticBoard[mod.modifiedAttributeID].push(mod);\r\n      else {\r\n        const appliedMod = Fit.#applyBoard_mod(mod, passiveBoard);\r\n        appliedMod[\"isStatic\"] = true;\r\n        staticBoard[mod.modifiedAttributeID].push(appliedMod);\r\n      }\r\n    });\r\n\r\n    return staticBoard;\r\n  };\r\n  static #applyBoard_createPassiveBoard = function (board) {\r\n    const passiveBoard = {};\r\n\r\n    board.forEach((mod) => {\r\n      if (!passiveBoard[mod.modifiedAttributeID])\r\n        passiveBoard[mod.modifiedAttributeID] = [];\r\n      passiveBoard[mod.modifiedAttributeID].push(mod);\r\n    });\r\n\r\n    return passiveBoard;\r\n  };\r\n  static #applyBoard_slots = function (slots, passiveBoard) {\r\n    return slots.map((slot) => {\r\n      const item = slot.item;\r\n      const charge = slot.charge;\r\n      return {\r\n        ...slot,\r\n        item: Fit.#applyBoard_type(item, passiveBoard),\r\n        charge: Fit.#applyBoard_type(charge, passiveBoard),\r\n      };\r\n    });\r\n  };\r\n  static #applyBoard_type = function (type, passiveBoard) {\r\n    if (!type || !type.typeAttributesStats) return type;\r\n\r\n    const typeAttributesStats = type.typeAttributesStats.map((attribute) => {\r\n      return Fit.#applyBoard_attribute(type, attribute, passiveBoard);\r\n    });\r\n\r\n    return { ...type, typeAttributesStats: typeAttributesStats };\r\n  };\r\n  static #applyBoard_attribute = function (type, attr, passiveBoard) {\r\n    const mods = passiveBoard[attr.attributeID];\r\n    if (!mods || mods.length === 0) return attr;\r\n\r\n    let value = attr.value;\r\n    let penCount = 0;\r\n    if (!!attr.debug || !!attr.falseDebug) console.log(\"ERROR\", \"debugCorrupt\");\r\n    const debug = [];\r\n    const falseDebug = [];\r\n\r\n    Fit.#applyBoard_sortMods(\r\n      mods.map((baseMod) => Fit.#applyBoard_mod(baseMod, passiveBoard))\r\n    ).forEach((mod) => {\r\n      if (Fit.#applyBoard_modIsTypeApplicable(type, mod)) {\r\n        const baseValue = value;\r\n        value = Fit.#common_operation(\r\n          value,\r\n          mod.modifyingAttributeValue,\r\n          mod.operation,\r\n          penCount\r\n        );\r\n        debug.push({\r\n          ...mod,\r\n          penCount,\r\n          values: {\r\n            baseValue: baseValue,\r\n            appliedValue: value,\r\n            penalizedModifyingAttributeValue: Fit.#common_penalizedModifyingValue(\r\n              mod.modifyingAttributeValue,\r\n              mod.operation,\r\n              penCount\r\n            ),\r\n          },\r\n        });\r\n        if (mod.isPenalized === true) penCount++;\r\n      } else falseDebug.push(mod);\r\n    });\r\n\r\n    return { ...attr, value: value, debug, falseDebug };\r\n  };\r\n  static #applyBoard_mod = function (mod, passiveBoard) {\r\n    if (\r\n      mod.modifyingAttributeID === mod.modifiedAttributeID ||\r\n      mod.isStatic === true\r\n    )\r\n      return mod;\r\n\r\n    const mods = passiveBoard[mod.modifyingAttributeID];\r\n    if (!mods || mods.length === 0) return mod;\r\n\r\n    let value = mod.modifyingAttributeValue;\r\n    let penCount = 0;\r\n    if (!!mod.debug || !!mod.falseDebug) console.log(\"ERROR\", \"debugCorrupt\");\r\n    const debug = [];\r\n    const falseDebug = [];\r\n\r\n    Fit.#applyBoard_sortMods(\r\n      mods.map((baseMod) => Fit.#applyBoard_mod(baseMod, passiveBoard))\r\n    ).forEach((appliedMod) => {\r\n      if (Fit.#applyBoard_modIsModApplicable(mod, appliedMod)) {\r\n        const baseValue = value;\r\n        value = Fit.#common_operation(\r\n          value,\r\n          appliedMod.modifyingAttributeValue,\r\n          appliedMod.operation,\r\n          penCount\r\n        );\r\n\r\n        debug.push({\r\n          ...appliedMod,\r\n          penCount,\r\n          values: {\r\n            baseValue: baseValue,\r\n            appliedValue: value,\r\n            penalizedModifyingAttributeValue: Fit.#common_penalizedModifyingValue(\r\n              appliedMod.modifyingAttributeValue,\r\n              appliedMod.operation,\r\n              penCount\r\n            ),\r\n          },\r\n        });\r\n        if (appliedMod.isPenalized === true) penCount++;\r\n      } else falseDebug.push(appliedMod);\r\n    });\r\n\r\n    return { ...mod, modifyingAttributeValue: value, debug, falseDebug };\r\n  };\r\n  static #applyBoard_sortMods = function (mods) {\r\n    const sampleMod = mods[0];\r\n\r\n    let compareFunc = () => true;\r\n    const highIsGood = sampleMod.modifiedAttributeHighIsGood;\r\n    if (highIsGood === true)\r\n      compareFunc = (a, b) => {\r\n        if (a.operation === b.operation)\r\n          return b.modifyingAttributeValue - a.modifyingAttributeValue;\r\n\r\n        if (a.operation === \"prePercent\" || a.operation === \"postPercent\")\r\n          return b.modifyingAttributeValue - a.modifyingAttributeValue - 1;\r\n\r\n        if (b.operation === \"prePercent\" || b.operation === \"postPercent\")\r\n          return 1 + b.modifyingAttributeValue - a.modifyingAttributeValue;\r\n      };\r\n    else if (highIsGood === false)\r\n      compareFunc = (a, b) => {\r\n        if (a.operation === b.operation)\r\n          return a.modifyingAttributeValue - b.modifyingAttributeValue;\r\n\r\n        if (a.operation === \"prePercent\" || a.operation === \"postPercent\")\r\n          return 1 + a.modifyingAttributeValue - b.modifyingAttributeValue;\r\n\r\n        if (b.operation === \"prePercent\" || b.operation === \"postPercent\")\r\n          return a.modifyingAttributeValue - b.modifyingAttributeValue - 1;\r\n      };\r\n    const modStackables = [];\r\n    const modNotStackables = [];\r\n    mods.forEach((mod) => {\r\n      if (\r\n        mod.operation === \"modAdd\" ||\r\n        mod.operation === \"modSub\" ||\r\n        mod.operation === \"postDiv\" ||\r\n        mod.isStackException === true\r\n      )\r\n        modStackables.push(mod);\r\n      else modNotStackables.push(mod);\r\n    });\r\n\r\n    const isModstackable = sampleMod.modifiedAttributeStackable;\r\n\r\n    if (isModstackable === false) {\r\n      modNotStackables.sort(compareFunc);\r\n      modNotStackables.forEach((mod, index, array) => {\r\n        array[index] = { ...mod, isPenalized: true };\r\n      });\r\n    }\r\n    return modStackables.concat(modNotStackables);\r\n  };\r\n  static #applyBoard_modIsModApplicable = function (targetMod, applyMod) {\r\n    if (!Fit.#applyBoard_modIsStateApplicable(applyMod)) {\r\n      /*  if (\r\n        !(\r\n          applyMod.typeState === \"activation\" &&\r\n          applyMod.effectCategory === \"overload\"\r\n        )\r\n      )\r\n        console.log(\r\n          \"STATE\",\r\n          `${applyMod.typeState} <-/- ${applyMod.effectCategory}`,\r\n          targetMod,\r\n          \"<-\",\r\n          applyMod\r\n        ); */ //TESTETS\r\n      return false;\r\n    }\r\n    switch (applyMod.domain) {\r\n      case \"itemID\":\r\n        switch (applyMod.func) {\r\n          case \"ItemModifier\":\r\n            return targetMod.domainID === applyMod.domainID;\r\n          default:\r\n            return false;\r\n        }\r\n      case \"shipID\":\r\n        switch (applyMod.func) {\r\n          case \"ItemModifier\":\r\n            return targetMod.domainID === \"ship\";\r\n          case \"LocationGroupModifier\":\r\n            return targetMod.typeGroupID === applyMod.groupID;\r\n          case \"LocationRequiredSkillModifier\":\r\n            return targetMod?.typeSkills?.includes(applyMod.skillTypeID);\r\n          default:\r\n            return false;\r\n        }\r\n      /*    case \"structureID\":\r\n        return false; */\r\n      default:\r\n        /* console.log(\"UNKNOWN\", targetMod, \"<-\", applyMod); */\r\n        return true;\r\n    }\r\n  };\r\n  static #applyBoard_modIsTypeApplicable = function (type, mod) {\r\n    if (!Fit.#applyBoard_modIsStateApplicable(mod)) {\r\n      /* if (\r\n        !(mod.typeState === \"activation\" && mod.effectCategory === \"overload\")\r\n      )\r\n        console.log(\r\n          \"STATE\",\r\n          `${mod.typeState} <-/- ${mod.effectCategory}`,\r\n          type,\r\n          \"<-\",\r\n          mod\r\n        );  */ //TESTETS\r\n      return false;\r\n    }\r\n    if (type.domainID === undefined) console.log(\"domainID missing\", type);\r\n    switch (mod.domain) {\r\n      case \"itemID\":\r\n        switch (mod.func) {\r\n          case \"ItemModifier\":\r\n            return type.domainID === mod.domainID;\r\n          default:\r\n            /*  console.log(\"UNKNOWN\", type, \"<-\", mod); */ //TESTETS\r\n            return false;\r\n        }\r\n      case \"shipID\":\r\n        switch (mod.func) {\r\n          case \"ItemModifier\":\r\n            return type.domainID === \"ship\";\r\n          case \"LocationGroupModifier\":\r\n            return type.groupID === mod.groupID;\r\n          case \"LocationRequiredSkillModifier\":\r\n            return (\r\n              !!type.typeSkills && type.typeSkills.includes(mod.skillTypeID)\r\n            );\r\n          default:\r\n            /* console.log(\"UNKNOWN\", type, \"<-\", mod); */ //TESTETS\r\n            return false;\r\n        }\r\n      case \"charID\":\r\n        switch (mod.func) {\r\n          case \"OwnerRequiredSkillModifier\":\r\n            return (\r\n              !!type.typeSkills && type.typeSkills.includes(mod.skillTypeID)\r\n            );\r\n          case \"ItemModifier\":\r\n            return true;\r\n          default:\r\n            /* console.log(\"UNKNOWN\", type, \"<-\", mod); */ //TESTETS\r\n            return false;\r\n        }\r\n      case \"otherID\":\r\n        switch (mod.func) {\r\n          case \"ItemModifier\":\r\n            return type.domainID.split(\":\")[0] === mod.domainID.split(\":\")[0];\r\n          default:\r\n            /* console.log(\"UNKNOWN\", type, \"<-\", mod); */ //TESTETS\r\n            return false;\r\n        }\r\n      case \"structureID\":\r\n        return false;\r\n      default:\r\n        /* console.log(\"UNKNOWN\", type, \"<-\", mod); */ //TESTETS\r\n        return true;\r\n    }\r\n  };\r\n  static #applyBoard_modIsStateApplicable = function (mod) {\r\n    switch (mod.typeState) {\r\n      case \"overload\":\r\n        return true;\r\n      case \"activation\":\r\n        switch (mod.effectCategory) {\r\n          case \"overload\":\r\n            return false;\r\n          default:\r\n            return true;\r\n        }\r\n      case \"passive\":\r\n        switch (mod.effectCategory) {\r\n          case \"overload\":\r\n          case \"target\":\r\n          case \"activation\":\r\n            return false;\r\n          default:\r\n            return true;\r\n        }\r\n      case \"offline\":\r\n        switch (mod.effectCategory) {\r\n          default:\r\n            return false;\r\n        }\r\n      default:\r\n        return false;\r\n    }\r\n  };\r\n\r\n  static #giveDomainID = function (fit) {\r\n    const skills = Fit.#giveDomainID_skills(fit.skills);\r\n    const ship = { ...fit.ship, domainID: \"ship\" };\r\n    const miscSlots = Fit.#giveDomainID_slots(fit.miscSlots, \"miscSlots\");\r\n    const lowSlots = Fit.#giveDomainID_slots(fit.lowSlots, \"lowSlots\");\r\n    const midSlots = Fit.#giveDomainID_slots(fit.midSlots, \"midSlots\");\r\n    const highSlots = Fit.#giveDomainID_slots(fit.highSlots, \"highSlots\");\r\n    const rigSlots = Fit.#giveDomainID_slots(fit.rigSlots, \"rigSlots\");\r\n    const droneSlots = Fit.#giveDomainID_slots(fit.droneSlots, \"droneSlots\");\r\n\r\n    return {\r\n      skills,\r\n      ship,\r\n      miscSlots,\r\n      lowSlots,\r\n      midSlots,\r\n      highSlots,\r\n      rigSlots,\r\n      droneSlots,\r\n    };\r\n  };\r\n  static #giveDomainID_slots = function (slots, slotName) {\r\n    if (!slots || slots.constructor !== Array) return undefined;\r\n\r\n    return slots.map((slot, index) => {\r\n      const item = !!slot.item.typeID\r\n        ? { ...slot.item, domainID: `${slotName}(${index}):item` }\r\n        : false;\r\n      const charge = !!slot.charge.typeID\r\n        ? { ...slot.charge, domainID: `${slotName}(${index}):charge` }\r\n        : false;\r\n      return { item, charge };\r\n    });\r\n  };\r\n  static #giveDomainID_skills = function (skillsBoard) {\r\n    if (!skillsBoard || skillsBoard.constructor !== Array) {\r\n      const dogmaSkills = skillsBoard;\r\n      return dogmaSkills;\r\n    } else if (skillsBoard[0].domainID !== undefined) {\r\n      const skillsStaticBoardPlane = skillsBoard;\r\n      return skillsStaticBoardPlane;\r\n    }\r\n    return skillsBoard.map((skill) => ({\r\n      ...skill,\r\n      domainID: `skill:${skill.typeName}`,\r\n    }));\r\n  };\r\n\r\n  static #createBoard = function (fit) {\r\n    // skills will be two type: skills(Object) or pre made skills_modifiers(Array)\r\n    const skills = Fit.#createBoard_skills(fit.skills);\r\n    const ship = Fit.#createBoard_singleType(fit.ship, true);\r\n    const miscSlots = Fit.#createBoard_slots(fit.miscSlots, true);\r\n    const lowSlots = Fit.#createBoard_slots(fit.lowSlots);\r\n    const midSlots = Fit.#createBoard_slots(fit.midSlots);\r\n    const highSlots = Fit.#createBoard_slots(fit.highSlots);\r\n    const rigSlots = Fit.#createBoard_slots(fit.rigSlots);\r\n    const droneSlots = Fit.#createBoard_slots(fit.droneSlots);\r\n\r\n    return [\r\n      ...skills,\r\n      ...ship,\r\n      ...miscSlots,\r\n      ...lowSlots,\r\n      ...midSlots,\r\n      ...highSlots,\r\n      ...rigSlots,\r\n      ...droneSlots,\r\n    ];\r\n  };\r\n  static #createBoard_slots = function (slots, isStackException = false) {\r\n    if (!slots || slots.constructor !== Array) return [];\r\n\r\n    const mods = [];\r\n    slots.forEach((slot) => {\r\n      const itemMods = Fit.#createBoard_singleType(slot.item, isStackException);\r\n      const chargeMods = Fit.#createBoard_singleType(slot.charge, true);\r\n      if (!!itemMods) itemMods.forEach((mod) => mods.push(mod));\r\n      if (!!chargeMods) chargeMods.forEach((mod) => mods.push(mod));\r\n    });\r\n\r\n    return mods;\r\n  };\r\n  static extractSkillsStaticPlaneBoard(dogmaSkills) {\r\n    if (dogmaSkills.constructor !== Object) return [];\r\n\r\n    const skillBoard = Fit.#createBoard_skills(dogmaSkills);\r\n    const skillsStaticBoardMax = Fit.#applyBoard_createStaticBoard(skillBoard);\r\n    const skillsStaticBoardMed = Object.values(skillsStaticBoardMax)\r\n      .reduce((acc, mods) => acc.concat(mods), [])\r\n      .map((mod) => ({ ...mod, debug: undefined, falseDebug: undefined }));\r\n\r\n    return skillsStaticBoardMed;\r\n  }\r\n  static #createBoard_skills = function (dogmaSkills) {\r\n    if (dogmaSkills.constructor === Array) {\r\n      const skillsBoard = dogmaSkills;\r\n      return skillsBoard;\r\n    }\r\n\r\n    return Object.values(dogmaSkills).reduce((acc, dogmaSkill) => {\r\n      const mods = Fit.#createBoard_singleType(dogmaSkill, true);\r\n      const board = mods.map((mod) => ({\r\n        ...mod,\r\n        domainID: `skill:${mod.typeName}`,\r\n      }));\r\n      return acc.concat(board);\r\n    }, []);\r\n  };\r\n  static #createBoard_singleType = function (type, isStackException = false) {\r\n    if (!type) return [];\r\n\r\n    // effectID: 132,effectName: \"skillEffect\",\r\n    const invalidEffectIDs = [132];\r\n    // ExtrovertEffect is effect have modifierInfo\r\n    // Existence of modifierInfo ensures effect affect anonymous attribute with given value\r\n    const extrovertEffects = !!type.typeEffectsStats\r\n      ? type.typeEffectsStats.filter(\r\n          (effect) =>\r\n            effect.modifierInfo !== undefined &&\r\n            !invalidEffectIDs.includes(effect.effectID)\r\n        )\r\n      : [];\r\n\r\n    const mods = [];\r\n    extrovertEffects.forEach((effect) => {\r\n      effect.modifierInfo.forEach((mod) => {\r\n        const modifyingAttribute = Fit.#common_findAttributeByID(\r\n          type,\r\n          mod.modifyingAttributeID\r\n        );\r\n        const modifyingAttributeValue = !!mod.modifyingAttributeValue\r\n          ? mod.modifyingAttributeValue\r\n          : modifyingAttribute?.value;\r\n\r\n        mods.push({\r\n          domainID: type.domainID,\r\n          typeName: type.typeName,\r\n          ...mod,\r\n          effectName: effect.effectName,\r\n          effectCategory: effect.effectCategory,\r\n          modifyingAttributeValue: modifyingAttributeValue,\r\n          typeID: type.typeID,\r\n          typeState: type.iconID !== 33 ? type.typeState : \"passive\",\r\n          typeGroupID: type.groupID,\r\n          typeSkills: type.typeSkills,\r\n          isStackException:\r\n            mod.isStackException !== undefined\r\n              ? mod.isStackException\r\n              : isStackException,\r\n        });\r\n      });\r\n    });\r\n\r\n    return mods;\r\n  };\r\n  static getCurrentState = function (type) {\r\n    return Fit.#createBoard_setState(type);\r\n  };\r\n  static getInitialState = function (type) {\r\n    if (!type || !type.typeEffectsStats) return undefined;\r\n    if (type.iconID === 33) return \"passive\"; // if type is skill\r\n\r\n    return type.typeEffectsStats.reduce((acc, efft) => {\r\n      if (\r\n        (efft.effectCategory === \"activation\" && efft.effectID !== 16) ||\r\n        efft.effectCategory === \"target\"\r\n      )\r\n        //effectCategory: \"activation\", effectID: 16, effectName: \"online\"\r\n        return \"activation\";\r\n\r\n      return acc;\r\n    }, \"passive\");\r\n  };\r\n  static #createBoard_setState = function (type) {\r\n    if (!type && type !== 0) return undefined;\r\n    if (!type.typeEffectsStats || type.iconID === 33) return \"passive\"; // if type is skill\r\n    const initialState = type.typeEffectsStats.reduce((acc, efft) => {\r\n      if (\r\n        (efft.effectCategory === \"activation\" && efft.effectID !== 16) ||\r\n        efft.effectCategory === \"target\"\r\n      )\r\n        //effectCategory: \"activation\", effectID: 16, effectName: \"online\"\r\n        return \"activation\";\r\n\r\n      return acc;\r\n    }, \"passive\");\r\n    const currentState = type.typeState;\r\n\r\n    if (currentState === undefined) return initialState;\r\n    if (initialState === \"passive\" && currentState === \"activation\")\r\n      return \"passive\";\r\n    return currentState;\r\n  };\r\n\r\n  static #common_findAttributeByID = function (type, attributeID) {\r\n    if (!type || !type.typeAttributesStats) return undefined;\r\n    if (type.typeAttributesStats.constructor !== Array) return undefined;\r\n\r\n    const attribute = type.typeAttributesStats.find(\r\n      (entry) => entry.attributeID === attributeID\r\n    );\r\n\r\n    return attribute;\r\n  };\r\n  static #common_operation = function (\r\n    baseValue,\r\n    applyValue,\r\n    operation,\r\n    penCount\r\n  ) {\r\n    //TODO: findout why does eve developers make shit like this typeID=31760 effect is weird\r\n    if (applyValue === undefined) return baseValue;\r\n\r\n    let value = baseValue;\r\n    switch (operation) {\r\n      case \"preMul\":\r\n      case \"postMul\":\r\n        value = Fit.#oepration_mul(baseValue, applyValue, penCount);\r\n        break;\r\n      case \"prePercent\":\r\n      case \"postPercent\":\r\n        value = Fit.#oepration_per(baseValue, applyValue, penCount);\r\n        break;\r\n      case \"modAdd\":\r\n        value = Fit.#operation_add(baseValue, applyValue);\r\n        break;\r\n      case \"modSub\":\r\n        value = Fit.#operation_sub(baseValue, applyValue);\r\n        break;\r\n      case \"postDiv\":\r\n        value = Fit.#operation_div(baseValue, applyValue);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return value;\r\n  };\r\n  static #oepration_mul = function (baseValue, mulValue, penCount = 0) {\r\n    return baseValue * ((mulValue - 1) * Fit.#common_penaltyMul(penCount) + 1);\r\n  };\r\n  static #oepration_per = function (baseValue, perValue, penCount = 0) {\r\n    return (\r\n      baseValue * ((perValue / 100) * Fit.#common_penaltyMul(penCount) + 1)\r\n    );\r\n  };\r\n  static #operation_add = function (baseValue, addValue) {\r\n    return baseValue + addValue;\r\n  };\r\n  static #operation_sub = function (baseValue, subValue) {\r\n    return baseValue - subValue;\r\n  };\r\n  static #operation_div = function (baseValue, divValue) {\r\n    return baseValue / divValue;\r\n  };\r\n  static #common_penaltyMul = function (penCount) {\r\n    return Math.pow(Math.E, -0.140274 * penCount * penCount);\r\n  };\r\n  static #common_penalizedModifyingValue = function (\r\n    applyValue,\r\n    operation,\r\n    penCount\r\n  ) {\r\n    switch (operation) {\r\n      case \"preMul\":\r\n      case \"postMul\":\r\n        return 1 + Fit.#common_penaltyMul(penCount) * (applyValue - 1);\r\n      case \"prePercent\":\r\n      case \"postPercent\":\r\n        return Fit.#common_penaltyMul(penCount) * applyValue;\r\n      case \"modAdd\":\r\n      case \"modSub\":\r\n        return applyValue;\r\n      case \"postDiv\":\r\n        return applyValue / Fit.#common_penaltyMul(penCount);\r\n      default:\r\n        return applyValue;\r\n    }\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { Badge, Avatar, makeStyles, useTheme } from \"@material-ui/core\";\r\nimport { useCallback } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport AdjustIcon from \"@material-ui/icons/Adjust\";\r\nimport Fit from \"../../../fitter/src/Fit\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  rootAvatar: {\r\n    width: 20,\r\n    height: 20,\r\n    right: 15,\r\n    bottom: 3,\r\n    fontSize: 12,\r\n    fontWeight: 700,\r\n    transition: theme.transitions.create(\"color\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n}));\r\n\r\nexport default function SlotChargeBadge(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [badgeColor, setBadgeColor] = useState({\r\n    color: theme.palette.text.primary,\r\n    backgroundColor: theme.palette.background.paper,\r\n  });\r\n  const [badgeIcon, setBadgeIcon] = useState(false);\r\n\r\n  const handleBadgeClick = useCallback(\r\n    (e) => {\r\n      e.stopPropagation();\r\n      if (props.variant !== \"DRONE_SLOT\")\r\n        props.dispatchSlotsOpen({\r\n          type: \"AMMO\",\r\n          payload: {\r\n            slotVariant: props.variant,\r\n            filter: getLoadableGroup(props.item),\r\n          },\r\n        });\r\n      props.setActiveSlotNumber(props.index);\r\n      props.setActiveSlot({\r\n        type: props.variant,\r\n        index: props.index,\r\n      });\r\n    },\r\n    [props.index, props.variant, props.item]\r\n  );\r\n  useEffect(() => {\r\n    if (props.count !== undefined && props.count.constructor === Number) {\r\n      // count of item\r\n      setBadgeIcon(`${props.count}`);\r\n    } else if (!props.charge) {\r\n      // No charge loaded\r\n      setBadgeIcon(<AddCircleOutlineIcon fontSize=\"small\" />);\r\n      setBadgeColor({\r\n        color: theme.palette.text.primary,\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: `0.1px solid ${theme.palette.background.paper}`,\r\n      });\r\n    } else if (\r\n      !Fit.validateChargeSlot({ item: props.item, charge: props.charge })\r\n    ) {\r\n      // Charge not compatible\r\n      setBadgeColor({\r\n        color: theme.palette.background.paper,\r\n        backgroundColor: theme.palette.property.red,\r\n      });\r\n      setBadgeIcon(<HighlightOffIcon fontSize=\"small\" />);\r\n    } else {\r\n      // Charge loaded\r\n      setBadgeColor({\r\n        color: theme.palette.text.primary,\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: `0.1px solid ${theme.palette.background.paper}`,\r\n      });\r\n      setBadgeIcon(<AdjustIcon fontSize=\"small\" />);\r\n    }\r\n  }, [props.charge?.typeID, props.item?.typeID, props.count, theme]);\r\n\r\n  return (\r\n    <Badge\r\n      overlap=\"circle\"\r\n      anchorOrigin={{\r\n        vertical: \"bottom\",\r\n        horizontal: \"right\",\r\n      }}\r\n      badgeContent={\r\n        getLoadableGroup(props.item).group.length > 0 ||\r\n        isDisplyCount(props.count) ? (\r\n          <Avatar\r\n            className={classes.rootAvatar}\r\n            style={{\r\n              ...badgeColor,\r\n            }}\r\n            onClick={handleBadgeClick}\r\n          >\r\n            {badgeIcon}\r\n          </Avatar>\r\n        ) : undefined\r\n      }\r\n    >\r\n      {props.children}\r\n    </Badge>\r\n  );\r\n}\r\nfunction isDisplyCount(count) {\r\n  if (count !== undefined && count.constructor === Number) return true;\r\n  return false;\r\n}\r\n\r\nexport function getLoadableGroup(item) {\r\n  if (!item || !item.typeAttributesStats) return { group: [], size: false };\r\n\r\n  const typeAttributesStats = item.typeAttributesStats;\r\n\r\n  // Used with (Charge Group)[attributeID] = 604, 605, 606, 609, 610\r\n  const loadableGroupIDs = [604, 605, 606, 609, 610]\r\n    .map((ID) => {\r\n      const attr = typeAttributesStats.find((attr) => attr.attributeID === ID);\r\n      if (!attr) return undefined;\r\n      else return attr.value;\r\n    })\r\n    .filter((value) => value);\r\n\r\n  // Charge size[attributeID] = 128\r\n  const loadableSize = typeAttributesStats.find(\r\n    (attr) => attr.attributeID === 128\r\n  );\r\n\r\n  return {\r\n    group: loadableGroupIDs,\r\n    size: loadableSize?.value,\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles, Badge, Avatar } from \"@material-ui/core\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  rootAvatar: {\r\n    width: 10,\r\n    height: 10,\r\n    right: 15,\r\n    top: 3,\r\n    fontSize: 1,\r\n  },\r\n}));\r\n\r\nexport default function SlotMetaBadge(props) {\r\n  const classes = useStyle();\r\n\r\n  return (\r\n    <Badge\r\n      overlap=\"circle\"\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      badgeContent={\r\n        getTechColor(props.item) && (\r\n          <Avatar\r\n            style={{\r\n              backgroundColor: getTechColor(props.item),\r\n            }}\r\n            className={classes.rootAvatar}\r\n          >\r\n            {\"\"}\r\n          </Avatar>\r\n        )\r\n      }\r\n    >\r\n      {props.children}\r\n    </Badge>\r\n  );\r\n}\r\nfunction getTechColor(item) {\r\n  if (!item) return undefined;\r\n\r\n  const typeMetaGroupID = item.metaGroupID;\r\n  switch (typeMetaGroupID) {\r\n    //tech1\r\n    case 1:\r\n      return undefined;\r\n    //tech2\r\n    case 2:\r\n      return \"#f59500\";\r\n    //story\r\n    case 3:\r\n      return \"#78bf36\";\r\n    //faction\r\n    case 4:\r\n      return \"#086101\";\r\n    //officer\r\n    case 5:\r\n      return \"#340E73\";\r\n    //dead\r\n    case 6:\r\n      return \"#3660bf\";\r\n    //tech3\r\n    case 14:\r\n      return \"#9F3A03\";\r\n    //abyssal\r\n    case 15:\r\n      return \"#ad0000\";\r\n    default:\r\n      return undefined;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Button, makeStyles, useTheme } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    borderRadius: 0,\r\n    width: 40,\r\n  },\r\n}));\r\n\r\nexport default function RecButton(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Button\r\n      {...props}\r\n      classes={{ root: classes.root }}\r\n      variant=\"contained\"\r\n      style={\r\n        props.disabled === true\r\n          ? {\r\n              ...props.style,\r\n              backgroundColor: theme.palette.action.hover,\r\n              color: theme.palette.background.paper,\r\n            }\r\n          : { ...props.style }\r\n      }\r\n      disableElevation\r\n    >\r\n      {props.children}\r\n    </Button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { Popover } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function RecMenu(props) {\r\n  const [open, setOpen] = useState(false);\r\n  const anchor = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!props.open && open === true) setOpen(false);\r\n  }, [props.open]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        ref={anchor}\r\n        onClick={() => {\r\n          if (props.menuButton.props.disabled !== true) setOpen(!open);\r\n        }}\r\n      >\r\n        {props.menuButton}\r\n      </div>\r\n\r\n      <Popover\r\n        open={props.open && open}\r\n        anchorEl={anchor.current}\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n        onClose={() => setOpen(false)}\r\n        PaperProps={{\r\n          style: { width: anchor.current?.clientWidth },\r\n          elevation: 0,\r\n          square: true,\r\n        }}\r\n        container={anchor.current}\r\n      >\r\n        {props.children}\r\n      </Popover>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { SvgIcon } from \"@material-ui/core\";\r\n\r\nexport const OverloadIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\" M 7.449 2.745 Q 7.108 5.589 9.411 8.575 C 11.991 11.918 6.369 12.954 8.473 15.342 C 10.577 17.731 9.657 19.095 9.212 19.437 C 8.843 19.722 7.165 19.693 6.084 17.731 C 5.004 15.769 4.918 13.466 7.449 11.134 Q 9.98 8.802 6.795 7.523 L 7.449 2.745 Z \"\r\n      fill={props.color || \"#ffffff\"}\r\n    />\r\n    <path\r\n      d=\" M 11.761 2.745 Q 11.42 5.589 13.723 8.575 C 16.303 11.918 10.681 12.954 12.785 15.342 C 14.889 17.731 13.969 19.095 13.524 19.437 C 13.155 19.722 11.477 19.693 10.396 17.731 C 9.316 15.769 9.231 13.466 11.761 11.134 Q 14.292 8.802 11.107 7.523 L 11.761 2.745 Z \"\r\n      fill={props.color || \"#ffffff\"}\r\n    />\r\n    <path\r\n      d=\" M 15.978 2.745 Q 15.636 5.589 17.94 8.575 C 20.519 11.918 14.897 12.954 17.001 15.342 C 19.106 17.731 18.185 19.095 17.741 19.437 C 17.371 19.722 15.693 19.693 14.613 17.731 C 13.532 15.769 13.447 13.466 15.978 11.134 Q 18.508 8.802 15.324 7.523 L 15.978 2.745 Z \"\r\n      fill={props.color || \"#ffffff\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const ActivationIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\" M 16.746 12 L 12 14.74 L 7.254 17.48 L 7.254 12 L 7.254 6.52 L 12 9.26 L 16.746 12 Z \"\r\n      fill={props.color || \"#ffffff\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\n\r\nexport const OfflineIcon = (props) => (\r\n  <SvgIcon>\r\n    <line\r\n      x1=\"14.742\"\r\n      y1=\"6.625\"\r\n      x2=\"14.742\"\r\n      y2=\"17.375\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#ffffff\"}\r\n    />\r\n    <line\r\n      x1=\"9.258\"\r\n      y1=\"6.625\"\r\n      x2=\"9.258\"\r\n      y2=\"17.375\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#ffffff\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const PassiveIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\" M 7.073 12 C 7.073 9.281 9.281 7.073 12 7.073 C 14.719 7.073 16.927 9.281 16.927 12 C 16.927 14.719 14.719 16.927 12 16.927 C 9.281 16.927 7.073 14.719 7.073 12 Z \"\r\n      fill=\"none\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#ffffff\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\n","import React from \"react\";\r\nimport RecButton from \"../RecButton\";\r\nimport RecMenu from \"../RecMenu\";\r\nimport Fit from \"../../../fitter/src/Fit\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { makeStyles, Tooltip, useTheme } from \"@material-ui/core\";\r\nimport {\r\n  PassiveIcon,\r\n  ActivationIcon,\r\n  OverloadIcon,\r\n  OfflineIcon,\r\n} from \"../../Icons/stateIcons\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  rootButton: {\r\n    width: \"100%\",\r\n    minWidth: 20,\r\n  },\r\n  overloadButton: {\r\n    width: \"100%\",\r\n    minWidth: 20,\r\n    backgroundColor: theme.palette.property.red,\r\n  },\r\n  activationButton: {\r\n    width: \"100%\",\r\n    minWidth: 20,\r\n    backgroundColor: theme.palette.property.green,\r\n  },\r\n  passiveButton: {\r\n    width: \"100%\",\r\n    minWidth: 20,\r\n    backgroundColor: theme.palette.property.orange,\r\n  },\r\n  offlineButton: {\r\n    width: \"100%\",\r\n    minWidth: 20,\r\n    backgroundColor: theme.palette.property.grey,\r\n  },\r\n}));\r\n\r\nconst OverloadButton = (props) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Tooltip title=\"Overload\" placement=\"left\" arrow>\r\n      <div>\r\n        <RecButton\r\n          className={classes.overloadButton}\r\n          onClick={() => {\r\n            props.dispatchListItems({\r\n              type: props.variant,\r\n              payload: \"overload\",\r\n            });\r\n          }}\r\n          disabled={props.disabled}\r\n        >\r\n          <OverloadIcon\r\n            color={\r\n              props.disabled\r\n                ? theme.palette.background.paper\r\n                : theme.palette.button.color\r\n            }\r\n          />\r\n        </RecButton>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\nconst ActivationButton = (props) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Tooltip title=\"Active\" placement=\"left\" arrow>\r\n      <div>\r\n        <RecButton\r\n          className={classes.activationButton}\r\n          onClick={() => {\r\n            props.dispatchListItems({\r\n              type: props.variant,\r\n              payload: \"activation\",\r\n            });\r\n          }}\r\n          disabled={props.disabled}\r\n        >\r\n          <ActivationIcon\r\n            color={\r\n              props.disabled\r\n                ? theme.palette.background.paper\r\n                : theme.palette.button.color\r\n            }\r\n          />\r\n        </RecButton>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\nconst PassiveButton = (props) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Tooltip title=\"Online\" placement=\"left\" arrow>\r\n      <div>\r\n        <RecButton\r\n          className={classes.passiveButton}\r\n          onClick={() => {\r\n            props.dispatchListItems({\r\n              type: props.variant,\r\n              payload: \"passive\",\r\n            });\r\n          }}\r\n          disabled={props.disabled}\r\n        >\r\n          <PassiveIcon\r\n            color={\r\n              props.disabled\r\n                ? theme.palette.background.paper\r\n                : theme.palette.button.color\r\n            }\r\n          />\r\n        </RecButton>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\nconst OfflineButton = (props) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Tooltip title=\"Offline\" placement=\"left\" arrow>\r\n      <div>\r\n        <RecButton\r\n          className={classes.offlineButton}\r\n          onClick={() => {\r\n            props.dispatchListItems({\r\n              type: props.variant,\r\n              payload: \"offline\",\r\n            });\r\n          }}\r\n          disabled={props.disabled}\r\n        >\r\n          <OfflineIcon\r\n            color={\r\n              props.disabled\r\n                ? theme.palette.background.paper\r\n                : theme.palette.button.color\r\n            }\r\n          />\r\n        </RecButton>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default function SetStateMenu(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [isActiveModule, setIsActiveModule] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const initialState = Fit.getInitialState(props.activeItem);\r\n    switch (initialState) {\r\n      case \"activation\":\r\n        setIsActiveModule(true);\r\n        break;\r\n      case \"passive\":\r\n        setIsActiveModule(false);\r\n        break;\r\n      default:\r\n        setIsActiveModule(undefined);\r\n    }\r\n  }, [props.activeItem?.typeID]);\r\n\r\n  return (\r\n    <RecMenu\r\n      open={props.slotsOpen[props.variant].open}\r\n      menuButton={\r\n        <RecButton\r\n          className={classes.rootButton}\r\n          style={{\r\n            backgroundColor: getCurrentStateColor(\r\n              props.activeItem?.typeState,\r\n              props.variant === \"AMMO\",\r\n              theme\r\n            ),\r\n          }}\r\n          disabled={!props.activeItem?.typeID}\r\n        >\r\n          <Tooltip title=\"Item state\" placement=\"bottom\" arrow>\r\n            <div style={{ height: 24 }}>\r\n              {getCurrentStateIcon(\r\n                props.activeItem?.typeState,\r\n                props.variant === \"AMMO\",\r\n                !props.activeItem?.typeID,\r\n                theme\r\n              )}\r\n            </div>\r\n          </Tooltip>\r\n        </RecButton>\r\n      }\r\n    >\r\n      <OverloadButton\r\n        variant={props.variant}\r\n        dispatchListItems={props.dispatchListItems}\r\n        disabled={\r\n          !isActiveModule ||\r\n          props.variant === \"DRONE_SLOT\" ||\r\n          props.variant === \"AMMO\"\r\n        }\r\n      />\r\n      <ActivationButton\r\n        variant={props.variant}\r\n        dispatchListItems={props.dispatchListItems}\r\n        disabled={!isActiveModule || props.variant === \"AMMO\"}\r\n      />\r\n      <PassiveButton\r\n        variant={props.variant}\r\n        dispatchListItems={props.dispatchListItems}\r\n      />\r\n      <OfflineButton\r\n        variant={props.variant}\r\n        dispatchListItems={props.dispatchListItems}\r\n        disabled={props.variant === \"AMMO\"}\r\n      />\r\n    </RecMenu>\r\n  );\r\n}\r\nexport function getCurrentStateColor(state, isAmmo = false, theme) {\r\n  if (isAmmo === true) return theme.palette.property.org;\r\n  switch (state) {\r\n    case \"overload\":\r\n      return theme.palette.property.red;\r\n    case \"activation\":\r\n      return theme.palette.property.green;\r\n    case \"passive\":\r\n      return theme.palette.property.org;\r\n    case \"offline\":\r\n      return theme.palette.property.grey;\r\n    default:\r\n      return theme.palette.action.hover;\r\n  }\r\n}\r\nfunction getCurrentStateIcon(state, isAmmo, isDisabled, theme) {\r\n  if (isAmmo === true)\r\n    return (\r\n      <PassiveIcon\r\n        color={\r\n          isDisabled\r\n            ? theme.palette.background.paper\r\n            : theme.palette.button.color\r\n        }\r\n      />\r\n    );\r\n  switch (state) {\r\n    case \"overload\":\r\n      return (\r\n        <OverloadIcon\r\n          color={\r\n            isDisabled\r\n              ? theme.palette.background.paper\r\n              : theme.palette.button.color\r\n          }\r\n        />\r\n      );\r\n    case \"activation\":\r\n      return (\r\n        <ActivationIcon\r\n          color={\r\n            isDisabled\r\n              ? theme.palette.background.paper\r\n              : theme.palette.button.color\r\n          }\r\n        />\r\n      );\r\n    case \"passive\":\r\n      return (\r\n        <PassiveIcon\r\n          color={\r\n            isDisabled\r\n              ? theme.palette.background.paper\r\n              : theme.palette.button.color\r\n          }\r\n        />\r\n      );\r\n    case \"offline\":\r\n    default:\r\n      return (\r\n        <OfflineIcon\r\n          color={\r\n            isDisabled\r\n              ? theme.palette.background.paper\r\n              : theme.palette.button.color\r\n          }\r\n        />\r\n      );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  ListItem,\r\n  makeStyles,\r\n  ListItemText,\r\n  Avatar,\r\n  Tooltip,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport {\r\n  HighSlotIcon,\r\n  MidSlotIcon,\r\n  LowSlotIcon,\r\n  RigSlotIcon,\r\n  DroneIcon,\r\n  CapsuleIcon,\r\n  MiscIcon,\r\n} from \"../../Icons/slotIcons.jsx\";\r\nimport SlotChargeBadge from \"./SlotChargeBadge.jsx\";\r\nimport { useEffect } from \"react\";\r\nimport { useCallback } from \"react\";\r\nimport SlotMetaBadge from \"./SlotMetaBadge.jsx\";\r\nimport { getCurrentStateColor } from \"../ListDrawer/SetStateMenu.jsx\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: 50,\r\n    width: \"110%\",\r\n    minWidth: 60,\r\n  },\r\n  rootActive: {\r\n    height: 50,\r\n    width: \"110%\",\r\n    minWidth: 60,\r\n    backgroundColor: theme.palette.action.hover,\r\n  },\r\n  rootDiv: {\r\n    position: \"absolute\",\r\n    left: 0,\r\n    top: 0,\r\n  },\r\n  rootAvatarHover: {\r\n    width: 40,\r\n    height: 40,\r\n    marginLeft: 10,\r\n    marginTop: 4,\r\n    backgroundColor: theme.palette.action.hover,\r\n    border: `0.1px solid ${theme.palette.divider}`,\r\n    marginRight: 20,\r\n  },\r\n  rootAvatarDefault: {\r\n    width: 40,\r\n    height: 40,\r\n    marginLeft: 10,\r\n    marginTop: 4,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: `0.1px solid ${theme.palette.divider}`,\r\n    marginRight: 20,\r\n  },\r\n  stateArcBorder: {\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: \"50%\",\r\n    border: \"3px solid\",\r\n    borderLeftColor: \"transparent\",\r\n    borderRightColor: \"transparent\",\r\n    borderTopColor: \"transparent\",\r\n    borderBottomColor: \"transparent\",\r\n    position: \"absolute\",\r\n    top: 2,\r\n    left: 7,\r\n  },\r\n}));\r\n\r\nexport default function Slot(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [item, setItem] = useState(false);\r\n  const [charge, setCharge] = useState(false);\r\n\r\n  const [isHover, setIsHover] = useState(false);\r\n\r\n  const handlePressOpen = useCallback(() => {\r\n    props.setActiveSlotNumber(props.index);\r\n    switch (props.variant) {\r\n      case \"RIG_SLOT\":\r\n        props.dispatchSlotsOpen({\r\n          type: \"RIG_SLOT\",\r\n          payload: {\r\n            filter: getLoadableRig(props.slots.ship),\r\n          },\r\n        });\r\n        break;\r\n      case \"DRONE_SLOT\":\r\n        props.dispatchSlotsOpen({\r\n          type: \"DRONE_SLOT\",\r\n          payload: {\r\n            filter: getLoadableDrone(props.slots.ship),\r\n          },\r\n        });\r\n        break;\r\n      default:\r\n        props.dispatchSlotsOpen({ type: props.variant });\r\n        break;\r\n    }\r\n  }, [props.slots.ship?.typeID, props.variant, props.index]);\r\n\r\n  useEffect(() => {\r\n    if (props.isActive === true || props.isActive.open === true) {\r\n      props.setActiveSlot({\r\n        type: props.variant,\r\n        index: props.index,\r\n      });\r\n    }\r\n  }, [props.isActive]);\r\n\r\n  useEffect(() => {\r\n    const type = props.fetchedItem;\r\n    if (!type || !type.typeID) setItem(false);\r\n    else setItem(props.fetchedItem);\r\n  }, [props.fetchedItem?.typeID]);\r\n\r\n  useEffect(() => {\r\n    const type = props.fetchedCharge;\r\n    if (!type || !type.typeID) setCharge(false);\r\n    else setCharge(props.fetchedCharge);\r\n  }, [props.fetchedCharge?.typeID]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ListItem\r\n        className={props.isActive ? classes.rootActive : classes.root}\r\n        onClick={handlePressOpen}\r\n        dense\r\n        button\r\n      >\r\n        <div\r\n          className={classes.rootDiv}\r\n          onMouseEnter={() => {\r\n            setIsHover(true);\r\n          }}\r\n          onMouseLeave={() => {\r\n            setIsHover(false);\r\n          }}\r\n        >\r\n          <SlotChargeBadge\r\n            {...props}\r\n            item={item}\r\n            charge={charge}\r\n            count={props.fetchedItem?.typeCount}\r\n          >\r\n            <SlotMetaBadge item={item}>\r\n              <div\r\n                className={classes.stateArcBorder}\r\n                style={{\r\n                  borderLeftColor: getCurrentStateColor(\r\n                    props?.fetchedItem?.typeState,\r\n                    false,\r\n                    theme\r\n                  ),\r\n                }}\r\n              />\r\n              <Avatar\r\n                className={\r\n                  isHover ? classes.rootAvatarHover : classes.rootAvatarDefault\r\n                }\r\n              >\r\n                {!!item ? feedSource(item, charge) : slotIcon(props, theme)}\r\n              </Avatar>\r\n            </SlotMetaBadge>\r\n          </SlotChargeBadge>\r\n        </div>\r\n\r\n        <ListItemText\r\n          style={{ marginLeft: 50 }}\r\n          primary={item?.typeName}\r\n          primaryTypographyProps={{ noWrap: true, variant: \"subtitle2\" }}\r\n          secondary={\r\n            !!charge &&\r\n            `${charge?.typeName} ${getChageCountString(item, charge)}`\r\n          }\r\n          secondaryTypographyProps={{ noWrap: true, variant: \"subtitle2\" }}\r\n        />\r\n      </ListItem>\r\n    </React.Fragment>\r\n  );\r\n}\r\nfunction feedSource(item, charge) {\r\n  if (!!item && !charge)\r\n    return (\r\n      <img\r\n        draggable=\"false\"\r\n        style={{ width: \"100%\", height: \"100%\" }}\r\n        src={`https://images.evetech.net/types/${item?.typeID}/icon?size=64`}\r\n      />\r\n    );\r\n  else if (!!item && !!charge)\r\n    return (\r\n      <img\r\n        draggable=\"false\"\r\n        style={{ width: \"100%\", height: \"100%\" }}\r\n        src={`https://images.evetech.net/types/${charge?.typeID}/icon?size=64`}\r\n      />\r\n    );\r\n}\r\nfunction getChageCountString(item, charge) {\r\n  const count = item.capacity / charge.volume || 1;\r\n  if (count === 1) return \"\";\r\n  else return `x${Math.floor(count)}`;\r\n}\r\nfunction getLoadableRig(ship) {\r\n  if (!ship) return undefined;\r\n\r\n  const attrs = ship.typeAttributesStats;\r\n  const rigSize = attrs.find((attr) => attr.attributeID === 1547)?.value;\r\n  return { size: rigSize };\r\n}\r\nfunction getLoadableDrone(ship) {\r\n  if (!ship) return undefined;\r\n\r\n  const attrs = ship.typeAttributesStats;\r\n  const droneSize = attrs.find((attr) => attr.attributeID === 1271)?.value; //attributeID: 1271, attributeName: \"Drone Bandwidth\"\r\n  return { size: droneSize };\r\n}\r\n\r\nfunction slotIcon(props, theme) {\r\n  switch (props.variant) {\r\n    case \"SHIP\":\r\n      return (\r\n        <Tooltip\r\n          open={props.open && !props.slotsOpen.SHIP.open}\r\n          title=\"Click here to choose ship\"\r\n          placement=\"right\"\r\n          arrow\r\n        >\r\n          <div style={{ height: 24 }}>\r\n            <CapsuleIcon color={theme.palette.text.primary} />\r\n          </div>\r\n        </Tooltip>\r\n      );\r\n    case \"MISC_SLOT\":\r\n      return <MiscIcon color={theme.palette.text.primary} />;\r\n    case \"HIGH_SLOT\":\r\n      return <HighSlotIcon color={theme.palette.text.primary} />;\r\n    case \"MID_SLOT\":\r\n      return <MidSlotIcon color={theme.palette.text.primary} />;\r\n    case \"LOW_SLOT\":\r\n      return <LowSlotIcon color={theme.palette.text.primary} />;\r\n    case \"RIG_SLOT\":\r\n      return <RigSlotIcon color={theme.palette.text.primary} />;\r\n    case \"DRONE_SLOT\":\r\n      return <DroneIcon color={theme.palette.text.primary} />;\r\n  }\r\n}\r\n","export default class EFT {\r\n  static extractIDs(fitText, typeIDs) {\r\n    if (!typeIDs) return [];\r\n\r\n    const typeNames = EFT.#extractIDs_getTypeNames(fitText);\r\n    return typeNames.reduce((acc, typeName) => {\r\n      const type = typeIDs.find((typeID) => typeID.typeName === typeName);\r\n      if (!!type) acc.push(type.typeID);\r\n      else console.log(\"ERROR\", \"EFT:typeName is not found\", typeName);\r\n      return acc;\r\n    }, []);\r\n  }\r\n  static #extractIDs_getTypeNames = function (fitText) {\r\n    const shipText = fitText.slice(0, fitText.indexOf(\"]\") + 1);\r\n    const moduleText = fitText.substring(fitText.indexOf(\"]\") + 1);\r\n\r\n    const shipName = shipText.replace(\"[\", \"\").split(\",\")[0];\r\n    const moduleNames = [\r\n      ...new Set(\r\n        moduleText.split(/\\r?\\n/).reduce((acc, moduleTextLine) => {\r\n          const dividedByComma = moduleTextLine.split(\", \");\r\n          const dividedByX = moduleTextLine.split(\" x\");\r\n\r\n          if (dividedByComma.length === 2) {\r\n            const item = dividedByComma[0];\r\n            const charge = dividedByComma[1];\r\n            return acc.concat([item, charge]);\r\n          }\r\n          if (dividedByX.length === 2) {\r\n            const item = dividedByX[0];\r\n            return acc.concat([item]);\r\n          }\r\n\r\n          if (moduleTextLine !== \"\") return acc.concat(moduleTextLine);\r\n          return acc;\r\n        }, [])\r\n      ),\r\n    ];\r\n    return [shipName, ...moduleNames];\r\n  };\r\n\r\n  static buildFitFromText = function (fitText, typeIDs) {\r\n    const shipTextLine = fitText.slice(0, fitText.indexOf(\"]\") + 1);\r\n    const shipName = shipTextLine.replace(\"[\", \"\").split(\",\")[0];\r\n    const ship = EFT.#common_findIdByName(shipName, typeIDs);\r\n\r\n    const fitTextBlocks = fitText.split(/\\r?\\n\\r?\\n\\r?\\n/);\r\n    const moduleText = EFT.#buildFitFromText_getModuleText(fitTextBlocks);\r\n    const droneText = fitTextBlocks[1]; //At this point we dont know wether this text is drone or not\r\n\r\n    const moduleSlots = EFT.#buildFitFromText_buildModules(moduleText, typeIDs);\r\n    const droneSlots = EFT.#buildFitFromText_buildDrones(droneText, typeIDs);\r\n\r\n    return { ship, ...moduleSlots, ...droneSlots };\r\n  };\r\n  static #buildFitFromText_getModuleText = function (fitTextBlocks) {\r\n    const indexOfModuleText = fitTextBlocks[0].indexOf(\"]\") + 1;\r\n    const moduleText = fitTextBlocks[0].substring(indexOfModuleText);\r\n    return moduleText.trimStart();\r\n  };\r\n  static #buildFitFromText_buildModules = function (moduleText, typeIDs) {\r\n    const moduleTextBlocks = moduleText.split(/\\r?\\n\\r?\\n/);\r\n\r\n    const moduleSlots = {};\r\n    [\"lowSlots\", \"midSlots\", \"highSlots\", \"rigSlots\", \"miscSlots\"].forEach(\r\n      (slot, index) => {\r\n        moduleSlots[slot] = EFT.#buildFitFromText_buildModule(\r\n          moduleTextBlocks[index],\r\n          typeIDs\r\n        );\r\n      }\r\n    );\r\n\r\n    return moduleSlots;\r\n  };\r\n  static #buildFitFromText_buildModule = function (moduleTextBlock, typeIDs) {\r\n    if (!moduleTextBlock) return [];\r\n\r\n    const moduleTextLines = moduleTextBlock.split(/\\r?\\n/);\r\n    return moduleTextLines.map((moduleTextLine) => {\r\n      if (moduleTextLine.indexOf(\"Empty\") !== -1)\r\n        return { item: false, chage: false };\r\n      else {\r\n        const itemName = moduleTextLine.split(\", \")[0];\r\n        const chargeName = moduleTextLine.split(\", \")[1];\r\n        const item = EFT.#common_findIdByName(itemName, typeIDs);\r\n        const charge = EFT.#common_findIdByName(chargeName, typeIDs);\r\n        return { item, charge };\r\n      }\r\n    });\r\n  };\r\n  static #buildFitFromText_buildDrones = function (droneText, typeIDs) {\r\n    //prettier-ignore\r\n    if (EFT.#buildFitFromText_readoutTextBlock(droneText, typeIDs) !== \"droneSlots\")\r\n      return {};\r\n\r\n    const droneTextLines = droneText.split(/\\r?\\n/);\r\n    const droneSlots = droneTextLines.map((droneTextLine) => {\r\n      //prettier-ignore\r\n      const {typeName, typeCount} = EFT.#buildFitFromText_divideBy_x(droneTextLine)\r\n      const type = EFT.#common_findIdByName(typeName, typeIDs);\r\n      return { item: { ...type, typeCount }, charge: false };\r\n    });\r\n\r\n    return { droneSlots };\r\n  };\r\n  static #buildFitFromText_divideBy_x = function (fitTextLine) {\r\n    const dividedBy_x = fitTextLine.split(\" x\");\r\n    const typeName = dividedBy_x[0];\r\n    const typeCount = Number(dividedBy_x[1]);\r\n\r\n    return { typeName, typeCount };\r\n  };\r\n  static #buildFitFromText_readoutTextBlock = function (textBlock, typeIDs) {\r\n    if (!textBlock) return \"undefined\";\r\n\r\n    const sampleTextLine = textBlock.slice(0, textBlock.search(/\\r?\\n/));\r\n    if (sampleTextLine.indexOf(\" x\") !== -1) {\r\n      const typeName = sampleTextLine.split(\" x\")[0];\r\n      const type = EFT.#common_findIdByName(typeName, typeIDs);\r\n      if (!!type.typeDroneSize) return \"droneSlots\";\r\n      else return false;\r\n    } else if (sampleTextLine.indexOf(\",\") !== -1) {\r\n      const typeName = sampleTextLine.split(\", \")[0];\r\n      const type = EFT.#common_findIdByName(typeName, typeIDs);\r\n      if (!!type.typeIsHiPower) return \"highSlots\";\r\n      else if (!!type.typeIsMedPower) return \"midSlots\";\r\n      else if (!!type.typeIsLoPower) return \"lowSlots\";\r\n      else return \"ship\";\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  //prettier-ignore\r\n  static buildTextFromFit = function (fit) {\r\n    const ship = `[${fit?.ship?.typeName}, ${fit?.ship?.typeName} fit]`;\r\n    const lowSlots = EFT.#buildTextFromFit_moduleSlots(fit?.lowSlots, \"[Empty Low slot]\");\r\n    const midSlots = EFT.#buildTextFromFit_moduleSlots(fit?.midSlots, \"[Empty Med slot]\");\r\n    const highSlots = EFT.#buildTextFromFit_moduleSlots(fit?.highSlots, \"[Empty High slot]\");\r\n    const rigSlots = EFT.#buildTextFromFit_moduleSlots(fit?.rigSlots, \"[Empty Rig slot]\");\r\n    const miscSlots = EFT.#buildTextFromFit_moduleSlots(fit?.miscSlots, \"[Empty Subsystem slot]\");\r\n    const moduleSlots =  [ship, lowSlots, midSlots, highSlots, rigSlots, miscSlots]\r\n      .filter(slots => !!slots)// In case for miscSlots is empty and returned as false\r\n      .join(\"\\n\\n\");\r\n\r\n    const drones =  EFT.#buildTextFromFit_droneSlots(fit?.droneSlots, \"[Empty Subsystem slot]\")\r\n\r\n    return [moduleSlots, drones].join(\"\\n\\n\\n\");\r\n  };\r\n  static #buildTextFromFit_moduleSlots = function (moduleSlots, emptyText) {\r\n    if (!moduleSlots || moduleSlots.length === 0) return false;\r\n\r\n    return moduleSlots\r\n      .map((moduleSlot) => {\r\n        if (!moduleSlot || !moduleSlot.item) return emptyText;\r\n        if (!moduleSlot.charge) return moduleSlot.item.typeName;\r\n        return moduleSlot.item.typeName.concat(\r\n          \", \",\r\n          moduleSlot.charge.typeName\r\n        );\r\n      })\r\n      .join(\"\\n\");\r\n  };\r\n  static #buildTextFromFit_droneSlots = function (droneSlots) {\r\n    if (!droneSlots) return \"\";\r\n    return droneSlots\r\n      .map((droneSlot) => {\r\n        if (!droneSlot || !droneSlot.item) return \"\";\r\n        return `${droneSlot.item.typeName} x${droneSlot.item.typeCount}`;\r\n      })\r\n      .join(\"\\n\");\r\n  };\r\n\r\n  //prettier-ignore\r\n  static buildCompareTextFromFit = function (fit) {\r\n    const ship = `[${fit?.ship?.typeName}, ${fit?.ship?.typeName} fit] ${fit?.ship?.typeState}`;\r\n    const miscSlots = EFT.#buildCompareTextFromFit_moduleSlots(fit?.miscSlots, \"[Empty Misc slot]\");\r\n    const lowSlots = EFT.#buildCompareTextFromFit_moduleSlots(fit?.lowSlots, \"[Empty Low slot]\");\r\n    const midSlots = EFT.#buildCompareTextFromFit_moduleSlots(fit?.midSlots, \"[Empty Med slot]\");\r\n    const highSlots = EFT.#buildCompareTextFromFit_moduleSlots(fit?.highSlots, \"[Empty High slot]\");\r\n    const rigSlots = EFT.#buildCompareTextFromFit_moduleSlots(fit?.rigSlots, \"[Empty Rig slot]\");\r\n    const drones = EFT.#buildCompareTextFromFit_droneSlots(fit?.droneSlots);\r\n\r\n    return [\r\n      ship,\r\n      miscSlots,\r\n      lowSlots,\r\n      midSlots,\r\n      highSlots,\r\n      rigSlots,\r\n      drones,\r\n    ].join(\"\\n\\n\");\r\n  }\r\n  static #buildCompareTextFromFit_moduleSlots = function (slots, blankText) {\r\n    if (!slots) return \"\";\r\n    return slots\r\n      .map((slot) => {\r\n        if (!slot || !slot.item) return blankText;\r\n        if (!slot.charge) return `${slot.item.typeName} ${slot.item.typeState}`;\r\n        return `${slot.item.typeName}, ${slot.charge.typeName} ${slot.item.typeState}`;\r\n      })\r\n      .join(\"\\n\");\r\n  };\r\n  static #buildCompareTextFromFit_droneSlots = function (droneSlots) {\r\n    if (!droneSlots) return \"\";\r\n    return droneSlots\r\n      .map((droneSlot) => {\r\n        const drone = droneSlot.item;\r\n        return `${drone.typeName} x${drone.typeCount} ${drone.typeState}`;\r\n      })\r\n      .join(\"\\n\");\r\n  };\r\n\r\n  static #common_findIdByName = function (typeName, typeIDs) {\r\n    if (!typeName) return false;\r\n\r\n    const type = typeIDs.find((typeID) => typeID.typeName === typeName);\r\n    return !!type ? type : false;\r\n  };\r\n}\r\n","export function findAttributesByName(item, attributeName) {\r\n  if (!item || !item.typeAttributesStats) return undefined;\r\n\r\n  if (attributeName.constructor === String) {\r\n    return findAttributeByName(item, attributeName);\r\n  } else if (attributeName.constructor === Array) {\r\n    const attributes = attributeName.map((entry) =>\r\n      findAttributeByName(item, entry)\r\n    );\r\n\r\n    if (attributes.length === 0) return undefined;\r\n    return attributes;\r\n  }\r\n}\r\n\r\nfunction findAttributeByName(item, attributeName) {\r\n  if (!item || !item.typeAttributesStats) return undefined;\r\n\r\n  if (item.typeAttributesStats.constructor !== Array) return undefined;\r\n\r\n  const result = item.typeAttributesStats.filter(\r\n    (entry) => entry.attributeName === attributeName\r\n  );\r\n\r\n  if (result.length === 1) return result[0].value;\r\n  if (result.length >= 2) return result.map((entry) => entry.value);\r\n  else return undefined;\r\n}\r\n\r\nexport function findAttributesbyID(item, attributeID) {\r\n  if (!item || !item.typeAttributesStats) return undefined;\r\n\r\n  if (attributeID.constructor === Number) {\r\n    return findAttributebyID(item, attributeID);\r\n  } else if (attributeID.constructor === Array) {\r\n    const attributes = attributeID.map((entry) =>\r\n      findAttributebyID(item, entry)\r\n    );\r\n\r\n    if (attributes.length === 0) return undefined;\r\n    return attributes;\r\n  }\r\n}\r\n\r\nexport function findAttributebyID(item, attributeID) {\r\n  if (!item || !item.typeAttributesStats) return undefined;\r\n\r\n  if (item.typeAttributesStats.constructor !== Array) return undefined;\r\n\r\n  const result = item.typeAttributesStats.filter(\r\n    (entry) => entry.attributeID === attributeID\r\n  );\r\n\r\n  if (result.length === 1) return result[0].value;\r\n  else if (result.length >= 2) return result.map((entry) => entry.value);\r\n  else return undefined;\r\n}\r\n","import React from \"react\";\r\nimport Slot from \"./Slot\";\r\nimport { useState, useEffect } from \"react\";\r\nimport EFT from \"../services/EFT\";\r\nimport { translateVariant } from \"../Drawers\";\r\nimport { getSlotCount } from \"../FittingDrawer/FittingDrawer.jsx\";\r\nimport Fit from \"../../../fitter/src/Fit\";\r\nimport { findAttributebyID } from \"../../../services/dataManipulation/findAttributes\";\r\nimport { Avatar, Divider, makeStyles, Typography } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    position: \"relative\",\r\n  },\r\n  lodingIndicator: {\r\n    position: \"absolute\",\r\n    height: 10,\r\n    width: 10,\r\n    top: 2,\r\n    left: 2,\r\n    backgroundColor: theme.palette.property.gre,\r\n  },\r\n  divider: {\r\n    width: \"200%\",\r\n  },\r\n}));\r\n\r\nexport default function Slots(props) {\r\n  const classes = useStyles();\r\n  //prettier-ignore\r\n  const [rawItems, setRawItems] = useState(new Array(props.slotCount).fill(false));\r\n  //prettier-ignore\r\n  const [rawCharges, setRawCharges] = useState(new Array(props.slotCount).fill(false));\r\n  //prettier-ignore\r\n  const [fetchedItems, setFetchedItems] = useState(new Array(props.slotCount).fill(false));\r\n  //prettier-ignore\r\n  const [fetchedCharges, setFetchedCharges] = useState(new Array(props.slotCount).fill(false));\r\n  const setters = {\r\n    setRawItems,\r\n    setFetchedItems,\r\n    setRawCharges,\r\n    setFetchedCharges,\r\n  };\r\n\r\n  const [activeSlotNumber, setActiveSlotNumber] = useState(0);\r\n  const [isLoop, setIsLoop] = useState(true);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [session, setSession] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!!props.importFitText || props.variant === \"SHIP\") return undefined;\r\n\r\n    setRawItems(new Array(props.slotCount).fill(false));\r\n    setRawCharges(new Array(props.slotCount).fill(false));\r\n  }, [props.slots?.ship?.typeID]);\r\n\r\n  useEffect(() => {\r\n    if (!!props.importFitText || props.variant === \"SHIP\") return undefined;\r\n\r\n    rawItems.length = props.slotCount;\r\n    setRawItems(Array.from(rawItems, (item) => item || false));\r\n    rawCharges.length = props.slotCount;\r\n    setRawCharges(Array.from(rawCharges, (charge) => charge || false));\r\n  }, [props.slotCount]);\r\n\r\n  //Import fitText using EFT class\r\n  useEffect(() => {\r\n    if (props.importFitText !== false) importSlots(props, setters);\r\n  }, [props.importFitText]);\r\n\r\n  //Raw items, charges input [REFACTOR!!]\r\n  useEffect(() => {\r\n    switch (props.listItems[props.variant]) {\r\n      case false:\r\n      case undefined:\r\n        return undefined;\r\n      case \"DEL\":\r\n        rawItems[activeSlotNumber] = false;\r\n        rawCharges[activeSlotNumber] = false;\r\n        break;\r\n      case \"ADD\":\r\n        const activeItem = rawItems[activeSlotNumber];\r\n        activeItem[\"typeCount\"] = loopNumber(activeItem.typeCount, 1, 6);\r\n        break;\r\n      case \"activation\":\r\n        changeState(rawItems[activeSlotNumber], \"activation\");\r\n        break;\r\n      case \"offline\":\r\n        changeState(rawItems[activeSlotNumber], \"offline\");\r\n        break;\r\n      case \"passive\":\r\n        changeState(rawItems[activeSlotNumber], \"passive\");\r\n        break;\r\n      case \"overload\":\r\n        changeState(rawItems[activeSlotNumber], \"overload\");\r\n        break;\r\n      //prettier-ignore\r\n      case \"LOOPLOOP\": setIsLoop(!isLoop); return;\r\n      default:\r\n        // New item is comming\r\n        if (validateHardpoints(props.fit, props.listItems[props.variant])) {\r\n          assignItemToSlot(props, rawItems, rawCharges, activeSlotNumber);\r\n          addCountToDroneSlots(props, rawItems[activeSlotNumber]);\r\n          changeState(rawItems[activeSlotNumber], \"activation\");\r\n        }\r\n        break;\r\n    }\r\n    setRawItems([...rawItems]);\r\n    setRawCharges([...rawCharges]);\r\n    props.dispatchListItems({ type: props.variant, payload: false });\r\n    if (isLoop === true)\r\n      setActiveSlotNumber(\r\n        loopNumber(activeSlotNumber, 0, props.slotCount, props.variant)\r\n      );\r\n  }, [props.listItems[props.variant]]);\r\n\r\n  useEffect(() => {\r\n    switch (props.listItems[\"AMMO\"]) {\r\n      case false:\r\n      case undefined:\r\n      case \"activation\":\r\n      case \"offline\":\r\n      case \"passive\":\r\n      case \"overload\":\r\n        return undefined;\r\n      case \"DEL\":\r\n        rawCharges[activeSlotNumber] = false;\r\n        setFetchedCharges([...rawCharges]);\r\n        break;\r\n      //prettier-ignore\r\n      case \"LOOPLOOP\": setIsLoop(!isLoop); break;\r\n      default:\r\n        if (props.slotsOpen.AMMO.slotVariant !== props.variant) break;\r\n        if (!rawItems[activeSlotNumber]) break;\r\n        rawCharges[activeSlotNumber] = props.listItems[\"AMMO\"];\r\n        changeState(rawCharges[activeSlotNumber], \"passive\");\r\n        setRawCharges([...rawCharges]);\r\n    }\r\n    props.dispatchListItems({ type: \"AMMO\", payload: false });\r\n    if (isLoop === true)\r\n      setActiveSlotNumber(loopNumber(activeSlotNumber, 0, props.slotCount));\r\n  }, [props.listItems[\"AMMO\"]]);\r\n\r\n  //Fetched items, charges input\r\n  useEffect(() => {\r\n    setSession(session + 1);\r\n    setIsLoading(true);\r\n    (async function (props, rawItems, rawCharges, session) {\r\n      const data = await Promise.all(\r\n        createFetchPromises(props, rawItems, rawCharges, session)\r\n      );\r\n\r\n      const sessionData = data[data.length - 1];\r\n      const fetchedData = data.slice(0, data.length - 1);\r\n\r\n      if (sessionData === false || sessionData !== session) {\r\n        //prettier-ignore\r\n        console.log( \"FETCH ERROR:SESSION MISFETCHED\", props.variant, {sessionData, session, fetchedData, rawItems, rawCharges} );\r\n        return undefined;\r\n      } else\r\n        processFetchedData(props, fetchedData, rawItems, rawCharges, setters);\r\n      setIsLoading(false);\r\n    })(props, rawItems, rawCharges, session + 1);\r\n  }, [checkData(rawItems, rawCharges)]);\r\n\r\n  if (props.slotCount > 0)\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          className={classes.root}\r\n          style={{\r\n            padding: props.variant === \"SHIP\" ? 0 : \"10px 0px 10px 0px\",\r\n          }}\r\n        >\r\n          {new Array(props.slotCount).fill(undefined).map((slot, index) => {\r\n            return (\r\n              <Slot\r\n                key={`${props.variant}:${index}`}\r\n                variant={props.variant}\r\n                open={props.open}\r\n                slotsOpen={props.slotsOpen}\r\n                slots={props.slots}\r\n                fetchedItem={fetchedItems[index]}\r\n                fetchedCharge={fetchedCharges[index]}\r\n                dispatchSlotsOpen={props.dispatchSlotsOpen}\r\n                setActiveSlot={props.setActiveSlot}\r\n                isActive={\r\n                  activeSlotNumber === index &&\r\n                  (props.slotsOpen[props.variant].open ||\r\n                    props.slotsOpen.AMMO.slotVariant === props.variant)\r\n                }\r\n                index={index}\r\n                setActiveSlotNumber={setActiveSlotNumber}\r\n                cache={props.cache}\r\n              />\r\n            );\r\n          })}\r\n          {isLoading && (\r\n            <Avatar className={classes.lodingIndicator}>{\"\"}</Avatar>\r\n          )}\r\n        </div>\r\n        <Divider className={classes.divider} />\r\n      </React.Fragment>\r\n    );\r\n  else return false;\r\n}\r\nfunction validateHardpoints(fit, listItems) {\r\n  if (\r\n    listItems.typeIsTurretFitted !== true &&\r\n    listItems.typeIsLauncherFitted !== true\r\n  )\r\n    return true;\r\n\r\n  const pointLoad = extractHardpoints(fit);\r\n\r\n  if (listItems.typeIsTurretFitted === true) {\r\n    const turretPoint = findAttributebyID(fit.ship, 102); //attributeID: 102, attributeName: \"Turret Hardpoints\"\r\n    return turretPoint > pointLoad.turretPointLoad;\r\n  } else if (listItems.typeIsLauncherFitted === true) {\r\n    const launcherPoint = findAttributebyID(fit.ship, 101); //attributeID: 101, attributeName: \"Launcher Hardpoints\"\r\n    return launcherPoint > pointLoad.launcherPointLoad;\r\n  }\r\n}\r\nfunction extractHardpoints(fit) {\r\n  let turretPointLoad = 0;\r\n  let launcherPointLoad = 0;\r\n  Fit.mapSlots(\r\n    fit,\r\n    (slot) => {\r\n      const isTurretFitted = !!slot?.item?.typeEffectsStats?.find(\r\n        (efft) => efft.effectID === 42\r\n      ); //effectID: 42, effectName: \"turretFitted\"\r\n      const isLauncherFitted = !!slot?.item?.typeEffectsStats?.find(\r\n        (efft) => efft.effectID === 40\r\n      ); //effectID: 40, effectName: \"launcherFitted\"\r\n      if (isTurretFitted === true) return ++turretPointLoad;\r\n      if (isLauncherFitted === true) return ++launcherPointLoad;\r\n    },\r\n    { isIterate: { highSlots: true } }\r\n  );\r\n  return { turretPointLoad, launcherPointLoad };\r\n}\r\nfunction importSlots(props, setters) {\r\n  if (!props.importFitText) return undefined;\r\n\r\n  (async (fitText) => {\r\n    const typeIDs = await props.cache.wait(\"/typeIDsTable\");\r\n    const fitFromText = EFT.buildFitFromText(fitText, typeIDs);\r\n    const ship = await props.cache.wait(`typeID/${fitFromText.ship.typeID}`);\r\n\r\n    if (props.variant === \"SHIP\") {\r\n      setters.setRawItems([fitFromText.ship]);\r\n      return undefined;\r\n    }\r\n\r\n    const slotCount = getSlotCountAtImport({ ship }, fitFromText, props);\r\n    const items = new Array(slotCount).fill(false);\r\n    const charges = new Array(slotCount).fill(false);\r\n\r\n    const slots = fitFromText[translateVariant(props.variant)] || [];\r\n\r\n    //prettier-ignore\r\n    slots.forEach((slot, index) => {\r\n      items[index] = !!slot.item && { ...slot.item, typeState: \"activation\" };\r\n      charges[index] = !!slot.charge && {...slot.charge, typeState: \"passive\",};\r\n    });\r\n\r\n    setters.setRawItems(items);\r\n    setters.setRawCharges(charges);\r\n\r\n    props.importStateFlag[props.variant] = true;\r\n    props.setImportStateFlag({ ...props.importStateFlag });\r\n  })(props.importFitText);\r\n}\r\nfunction getSlotCountAtImport(fit, fitFromText, props) {\r\n  const isTacCruiser = fit.ship.groupID === 963;\r\n  if (isTacCruiser === true)\r\n    return fitFromText[translateVariant(props.variant)].length;\r\n  else return getSlotCount(fit, props.variant);\r\n}\r\nfunction createFetchPromises(props, rawItems, rawCharges, session) {\r\n  if (rawItems.length !== rawCharges.length) return [Promise.resolve(false)];\r\n\r\n  const promisesItem = rawItems.map((rawItem) => {\r\n    if (rawItem === false) return Promise.resolve(false);\r\n    return props.cache.wait(`typeID/${rawItem?.typeID}`);\r\n  });\r\n  const promisesCharge = rawCharges.map((rawCharge) => {\r\n    if (rawCharge === false) return Promise.resolve(false);\r\n    return props.cache.wait(`typeID/${rawCharge?.typeID}`);\r\n  });\r\n  const sessionPromise = Promise.resolve(session);\r\n  return [...promisesItem, ...promisesCharge, sessionPromise];\r\n}\r\nfunction processFetchedData(props, data, rawItems, rawCharges, setters) {\r\n  const items = data.slice(0, data.length / 2);\r\n  const charges = data.slice(data.length / 2);\r\n  const payload = [];\r\n  items.forEach((fetcheditem, index) => {\r\n    const itemState = !!rawItems[index]\r\n      ? Fit.getCurrentState({\r\n          ...rawItems[index],\r\n          ...fetcheditem,\r\n        })\r\n      : undefined;\r\n    const item = !!rawItems[index]\r\n      ? { ...rawItems[index], ...fetcheditem, typeState: itemState }\r\n      : false;\r\n    const charge = Fit.validateChargeSlot({ item, charge: charges[index] })\r\n      ? { ...rawCharges[index], ...charges[index] }\r\n      : false;\r\n    rawItems[index] = item;\r\n    rawCharges[index] = charge;\r\n    payload.push({ item, charge });\r\n    // If validation of charge fails, set rawCharge as false value\r\n    if (charge === false) rawCharges[index] = false;\r\n    // Set rawItems state as fetch complete(initial value was activation)\r\n    if (!!rawItems[index] && !!itemState)\r\n      rawItems[index][\"typeState\"] = itemState;\r\n  });\r\n\r\n  props.dispatchSlots({ type: props.variant, payload: payload });\r\n  setters.setFetchedCharges([...rawCharges]); // If validation of charge fails, set rawCharge as false value\r\n  setters.setFetchedItems([...rawItems]);\r\n}\r\n\r\nfunction assignItemToSlot(props, rawItems, rawCharges, activeSlotNumber) {\r\n  rawItems[activeSlotNumber] = { ...props.listItems[props.variant] };\r\n\r\n  //Sync chargeSlots count to itemSlots count\r\n  if (rawCharges[activeSlotNumber] === undefined)\r\n    rawCharges[activeSlotNumber] = false;\r\n}\r\nfunction addCountToDroneSlots(props, activeItem) {\r\n  if (props.variant === \"DRONE_SLOT\" && activeItem.typeCount === undefined)\r\n    activeItem[\"typeCount\"] = 1;\r\n}\r\nfunction changeState(activeItem, state) {\r\n  if (activeItem.typeState === undefined)\r\n    activeItem[\"typeState\"] = \"activation\";\r\n\r\n  switch (state) {\r\n    case \"offline\":\r\n    case \"overload\":\r\n    case \"passive\":\r\n    case \"activation\":\r\n      activeItem.typeState = state;\r\n      break;\r\n    default:\r\n      activeItem.typeState = \"activation\";\r\n      break;\r\n  }\r\n}\r\nfunction checkData(rawItems, rawCharges) {\r\n  return [\r\n    ...hashTypes(rawItems),\r\n    ...hashState(rawItems),\r\n    ...hashCount(rawItems),\r\n    ...hashTypes(rawCharges),\r\n  ].join(\":\");\r\n}\r\nfunction hashTypes(types) {\r\n  return types.map((type) => !!type && type.typeName).join(\"-\");\r\n}\r\nfunction hashState(rawTypes) {\r\n  return rawTypes.map((type) => !!type && type.typeState).join(\"-\");\r\n}\r\nfunction hashCount(rawTypes) {\r\n  return rawTypes.map((type) => !!type && type.typeCount).join(\"-\");\r\n}\r\nfunction loopNumber(number, floor, ceiling, variant) {\r\n  if (variant === \"DRONE_SLOT\") {\r\n    if (number >= ceiling) return floor;\r\n    return number + 1;\r\n  }\r\n\r\n  if (number + 1 >= ceiling) return floor;\r\n  else return number + 1;\r\n}\r\n","import React, { useCallback } from \"react\";\r\nimport ArchiveIcon from \"@material-ui/icons/Archive\";\r\nimport UnarchiveIcon from \"@material-ui/icons/Unarchive\";\r\nimport RecButton from \"../RecButton\";\r\nimport EFT from \"../services/EFT\";\r\nimport fittingLazyFetch from \"./fittingLazyFetch.js\";\r\nimport {\r\n  makeStyles,\r\n  Snackbar,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  ListItem,\r\n  Tooltip,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { importInitializeFlag } from \"./FittingDrawer\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    color: theme.palette.text.primary,\r\n  },\r\n  listItem: {\r\n    width: 300,\r\n    padding: 0,\r\n  },\r\n  listIcon: {\r\n    width: 35,\r\n    minWidth: 10,\r\n  },\r\n  warning: {\r\n    color: theme.palette.text.primary,\r\n  },\r\n}));\r\n\r\nexport default function ImportExportButtons(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [openAlert, setOpenAlert] = useState(false);\r\n\r\n  const [title, setTitle] = useState(\"Welcome to Fitting.js\");\r\n  const [text, setText] = useState(false);\r\n\r\n  const handleImportClick = useCallback(() => {\r\n    copyTextFromClipboard().then((text) => {\r\n      setOpenAlert(true);\r\n      if (text === false) return setTitle(\"Permission denied\");\r\n      setText(text);\r\n      props.setImportFitText(text);\r\n      props.setImportStateFlag(importInitializeFlag);\r\n      props.cache.wait(\"/typeIDsTable\").then((typeIDs) => {\r\n        const IDs = EFT.extractIDs(text, typeIDs);\r\n        if (!IDs || IDs.length === 0) setTitle(\"Unvalid EFT\");\r\n        else setTitle(\"Importing EFT\");\r\n        fittingLazyFetch(props.cache, IDs);\r\n      });\r\n    });\r\n  }, [props.setImportFitText, props.setImportStateFlag, props.cache]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Tooltip title=\"Import\" placement=\"bottom\" arrow>\r\n        <div>\r\n          <RecButton className={classes.button} onClick={handleImportClick}>\r\n            <ArchiveIcon />\r\n          </RecButton>\r\n        </div>\r\n      </Tooltip>\r\n\r\n      <Tooltip title=\"Export\" placement=\"bottom\" arrow>\r\n        <div>\r\n          <RecButton\r\n            className={classes.button}\r\n            onClick={() => {\r\n              navigator.clipboard.writeText(props.exportFitText);\r\n            }}\r\n          >\r\n            <UnarchiveIcon />\r\n          </RecButton>\r\n        </div>\r\n      </Tooltip>\r\n\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"right\" }}\r\n        open={openAlert}\r\n        onClose={() => {\r\n          setOpenAlert(false);\r\n        }}\r\n        ContentProps={{\r\n          elevation: 3,\r\n          style: {\r\n            backgroundColor: theme.palette.background.paper,\r\n            border: getSnackbarBorder(title, theme),\r\n          },\r\n        }}\r\n        message={\r\n          <ListItem className={classes.listItem}>\r\n            <ListItemIcon>\r\n              <ArchiveIcon className={classes.warning} />\r\n            </ListItemIcon>\r\n\r\n            <ListItemText\r\n              primary={title}\r\n              secondary={text}\r\n              primaryTypographyProps={{\r\n                style: { color: theme.palette.text.primary, fontWeight: 700 },\r\n              }}\r\n              secondaryTypographyProps={{\r\n                style: { color: theme.palette.text.secondary },\r\n              }}\r\n            />\r\n          </ListItem>\r\n        }\r\n        autoHideDuration={5000}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\nasync function copyTextFromClipboard() {\r\n  const permisson = await navigator.permissions.query({\r\n    name: \"clipboard-read\",\r\n  });\r\n  if (permisson.state === \"granted\" || permisson.state === \"prompt\") {\r\n    return navigator.clipboard.readText();\r\n  }\r\n  return false;\r\n}\r\nfunction getSnackbarBorder(title, theme) {\r\n  switch (title) {\r\n    case \"Importing EFT\":\r\n      return \"none\";\r\n    case \"Unvalid EFT\":\r\n      return `solid 3px ${theme.palette.property.org}`;\r\n    case \"Permission denied\":\r\n      return `solid 3px ${theme.palette.property.red}`;\r\n    default:\r\n      return \"none\";\r\n  }\r\n}\r\n","import { database } from \"../../../index\";\r\n\r\nexport default function lazyFetch(cache, typeIDs) {\r\n  typeIDs.forEach((typeID) => {\r\n    cache.get(`typeID/${typeID}`, () => {\r\n      return database\r\n        .ref(`typeIDs/${typeID}`)\r\n        .once(\"value\")\r\n        .then((data) => data.val());\r\n    });\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport { Drawer, Button, makeStyles, ButtonGroup } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport Slots from \"../Slots/Slots.jsx\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport FirstPageIcon from \"@material-ui/icons/FirstPage\";\r\nimport { useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport ImportExportButtons from \"./ImportExportButtons.jsx\";\r\nimport { findAttributebyID } from \"../../../services/dataManipulation/findAttributes.js\";\r\n\r\nconst importFinishFlag = {\r\n  SHIP: true,\r\n  MISC_SLOT: true,\r\n  HIGH_SLOT: true,\r\n  MID_SLOT: true,\r\n  LOW_SLOT: true,\r\n  RIG_SLOT: true,\r\n  DRONE_SLOT: true,\r\n};\r\nexport const importInitializeFlag = {\r\n  SHIP: false,\r\n  MISC_SLOT: false,\r\n  HIGH_SLOT: false,\r\n  MID_SLOT: false,\r\n  LOW_SLOT: false,\r\n  RIG_SLOT: false,\r\n  DRONE_SLOT: false,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  rootClose: {\r\n    width: 0,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    overflow: \"hidden\",\r\n  },\r\n  rootExpand: {\r\n    width: 300,\r\n    maxWidth: \"80%\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    overflow: \"hidden\",\r\n  },\r\n  rootRetract: {\r\n    width: 60,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    overflow: \"hidden\",\r\n  },\r\n  expandButton: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    backgroundColor: theme.palette.action.opaqueHover,\r\n    borderRadius: 0,\r\n    opacity: 1,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n  },\r\n  retractButton: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    right: 0,\r\n    backgroundColor: theme.palette.action.opaqueHover,\r\n    zIndex: 1,\r\n    borderRadius: 0,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n  },\r\n\r\n  child: {\r\n    width: \"100%\",\r\n    overflowX: \"hidden\",\r\n    overflowY: \"auto\",\r\n    paddingBottom: 5,\r\n    paddingRight: 20,\r\n  },\r\n}));\r\n\r\nexport default function FittingDrawer(props) {\r\n  const classes = useStyles();\r\n\r\n  const [importFitText, setImportFitText] = useState(false);\r\n  const [importStateFlag, setImportStateFlag] = useState(importFinishFlag);\r\n\r\n  const childRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    //If import is finished\r\n    if (!Object.values(importStateFlag).includes(false)) {\r\n      setImportFitText(false);\r\n    }\r\n  }, [importStateFlag]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Drawer\r\n        anchor=\"left\"\r\n        open={props.open}\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: classes[switchExpandOpen(props)],\r\n        }}\r\n      >\r\n        <ButtonGroup>\r\n          <ImportExportButtons\r\n            exportFitText={props.exportFitText}\r\n            setImportFitText={setImportFitText}\r\n            setImportStateFlag={setImportStateFlag}\r\n            cache={props.cache}\r\n          />\r\n        </ButtonGroup>\r\n        <Button\r\n          className={classes.expandButton}\r\n          onClick={() => props.setExpand(!props.expand)}\r\n        >\r\n          {!!props.expand ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n        </Button>\r\n\r\n        <div className={classes.child}>\r\n          <div ref={childRef}>\r\n            {[\r\n              \"SHIP\",\r\n              \"MISC_SLOT\",\r\n              \"HIGH_SLOT\",\r\n              \"MID_SLOT\",\r\n              \"LOW_SLOT\",\r\n              \"RIG_SLOT\",\r\n              \"DRONE_SLOT\",\r\n            ].map((variant) => {\r\n              return (\r\n                <Slots\r\n                  key={variant}\r\n                  importFitText={importFitText}\r\n                  importStateFlag={importStateFlag}\r\n                  setImportStateFlag={setImportStateFlag}\r\n                  variant={variant}\r\n                  slotCount={getSlotCount(props.fit, variant)}\r\n                  {...props}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        <Button\r\n          className={classes.retractButton}\r\n          onClick={() => {\r\n            props.dispatchSlotsOpen({ type: \"RESET\" });\r\n            props.setOpen(false);\r\n          }}\r\n        >\r\n          <FirstPageIcon />\r\n        </Button>\r\n      </Drawer>\r\n    </React.Fragment>\r\n  );\r\n}\r\nfunction switchExpandOpen(props) {\r\n  if (!props.open) return \"rootClose\";\r\n  if (!props.expand) return \"rootRetract\";\r\n  return \"rootExpand\";\r\n}\r\nexport function getSlotCount(slots, variant) {\r\n  if (variant === \"SHIP\") return 1;\r\n  if (!slots.ship || !slots.ship.typeAttributesStats) return 0;\r\n\r\n  const ship = slots.ship;\r\n  const attrs = ship.typeAttributesStats;\r\n  switch (variant) {\r\n    case \"MISC_SLOT\":\r\n      switch (ship.groupID) {\r\n        // groupID: 963, name.en: Strategic Cruiser\r\n        case 963:\r\n          return 4;\r\n        // groupID: 1305, name.en: Tactical Destroyer\r\n        case 1305:\r\n          return 1;\r\n        default:\r\n          return 0;\r\n      }\r\n    case \"HIGH_SLOT\":\r\n      return attrs.find((attr) => attr.attributeID === 14)?.value;\r\n    case \"MID_SLOT\":\r\n      return attrs.find((attr) => attr.attributeID === 13)?.value;\r\n    case \"LOW_SLOT\":\r\n      return attrs.find((attr) => attr.attributeID === 12)?.value;\r\n    case \"RIG_SLOT\":\r\n      return attrs.find((attr) => attr.attributeID === 1137)?.value; //rigslot count is not sure 1137 or 1154\r\n    case \"DRONE_SLOT\":\r\n      return getDroneSlotCount(slots);\r\n  }\r\n}\r\nfunction getDroneSlotCount(slots) {\r\n  const droneBandwidth = findAttributebyID(slots.ship, 1271); // attributeID: 1271, attributeName: \"Drone Bandwidth\"\r\n  if (!droneBandwidth) return 0;\r\n\r\n  if (!slots.droneSlots) return 1;\r\n  return slots.droneSlots.reduce((acc, slot, index) => {\r\n    if (!!slot.item) return index + 2;\r\n    return acc;\r\n  }, 1);\r\n}\r\n","import React from \"react\";\r\nimport { TextField, Typography } from \"@material-ui/core\";\r\n\r\nexport default function StatTextField(props) {\r\n  return (\r\n    <div\r\n      style={{\r\n        marginTop: 4,\r\n        width: \"70%\",\r\n      }}\r\n    >\r\n      <TextField\r\n        style={{ width: \"100%\" }}\r\n        label={\r\n          <Typography noWrap style={{ width: \"100%\" }}>\r\n            {!!switchUnit(props.attr.unitID)\r\n              ? `${props.attr.attributeName} (${switchUnit(props.attr.unitID)})`\r\n              : props.attr.attributeName}\r\n          </Typography>\r\n        }\r\n        defaultValue={props.attr.value}\r\n        InputProps={{\r\n          readOnly: true,\r\n          disableUnderline: true,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\nfunction switchUnit(unitID) {\r\n  if (!unitID) return false;\r\n\r\n  const unit = eveUnit.find((unit) => unit.unitID === unitID);\r\n  if (unit === undefined)\r\n    console.log(\r\n      \"ERROR\",\r\n      `unitID:${unitID} not found. dear developer please update database!`\r\n    );\r\n  return unit?.displayName;\r\n}\r\nconst eveUnit = [\r\n  { unitID: 1, displayName: \"m\" },\r\n  { unitID: 2, displayName: \"kg\" },\r\n  { unitID: 3, displayName: \"sec\" },\r\n  { unitID: 4, displayName: \"A\" },\r\n  { unitID: 5, displayName: \"K\" },\r\n  { unitID: 6, displayName: \"mol\" },\r\n  { unitID: 7, displayName: \"cd\" },\r\n  { unitID: 8, displayName: \"m2\" },\r\n  { unitID: 9, displayName: \"m3\" },\r\n  { unitID: 10, displayName: \"m/sec\" },\r\n  { unitID: 11, displayName: \"m/sec\" },\r\n  { unitID: 12, displayName: \"m-1\" },\r\n  { unitID: 13, displayName: \"kg/m3\" },\r\n  { unitID: 14, displayName: \"m3/kg\" },\r\n  { unitID: 15, displayName: \"A/m2\" },\r\n  { unitID: 16, displayName: \"A/m\" },\r\n  { unitID: 17, displayName: \"mol/m3\" },\r\n  { unitID: 18, displayName: \"cd/m2\" },\r\n  { unitID: 19, displayName: \"kg/kg = 1\" },\r\n  { unitID: 101, displayName: \"s\" },\r\n  { unitID: 102, displayName: \"mm\" },\r\n  { unitID: 103, displayName: \"MegaPascals\" },\r\n  { unitID: 104, displayName: \"x\" },\r\n  { unitID: 105, displayName: \"%\" },\r\n  { unitID: 106, displayName: \"tf\" },\r\n  { unitID: 107, displayName: \"MW\" },\r\n  { unitID: 108, displayName: \"%\" },\r\n  { unitID: 109, displayName: \"%\" },\r\n  { unitID: 111, displayName: \"%\" },\r\n  { unitID: 112, displayName: \"rad/sec\" },\r\n  { unitID: 113, displayName: \"HP\" },\r\n  { unitID: 114, displayName: \"GJ\" },\r\n  { unitID: 115, displayName: \"groupID\" },\r\n  { unitID: 116, displayName: \"typeID\" },\r\n  { unitID: 117, displayName: \"Sizeclass\" },\r\n  { unitID: 118, displayName: \"Ore units\" },\r\n  { unitID: 119, displayName: \"attributeID\" },\r\n  { unitID: 120, displayName: \"points\" },\r\n  { unitID: 121, displayName: \"%\" },\r\n  { unitID: 122, displayName: \"Fitting slots\" },\r\n  { unitID: 123, displayName: \"sec\" },\r\n  { unitID: 124, displayName: \"%\" },\r\n  { unitID: 125, displayName: \"N\" },\r\n  { unitID: 126, displayName: \"ly\" },\r\n  { unitID: 127, displayName: \"%\" },\r\n  { unitID: 128, displayName: \"Mbit/sec\" },\r\n  { unitID: 129, displayName: \"Hours\" },\r\n  { unitID: 133, displayName: \"ISK\" },\r\n  { unitID: 134, displayName: \"m3/hour\" },\r\n  { unitID: 135, displayName: \"AU\" },\r\n  { unitID: 136, displayName: \"Slot\" },\r\n  { unitID: 137, displayName: \"Boolean\" },\r\n  { unitID: 138, displayName: \"units\" },\r\n  { unitID: 139, displayName: \"+\" },\r\n  { unitID: 140, displayName: \"Level\" },\r\n  { unitID: 141, displayName: \"hardpoints\" },\r\n  { unitID: 142, displayName: \"1=Male 2=Unisex 3=Female\" },\r\n  { unitID: 143, displayName: \"Datetime\" },\r\n];\r\n","import React from \"react\";\r\nimport { Typography, TextField, InputAdornment } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport StatTextField from \"./StatTextField\";\r\n\r\nexport default function Stat(props) {\r\n  const [type, setType] = useState(false);\r\n  const [attributesCategories, setAttributesCategories] = useState(false);\r\n\r\n  const [typeName, setTypeName] = useState(false);\r\n  const [builtList, setList] = useState(false);\r\n\r\n  useEffect(() => {\r\n    props.cache.wait(\"/attributesCategories\").then((data) => {\r\n      setAttributesCategories(data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setType(props.type);\r\n  }, [props.type]);\r\n\r\n  useEffect(() => {\r\n    if (!!type && !!attributesCategories) {\r\n      setTypeName(type.typeName);\r\n      setList(createStatList(type, attributesCategories));\r\n    }\r\n  }, [attributesCategories, type]);\r\n  return (\r\n    <React.Fragment>\r\n      <Typography\r\n        style={{\r\n          fontSize: 26,\r\n          fontWeight: 1000,\r\n          letterSpacing: -1.5,\r\n          lineHeight: 1,\r\n          marginRight: 20,\r\n          textDecoration: \"underline\",\r\n        }}\r\n        variant=\"h4\"\r\n        align=\"right\"\r\n      >\r\n        {typeName}\r\n      </Typography>\r\n      <div style={{ marginTop: 20 }}>{builtList}</div>\r\n    </React.Fragment>\r\n  );\r\n}\r\nfunction createStatList(item, attributesCategories) {\r\n  const etc = [\"Miscellaneous\", \"Required Skills\", \"Graphics\", \"NULL\"];\r\n  const dividedAttributes = filterAttributes(item, attributesCategories).reduce(\r\n    (acc, filtered) => {\r\n      if (etc.includes(filtered.name))\r\n        acc.etc[etc.indexOf(filtered.name)] = filtered;\r\n      else acc.main.push(filtered);\r\n      return acc;\r\n    },\r\n    { main: [], etc: new Array(etc.length).fill(undefined) }\r\n  );\r\n\r\n  return [...dividedAttributes.main, ...dividedAttributes.etc].map(\r\n    (filtered) => {\r\n      if (!filtered || !filtered.name || filtered.attributes.length === 0)\r\n        return undefined;\r\n\r\n      const attrs = filtered.attributes;\r\n      const name = filtered.name;\r\n      const nameSpace = [];\r\n\r\n      return (\r\n        <React.Fragment key={name}>\r\n          <Typography\r\n            style={{\r\n              fontSize: 20,\r\n              fontWeight: 1000,\r\n              letterSpacing: -1.5,\r\n              lineHeight: 1,\r\n              marginRight: 20,\r\n              marginTop: 20,\r\n            }}\r\n            variant=\"h4\"\r\n            align=\"right\"\r\n          >\r\n            {name}\r\n          </Typography>\r\n          {attrs.map((attr) => {\r\n            const key = `${attr.attributeName}:${attr.value}`;\r\n            if (!nameSpace.includes(key)) {\r\n              nameSpace.push(key);\r\n              return <StatTextField key={key} attr={attr} />;\r\n            }\r\n          })}\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  );\r\n}\r\nfunction filterAttributes(type, attributesCategories) {\r\n  if (!type || !type.typeAttributesStats) return undefined;\r\n  const typeAttributesStats = type.typeAttributesStats;\r\n\r\n  const filteredAttributes = new Array(50)\r\n    .fill(undefined)\r\n    .map((attr, index) => ({\r\n      name: attributesCategories[index]?.name,\r\n      attributes: [],\r\n    }));\r\n\r\n  typeAttributesStats.forEach((attr) => {\r\n    if (!attr.attributeCategoryID) filteredAttributes[0].attributes.push(attr);\r\n    else filteredAttributes[attr.attributeCategoryID].attributes.push(attr);\r\n  });\r\n\r\n  return filteredAttributes;\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Drawer,\r\n  makeStyles,\r\n  Button,\r\n  ButtonGroup,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport LastPageIcon from \"@material-ui/icons/LastPage\";\r\nimport { useState } from \"react\";\r\nimport Stat from \"./Stat\";\r\nimport { useCallback } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  rootPaper: {\r\n    width: 300,\r\n    maxWidth: \"80%\",\r\n    height: \"100%\",\r\n    overflow: \"hidden\",\r\n  },\r\n  child: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    overflowY: \"scroll\",\r\n    padding: \"10px 20px 0px 10px\",\r\n    marginBottom: 40,\r\n    overflowX: \"hidden\",\r\n  },\r\n  retractButton: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    right: 0,\r\n    backgroundColor: theme.palette.action.hover,\r\n    borderRadius: 0,\r\n  },\r\n  rootButton: {\r\n    paddingRight: 20,\r\n  },\r\n}));\r\n\r\nexport default function StatDrawer(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [tabIndex, setTabIndex] = useState(0);\r\n\r\n  const styleButton = useCallback(\r\n    (index) => {\r\n      let backgroundColor = theme.palette.action.hover;\r\n      let color = theme.palette.text.disabled;\r\n\r\n      if (tabIndex === index) {\r\n        backgroundColor = theme.palette.action.selected;\r\n        color = theme.palette.text.primary;\r\n      }\r\n      return {\r\n        backgroundColor: backgroundColor,\r\n        color: color,\r\n        marginBottom: 10,\r\n      };\r\n    },\r\n    [tabIndex]\r\n  );\r\n\r\n  return (\r\n    <Drawer\r\n      anchor={!!props.anchor ? props.anchor : \"right\"}\r\n      open={props.open}\r\n      variant=\"temporary\"\r\n      classes={{ paper: classes.rootPaper }}\r\n      onClose={() => {\r\n        props.dispatchSlotsOpen({\r\n          type: \"STAT\",\r\n          payload: {\r\n            open: false,\r\n          },\r\n        });\r\n        setTabIndex(0);\r\n      }}\r\n    >\r\n      <div className={classes.child}>\r\n        {props.slot?.charge && (\r\n          <ButtonGroup fullWidth variant=\"text\">\r\n            <Button style={styleButton(0)} onClick={() => setTabIndex(0)}>\r\n              ITEM\r\n            </Button>\r\n            <Button style={styleButton(1)} onClick={() => setTabIndex(1)}>\r\n              CHARGE\r\n            </Button>\r\n          </ButtonGroup>\r\n        )}\r\n        <div hidden={tabIndex !== 0}>\r\n          <Stat\r\n            type={\r\n              props.slot?.typeID !== undefined ? props.slot : props.slot?.item\r\n            }\r\n            cache={props.cache}\r\n          />\r\n        </div>\r\n        <div hidden={tabIndex !== 1}>\r\n          <Stat type={props.slot?.charge} cache={props.cache} />\r\n        </div>\r\n      </div>\r\n      <Button\r\n        className={classes.retractButton}\r\n        onClick={() => props.dispatchSlotsOpen({ type: \"RESET\" })}\r\n      >\r\n        <LastPageIcon />\r\n      </Button>\r\n    </Drawer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport clsx from \"clsx\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport { ListItemAvatar, Avatar } from \"@material-ui/core\";\r\nimport { storage } from \"../../../index\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: 0,\r\n    margin: 0,\r\n  },\r\n  expand: {\r\n    transform: \"rotate(0deg)\",\r\n    right: \"10%\",\r\n    transition: theme.transitions.create(\"transform\", {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    right: \"10%\",\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  nested: {\r\n    padding: 0,\r\n    margin: 0,\r\n    paddingLeft: theme.spacing(1),\r\n    backgroundColor: theme.palette.action.hover,\r\n  },\r\n}));\r\n\r\nexport default function NestedList(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(props.opened);\r\n  const [image, setImage] = React.useState(\"\");\r\n\r\n  const handleClick = () => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.opened === true) setOpen(true);\r\n\r\n    return () => {\r\n      setOpen(false);\r\n    };\r\n  }, [props.opened]);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    if (props.itemData.iconTypeID === 3584)\r\n      // description: Severed head (soaked in formaldehyde) - Unknown\r\n      props.cache\r\n        .get(`/icons/${props.itemData.iconFileName}`, () => {\r\n          return storage\r\n            .ref(`eveIcons/${props.itemData.iconFileName}`)\r\n            .getDownloadURL()\r\n            .then(async (url) => {\r\n              return await fetch(url)\r\n                .then((data) => data.arrayBuffer())\r\n                .then((arrayBuffer) => convertArrayBufferToBase64(arrayBuffer));\r\n            });\r\n        })\r\n        .then((data) => !!isMounted && setImage(data));\r\n    else setImage(feedSource(props.itemData));\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [props.cache, props.itemData]);\r\n\r\n  return (\r\n    <List className={classes.root} dense>\r\n      <ListItem button onClick={handleClick}>\r\n        <ListItemAvatar>\r\n          <Avatar style={{ width: 30, height: 30 }} src={image}>\r\n            ?\r\n          </Avatar>\r\n        </ListItemAvatar>\r\n        <ListItemText\r\n          primary={props.itemData.marketGroupName}\r\n          primaryTypographyProps={{ variant: \"subtitle2\" }}\r\n        />\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: open,\r\n          })}\r\n          onClick={handleClick}\r\n        >\r\n          <ExpandMoreIcon />\r\n        </IconButton>\r\n      </ListItem>\r\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n        <List className={classes.nested}>{props.children}</List>\r\n      </Collapse>\r\n    </List>\r\n  );\r\n}\r\nfunction feedSource(itemData) {\r\n  return `https://images.evetech.net/types/${itemData?.iconTypeID}/icon?size=32`;\r\n}\r\nfunction convertArrayBufferToBase64(arrayBuffer) {\r\n  const base64Flag = \"data:image/jpeg;base64,\";\r\n\r\n  let binary = \"\";\r\n  const bytes = [].slice.call(new Uint8Array(arrayBuffer));\r\n  bytes.forEach((b) => (binary += String.fromCharCode(b)));\r\n  return base64Flag + window.btoa(binary);\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  ListItem,\r\n  ListItemText,\r\n  Avatar,\r\n  makeStyles,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  root: {\r\n    padding: \"8px 16px 8px 16px\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0)\",\r\n  },\r\n  rootAvatar: {\r\n    width: 10,\r\n    height: 10,\r\n    marginRight: 10,\r\n  },\r\n}));\r\n\r\nexport default function ItemSelection(props) {\r\n  const classes = useStyle();\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <ListItem\r\n      className={classes.root}\r\n      key={props.itemData.typeName}\r\n      button\r\n      onClick={handleItemClick(props)}\r\n    >\r\n      <Avatar\r\n        style={{\r\n          backgroundColor: getTechColor(props.itemData, theme),\r\n        }}\r\n        className={classes.rootAvatar}\r\n      >\r\n        {\"\" /* Necessary! */}\r\n      </Avatar>\r\n\r\n      <ListItemText\r\n        primary={props.itemData.typeName}\r\n        primaryTypographyProps={{ variant: \"caption\" }}\r\n      />\r\n    </ListItem>\r\n  );\r\n}\r\nconst handleItemClick = (props) => () => {\r\n  props.setItem && props.setItem(props.itemData);\r\n  props.outboundSetItem && props.outboundSetItem(props.itemData);\r\n};\r\n\r\nfunction getTechColor(item, theme) {\r\n  if (!item) return undefined;\r\n\r\n  const typeMetaGroupID = item.typeMetaGroupID;\r\n  switch (typeMetaGroupID) {\r\n    //tech1\r\n    case 1:\r\n      return theme.palette.action.hover;\r\n    //tech2\r\n    case 2:\r\n      return \"#f59500\";\r\n    //story\r\n    case 3:\r\n      return \"#78bf36\";\r\n    //faction\r\n    case 4:\r\n      return \"#086101\";\r\n    //officer\r\n    case 5:\r\n      return \"#340E73\";\r\n    //dead\r\n    case 6:\r\n      return \"#3660bf\";\r\n    //tech3\r\n    case 14:\r\n      return \"#9F3A03\";\r\n    //abyssal\r\n    case 15:\r\n      return \"#ad0000\";\r\n    default:\r\n      return theme.palette.action.hover;\r\n  }\r\n}\r\n","export default function headFilterInvTypesTable(props) {\r\n  if (!props.table.invTypesTable) return undefined;\r\n\r\n  const allowedAttributes = props.filter.allowedAttributes;\r\n\r\n  if (allowedAttributes.constructor === Array) {\r\n    let invTypesTable = props.table.invTypesTable;\r\n\r\n    allowedAttributes.forEach((entry) => {\r\n      invTypesTable = bodyFilterInvTypesTable(entry, invTypesTable);\r\n    });\r\n\r\n    return invTypesTable;\r\n  }\r\n\r\n  return props.table.invTypesTable;\r\n}\r\n\r\nfunction bodyFilterInvTypesTable(allowedAttribute, invTypesTable) {\r\n  if (!allowedAttribute.attributeName) return invTypesTable;\r\n\r\n  return invTypesTable.filter((entry) => {\r\n    switch (allowedAttribute?.value?.constructor) {\r\n      case Boolean:\r\n      case Number:\r\n        return entry[allowedAttribute.attributeName] === allowedAttribute.value;\r\n      case Array:\r\n        return allowedAttribute.value.includes(\r\n          entry[allowedAttribute.attributeName]\r\n        );\r\n      case String:\r\n        return entry[allowedAttribute.attributeName]\r\n          .toLowerCase()\r\n          .includes(allowedAttribute.value.toLowerCase());\r\n      default:\r\n        return true;\r\n    }\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport NestedList from \"../../components/simpleEdition/shipCardComponents/NestedListDedicated\";\r\nimport ItemSelection from \"../../components/itemSelection/ItemSelection\";\r\nimport isTerminalGroup from \"./isTerminalGroup\";\r\nimport findChildrenMarketGroup from \"./findChildrenMarketGroup\";\r\nimport findChildrenInvTypes from \"./findChildrenInvTypes\";\r\nimport isArrayEmpty from \"./isArrayEmpty\";\r\nimport filterInvTypesTable from \"./filterInvTypesTable\";\r\n\r\n// Judge creating multuple list or not by rootMaeketGroupID's condition\r\nexport default function headCreateEveList(props) {\r\n  if (!props.rootMarketGroupID) return;\r\n\r\n  props.table.invTypesTable = filterInvTypesTable(props);\r\n  if (props.table.invTypesTable.length > 50) props.opened = false;\r\n\r\n  if (props.rootMarketGroupID.constructor === Number) {\r\n    return bodyCreateEveList(props);\r\n  }\r\n  if (props.rootMarketGroupID.constructor === Array) {\r\n    return props.rootMarketGroupID.map((entry) => {\r\n      return bodyCreateEveList({\r\n        ...props,\r\n        rootMarketGroupID: entry,\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nfunction bodyCreateEveList(props) {\r\n  if (!validateTables(props)) return false;\r\n\r\n  if (isTerminalGroup(props)) {\r\n    return renderChildrenInvTypes(props);\r\n  } else {\r\n    return renderChildrenMarketGroup(props);\r\n  }\r\n}\r\n\r\nfunction renderChildrenInvTypes(props) {\r\n  const childrenInvTypes = findChildrenInvTypes(props);\r\n  return childrenInvTypes.map((entry) => {\r\n    return (\r\n      <ItemSelection\r\n        setItem={props.state.setItem}\r\n        outboundSetItem={props.state.outboundSetItem}\r\n        key={entry.typeName}\r\n        itemData={entry}\r\n      />\r\n    );\r\n  });\r\n}\r\nfunction renderChildrenMarketGroup(props) {\r\n  const childrenMarketGroup = findChildrenMarketGroup(props);\r\n  return childrenMarketGroup.map((entry) => {\r\n    const renderedChildrenMarketGroups = bodyCreateEveList({\r\n      ...props,\r\n      rootMarketGroupID: entry.marketGroupID,\r\n    });\r\n\r\n    if (!isArrayEmpty(renderedChildrenMarketGroups)) return undefined;\r\n    else\r\n      return (\r\n        <NestedList\r\n          opened={!!props.opened}\r\n          key={entry.marketGroupName}\r\n          itemData={entry}\r\n          eveListConfig={props}\r\n          cache={props.cache}\r\n        >\r\n          {renderedChildrenMarketGroups}\r\n        </NestedList>\r\n      );\r\n  });\r\n}\r\n\r\nfunction validateTables(props) {\r\n  if (!!props.table.marketGroupTable && !!props.table.invTypesTable) {\r\n    return true;\r\n  } else return false;\r\n}\r\n\r\nexport const defalutEveListConfigStructure = {\r\n  opened: false,\r\n  rootMarketGroupID: 2,\r\n  table: {\r\n    marketGroupTable: false,\r\n    invTypesTable: false,\r\n  },\r\n  filter: {\r\n    allowedAttributes: [\r\n      {\r\n        attributeName: false,\r\n        value: false,\r\n      },\r\n    ],\r\n  },\r\n  state: {\r\n    item: false,\r\n    setItem: false,\r\n    outboundSetItem: false,\r\n  },\r\n};\r\n","export default function isTerminalGroup(props) {\r\n  if (!props.table.marketGroupTable || props.rootMarketGroupID === undefined)\r\n    return undefined;\r\n  const marketCategory = props.table.marketGroupTable.find(\r\n    (entry) => entry.marketGroupID === props.rootMarketGroupID\r\n  );\r\n  return marketCategory.hasTypes;\r\n}\r\n","export default function findChildrenInvTypes(props) {\r\n  if (!props.table.invTypesTable) return [];\r\n\r\n  const invTypesTable = props.table.invTypesTable;\r\n  const marketGroupID = props.rootMarketGroupID;\r\n\r\n  const reultTEST = bubbleSortByMetaLevel(\r\n    invTypesTable.filter((entry) => entry.marketGroupID === marketGroupID)\r\n  );\r\n\r\n  return reultTEST;\r\n}\r\nfunction bubbleSortByMetaLevel(childrenTypeIDs) {\r\n  let len = childrenTypeIDs.length;\r\n\r\n  let swapped;\r\n  do {\r\n    swapped = false;\r\n    for (let i = 0; i < len - 1; i++) {\r\n      if (\r\n        childrenTypeIDs[i].typeMetaGroupID >\r\n        childrenTypeIDs[i + 1].typeMetaGroupID\r\n      ) {\r\n        let tmp = childrenTypeIDs[i];\r\n        childrenTypeIDs[i] = childrenTypeIDs[i + 1];\r\n        childrenTypeIDs[i + 1] = tmp;\r\n        swapped = true;\r\n      }\r\n    }\r\n  } while (swapped);\r\n  return childrenTypeIDs;\r\n}\r\n","export default function findChildrenMarketGroup(props) {\r\n  if (!props.table.marketGroupTable) return [];\r\n\r\n  return props.table.marketGroupTable.filter((entry) => {\r\n    return entry.parentGroupID === props.rootMarketGroupID;\r\n  });\r\n}\r\n","export default function isArrayEmpty(renderedChildrenMarketGroup) {\r\n  if (renderedChildrenMarketGroup.length === 0) return false;\r\n\r\n  for (let entry of renderedChildrenMarketGroup) {\r\n    if (entry !== undefined) return true;\r\n  }\r\n  return false;\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport createEveList from \"../../services/eveListConstruction/createEveList\";\r\nimport { defalutEveListConfigStructure } from \"../../services/eveListConstruction/createEveList\";\r\nimport { database } from \"../../index\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    minWidth: 350,\r\n    height: \"100%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    paddingTop: 0,\r\n  },\r\n}));\r\n\r\nexport default React.memo(function ItemSelectionListCache(props) {\r\n  const classes = useStyles();\r\n\r\n  const [item, setItem] = useState(false);\r\n\r\n  const [marketGroupTable, setMarketGroupTable] = useState(false);\r\n  const [invTypesTable, setInvTypesTable] = useState(false);\r\n\r\n  const [builtListStructure, setBuiltListStructure] = useState(undefined);\r\n  const [eveListConfig] = useState({\r\n    ...defalutEveListConfigStructure,\r\n    ...props.eveListConfig,\r\n    state: {\r\n      item: item,\r\n      setItem: setItem,\r\n      outboundSetItem: props.eveListConfig.state.outboundSetItem,\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    props.cache.wait(\"/marketCategories\").then((data) => {\r\n      setMarketGroupTable(data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    props.cache.wait(\"/typeIDsTable\").then((data) => setInvTypesTable(data));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!!item?.typeID) {\r\n      props.cache\r\n        .get(`typeID/${item.typeID}`, () => {\r\n          return database\r\n            .ref(`/typeIDs/${item.typeID}`)\r\n            .once(\"value\")\r\n            .then((data) => data.val());\r\n        })\r\n        .then((data) => {\r\n          setItem(data);\r\n          return;\r\n        });\r\n    }\r\n  }, [item?.typeID]);\r\n\r\n  useEffect(() => {\r\n    const evelistConfigUpToDate = {\r\n      ...eveListConfig,\r\n      rootMarketGroupID: props.eveListConfig.rootMarketGroupID,\r\n      filter: props.eveListConfig.filter,\r\n      table: {\r\n        marketGroupTable: marketGroupTable,\r\n        invTypesTable: invTypesTable,\r\n      },\r\n      cache: props.cache,\r\n    };\r\n\r\n    if (!!marketGroupTable && !!invTypesTable) {\r\n      if (!props.nosave)\r\n        props.cache\r\n          .get(\r\n            //prettier-ignore\r\n            `eveListConfig:${JSON.stringify(props.eveListConfig)})}`,\r\n            () => {\r\n              return new Promise((resolve) => {\r\n                resolve(createEveList(evelistConfigUpToDate));\r\n              });\r\n            }\r\n          )\r\n          .then((data) => {\r\n            setBuiltListStructure(data);\r\n          });\r\n      else setBuiltListStructure(createEveList(evelistConfigUpToDate));\r\n    }\r\n  }, [marketGroupTable, invTypesTable, hashFilter(props.eveListConfig)]);\r\n\r\n  return (\r\n    <List className={classes.root} dense>\r\n      <Collapse in timeout=\"auto\">\r\n        {builtListStructure}\r\n      </Collapse>\r\n    </List>\r\n  );\r\n});\r\nfunction hashFilter(eveListConfig) {\r\n  const rootMarketGroupID = eveListConfig.rootMarketGroupID;\r\n  const allowedAttributes = eveListConfig.filter.allowedAttributes;\r\n\r\n  return allowedAttributes\r\n    .map((attr) => [attr.attributeName, attr.value].join(\"-\"))\r\n    .join(\"|\")\r\n    .concat(rootMarketGroupID);\r\n}\r\n","import React from \"react\";\r\nimport { Grid, makeStyles, Tooltip, useTheme } from \"@material-ui/core\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport InfoIcon from \"@material-ui/icons/Info\";\r\nimport RecButton from \"../RecButton\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport ExposurePlus1Icon from \"@material-ui/icons/ExposurePlus1\";\r\nimport SetStateMenu from \"./SetStateMenu\";\r\nimport SyncIcon from \"@material-ui/icons/Sync\";\r\nimport SyncDisabledIcon from \"@material-ui/icons/SyncDisabled\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  deleteButton: {\r\n    width: \"100%\",\r\n    minWidth: 20,\r\n    backgroundColor: theme.palette.property.red,\r\n    color: theme.palette.button.color,\r\n  },\r\n  ammoDeleteButton: {\r\n    width: \"100%\",\r\n    minWidth: 20,\r\n    backgroundColor: theme.palette.property.orange,\r\n    color: theme.palette.button.color,\r\n  },\r\n  showInfoButton: {\r\n    width: \"100%\",\r\n    minWidth: 20,\r\n    backgroundColor: theme.palette.property.blue,\r\n    color: theme.palette.button.color,\r\n  },\r\n  addButton: {\r\n    width: \"100%\",\r\n    minWidth: 20,\r\n    backgroundColor: theme.palette.property.green,\r\n    color: theme.palette.button.color,\r\n  },\r\n  loopOrNotButton: {\r\n    width: \"100%\",\r\n    minWidth: 20,\r\n    color: theme.palette.button.color,\r\n  },\r\n}));\r\n\r\nconst DeleteButton = function (props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Tooltip title=\"Delete\" placement=\"bottom\" arrow>\r\n      <div>\r\n        <RecButton\r\n          className={classes.deleteButton}\r\n          onClick={() => props.setItem(\"DEL\")}\r\n          disabled={!props.activeItem?.typeID}\r\n        >\r\n          <CloseIcon />\r\n        </RecButton>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\nconst AmmoDeleteButton = function (props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Tooltip title=\"Delete ammo\" placement=\"bottom\" arrow>\r\n      <div>\r\n        <RecButton\r\n          className={classes.ammoDeleteButton}\r\n          onClick={() => {\r\n            props.dispatchListItems({ type: \"AMMO\", payload: \"DEL\" });\r\n          }}\r\n          disabled={!props.activeCharge?.typeID}\r\n        >\r\n          <HighlightOffIcon />\r\n        </RecButton>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\nconst ShowInfoButton = function (props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Tooltip title=\"Information\" placement=\"bottom\" arrow>\r\n      <div>\r\n        <RecButton\r\n          className={classes.showInfoButton}\r\n          onClick={() => {\r\n            props.dispatchSlotsOpen({\r\n              type: \"STAT\",\r\n              payload: {\r\n                open: true,\r\n                slotVariant: props.activeSlot.type,\r\n                slotNumber: props.activeSlot.index,\r\n              },\r\n            });\r\n          }}\r\n          disabled={!props.activeItem?.typeID}\r\n        >\r\n          <InfoIcon />\r\n        </RecButton>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\nconst AddButton = function (props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Tooltip title=\"Add drone\" placement=\"bottom\" arrow>\r\n      <div>\r\n        <RecButton\r\n          className={classes.addButton}\r\n          onClick={() => {\r\n            props.dispatchListItems({\r\n              type: \"DRONE_SLOT\",\r\n              payload: \"ADD\",\r\n            });\r\n          }}\r\n          disabled={!props.activeItem?.typeID}\r\n        >\r\n          <ExposurePlus1Icon />\r\n        </RecButton>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\nconst LoopOrNotButton = function (props) {\r\n  const [isLoop, setIsLoop] = useState(true);\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  useEffect(() => {\r\n    if (props.liftedIsLoop !== isLoop) setIsLoop(props.liftedIsLoop);\r\n  }, [props.liftedIsLoop]);\r\n\r\n  return (\r\n    <Tooltip title=\"Loop through slots\" placement=\"bottom\" arrow>\r\n      <div>\r\n        <RecButton\r\n          className={classes.loopOrNotButton}\r\n          style={{\r\n            backgroundColor: isLoop\r\n              ? theme.palette.property.green\r\n              : theme.palette.property.red,\r\n          }}\r\n          onClick={() => {\r\n            props.setItem(\"LOOPLOOP\");\r\n            props.setLiftedIsLoop(!isLoop);\r\n            setIsLoop(!isLoop);\r\n          }}\r\n        >\r\n          {isLoop ? <SyncIcon /> : <SyncDisabledIcon />}\r\n        </RecButton>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default function ListDrawerButtons(props) {\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={2}>\r\n        <DeleteButton {...props} />\r\n      </Grid>\r\n      <Grid item xs={2}>\r\n        <AmmoDeleteButton {...props} />\r\n      </Grid>\r\n      <Grid item xs={2}>\r\n        <ShowInfoButton {...props} />\r\n      </Grid>\r\n      <Grid item xs={2}>\r\n        <SetStateMenu {...props} />\r\n      </Grid>\r\n      {props.variant === \"DRONE_SLOT\" ? (\r\n        <Grid item xs={2}>\r\n          <AddButton {...props} />\r\n        </Grid>\r\n      ) : (\r\n        <Grid item xs={2}></Grid>\r\n      )}\r\n\r\n      <Grid item xs={2}>\r\n        <LoopOrNotButton {...props} />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","import {\r\n  ClickAwayListener,\r\n  makeStyles,\r\n  Paper,\r\n  Popper,\r\n  TextField,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport ItemSelectionListCache from \"../../itemSelection/ItemSelectionListCache\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  textField: {\r\n    margin: \"3px 12px 0px 16px\",\r\n  },\r\n  textFieldInputLabel: {\r\n    fontWeight: 700,\r\n    fontSize: \"14px\",\r\n  },\r\n  textFieldinputLabel: {\r\n    fontWeight: 700,\r\n    padding: \"3px 0px 3px 1px\",\r\n    height: 26,\r\n  },\r\n  popperVisible: {\r\n    transition: `${theme.transitions.create([\"opacity\"], {\r\n      duration: 150,\r\n    })}`,\r\n  },\r\n  popperHidden: {\r\n    transition: `${theme.transitions.create([\"opacity\"], {\r\n      duration: 150,\r\n    })},${theme.transitions.create([\"z-index\"], {\r\n      duration: 300,\r\n    })}`,\r\n  },\r\n  popperPaper: {\r\n    width: 300,\r\n    overflow: \"hidden\",\r\n  },\r\n  popperChild: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    maxHeight: 600,\r\n    overflowY: \"auto\",\r\n    paddingRight: 20,\r\n    overflowX: \"hidden\",\r\n  },\r\n}));\r\n\r\nconst SearchTextField = withStyles({\r\n  root: {\r\n    \"& input:valid + fieldset\": {\r\n      borderWidth: 2,\r\n    },\r\n    \"& input:invalid + fieldset\": {\r\n      borderWidth: 2,\r\n    },\r\n    \"& input:valid:focus + fieldset\": {\r\n      borderLeftWidth: 6,\r\n      padding: \"4px !important\", // override inline-style\r\n    },\r\n    width: \"90%\",\r\n  },\r\n})(TextField);\r\n\r\nexport default function ListDrawerSearchbar(props) {\r\n  const classes = useStyles();\r\n  const anchorEl = useRef(null);\r\n\r\n  const [searchOpen, setSearchOpen] = useState(false);\r\n  const [searchVisible, setSearchVisible] = useState(false);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n\r\n  const handleSearchTextChange = useCallback((e) => {\r\n    setSearchText(e.target.value);\r\n    if (!!e.target.value) {\r\n      setSearchOpen(true);\r\n      setSearchVisible(true);\r\n    }\r\n  });\r\n\r\n  return (\r\n    <ClickAwayListener\r\n      onClickAway={() => {\r\n        setSearchVisible(false);\r\n      }}\r\n    >\r\n      <div>\r\n        <SearchTextField\r\n          ref={anchorEl}\r\n          className={classes.textField}\r\n          InputLabelProps={{\r\n            className: classes.textFieldInputLabel,\r\n          }}\r\n          inputProps={{\r\n            className: classes.textFieldinputLabel,\r\n          }}\r\n          label=\"Search\"\r\n          onChange={handleSearchTextChange}\r\n          onFocus={handleSearchTextChange}\r\n        />\r\n\r\n        <Popper\r\n          style={{\r\n            opacity: searchVisible ? 1 : 0,\r\n            zIndex: searchVisible ? 2000 : -1000,\r\n          }}\r\n          className={\r\n            searchVisible ? classes.popperVisible : classes.popperHidden\r\n          }\r\n          open={searchOpen}\r\n          anchorEl={anchorEl.current}\r\n          placement=\"bottom-start\"\r\n        >\r\n          <Paper className={classes.popperPaper} elevation={3}>\r\n            <div className={classes.popperChild}>\r\n              <ItemSelectionListCache\r\n                eveListConfig={mutateEveListConfig(\r\n                  props.eveListConfig,\r\n                  searchText\r\n                )}\r\n                cache={props.cache}\r\n                nosave\r\n              />\r\n            </div>\r\n          </Paper>\r\n        </Popper>\r\n      </div>\r\n    </ClickAwayListener>\r\n  );\r\n}\r\nfunction mutateEveListConfig(eveListConfig, searchText) {\r\n  if (!searchText) return eveListConfig;\r\n\r\n  const mutatedAllowedAttributes = [...eveListConfig.filter.allowedAttributes];\r\n  mutatedAllowedAttributes.push({\r\n    attributeName: \"typeName\",\r\n    value: searchText,\r\n  });\r\n\r\n  return {\r\n    ...eveListConfig,\r\n    opened: true,\r\n    filter: {\r\n      allowedAttributes: mutatedAllowedAttributes,\r\n    },\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { Drawer, Button, makeStyles } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport ItemSelectionListCache from \"../../itemSelection/ItemSelectionListCache\";\r\nimport { useEffect } from \"react\";\r\nimport LastPageIcon from \"@material-ui/icons/LastPage\";\r\nimport FirstPageIcon from \"@material-ui/icons/FirstPage\";\r\nimport ListDrawerButtons from \"./ListDrawerButtons\";\r\nimport { useCallback } from \"react\";\r\nimport ListDrawerSearchbar from \"./ListDrawerSearchbar\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  rootPaper: {\r\n    width: 300,\r\n    height: \"100%\",\r\n    overflow: \"hidden\",\r\n  },\r\n  child: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    overflowY: \"auto\",\r\n    paddingRight: 20,\r\n    overflowX: \"hidden\",\r\n  },\r\n  retractButton: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    right: 0,\r\n    backgroundColor: theme.palette.action.opaqueHover,\r\n    borderRadius: 0,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ListDrawer(props) {\r\n  const classes = useStyles();\r\n\r\n  const [item, setItem] = useState(false);\r\n  const [width, setWidth] = useState(0);\r\n\r\n  const getEveListConfig = useCallback(() => {\r\n    return {\r\n      rootMarketGroupID: getRootMarketGroupID(props.slots, props.variant),\r\n      state: {\r\n        outboundSetItem: setItem,\r\n      },\r\n      filter: {\r\n        allowedAttributes: [\r\n          ...allowedAttributes(props.variant),\r\n          ...props.filter,\r\n        ],\r\n      },\r\n    };\r\n  }, [\r\n    props.variant,\r\n    getFilterID(props.filter),\r\n    getRootMarketGroupID(props.slots, props.variant),\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    setWidth(window.innerWidth);\r\n    const handleRender = (e) => {\r\n      setWidth(window.innerWidth);\r\n    };\r\n    window.addEventListener(\"resize\", handleRender);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleRender);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!!item) {\r\n      props.dispatchListItems({ type: props.variant, payload: item });\r\n      setItem(false);\r\n    }\r\n  }, [item]);\r\n\r\n  return (\r\n    <Drawer\r\n      classes={{ paper: classes.rootPaper }}\r\n      PaperProps={{\r\n        style: {\r\n          marginLeft: props.expand === true ? 300 : 60,\r\n        },\r\n      }}\r\n      anchor={width < 1000 ? \"right\" : \"left\"}\r\n      open={props.open}\r\n      variant=\"persistent\"\r\n    >\r\n      <ListDrawerButtons setItem={setItem} {...props} />\r\n      <ListDrawerSearchbar\r\n        eveListConfig={getEveListConfig()}\r\n        cache={props.cache}\r\n      />\r\n      <div className={classes.child}>\r\n        <ItemSelectionListCache\r\n          eveListConfig={getEveListConfig()}\r\n          cache={props.cache}\r\n        />\r\n      </div>\r\n      <Button\r\n        className={classes.retractButton}\r\n        onClick={(e) => props.dispatchSlotsOpen({ type: \"RESET\" })}\r\n      >\r\n        {width < 1000 ? <LastPageIcon /> : <FirstPageIcon />}\r\n      </Button>\r\n    </Drawer>\r\n  );\r\n}\r\n\r\nfunction getRootMarketGroupID(slots, variant) {\r\n  switch (variant) {\r\n    case \"SHIP\":\r\n      return 4;\r\n    case \"MISC_SLOT\":\r\n      return getMiscSlotMarketGroupID(slots);\r\n    case \"HIGH_SLOT\":\r\n    case \"MID_SLOT\":\r\n    case \"LOW_SLOT\":\r\n      return 9;\r\n    case \"RIG_SLOT\":\r\n      return 1111;\r\n    case \"AMMO\":\r\n      return 11;\r\n    case \"DRONE_SLOT\":\r\n      return 157;\r\n  }\r\n}\r\nfunction allowedAttributes(variant) {\r\n  switch (variant) {\r\n    case \"HIGH_SLOT\":\r\n      return [{ attributeName: \"typeIsHiPower\", value: true }];\r\n    case \"MID_SLOT\":\r\n      return [{ attributeName: \"typeIsMedPower\", value: true }];\r\n    case \"LOW_SLOT\":\r\n      return [{ attributeName: \"typeIsLoPower\", value: true }];\r\n    default:\r\n      return [];\r\n  }\r\n}\r\nfunction getMiscSlotMarketGroupID(slots) {\r\n  switch (slots.ship?.typeID) {\r\n    case 34317: //Confessor\r\n      return 10001;\r\n    case 34828: //Jackdaw\r\n      return 10002;\r\n    case 35683: //Hecate\r\n      return 10003;\r\n    case 34562: //Svipul\r\n      return 10004;\r\n    case 29986: //Legion\r\n      return 1610;\r\n    case 29984: //Tengu\r\n      return 1625;\r\n    case 29988: //Proteus\r\n      return 1627;\r\n    case 29990: //Loki\r\n      return 1626;\r\n    default:\r\n      return 9;\r\n  }\r\n}\r\nfunction getFilterID(filters) {\r\n  return filters\r\n    .map((filter) => `${filter.attributeName}:${filter.value}`)\r\n    .join(\"-\");\r\n}\r\n","import React from \"react\";\r\nimport ListDrawer from \"./ListDrawer\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { translateVariant } from \"../Drawers\";\r\n\r\nexport default React.memo(function ListDrawers(props) {\r\n  const [activeItem, setActiveItem] = useState(false);\r\n  const [activeCharge, setActiveCharge] = useState(false);\r\n\r\n  const [liftedIsLoop, setLiftedIsLoop] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const activeSlot = getActiveSlot(props.fit, props.activeSlot);\r\n    setActiveItem(activeSlot?.item);\r\n    setActiveCharge(activeSlot?.charge);\r\n  }, [props.fitID, props.activeSlot]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {[\r\n        \"SHIP\",\r\n        \"MISC_SLOT\",\r\n        \"HIGH_SLOT\",\r\n        \"MID_SLOT\",\r\n        \"LOW_SLOT\",\r\n        \"RIG_SLOT\",\r\n        \"AMMO\",\r\n        \"DRONE_SLOT\",\r\n      ].map((variant) => {\r\n        return (\r\n          <ListDrawer\r\n            key={variant}\r\n            variant={variant}\r\n            activeItem={activeItem}\r\n            activeCharge={activeCharge}\r\n            liftedIsLoop={liftedIsLoop}\r\n            setLiftedIsLoop={setLiftedIsLoop}\r\n            expand={props.expand}\r\n            open={props.slotsOpen[variant].open}\r\n            filter={generateFilter(props.slots, props.slotsOpen, variant)}\r\n            {...props}\r\n          />\r\n        );\r\n      })}\r\n    </React.Fragment>\r\n  );\r\n});\r\nfunction generateFilter(slots, slotsOpen, variant) {\r\n  switch (variant) {\r\n    case \"AMMO\": {\r\n      const filter = slotsOpen.AMMO.filter;\r\n      if (!filter.group || filter.group.length === 0) return [];\r\n      return [\r\n        {\r\n          attributeName: \"typeGroupID\",\r\n          value: filter.group,\r\n        },\r\n        { attributeName: \"typeChargeSize\", value: filter.size },\r\n      ];\r\n    }\r\n    case \"RIG_SLOT\": {\r\n      const filter = slotsOpen.RIG_SLOT.filter;\r\n      if (!filter || !filter.size) return [];\r\n      return [\r\n        {\r\n          attributeName: \"typeRigSize\",\r\n          value: filter.size,\r\n        },\r\n      ];\r\n    }\r\n    case \"DRONE_SLOT\": {\r\n      const filter = slotsOpen.DRONE_SLOT.filter;\r\n      if (filter.size === false || filter.size === undefined) return [];\r\n      return [\r\n        {\r\n          attributeName: \"typeDroneSize\",\r\n          value: [...new Array(filter.size + 1).keys()],\r\n        },\r\n      ];\r\n    }\r\n\r\n    default:\r\n      return [];\r\n  }\r\n}\r\nexport function getActiveSlot(fit, activeSlot) {\r\n  if (activeSlot.type === false || activeSlot.index === false)\r\n    return { item: false, charge: false };\r\n  if (activeSlot.type === \"SHIP\") return { item: fit.ship };\r\n\r\n  return fit[translateVariant(activeSlot.type)][activeSlot.index];\r\n}\r\n","import React from \"react\";\r\nimport FittingDrawer from \"./FittingDrawer/FittingDrawer.jsx\";\r\nimport { useState } from \"react\";\r\nimport { useReducer } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport Fit from \"../../fitter/src/Fit\";\r\nimport StatDrawer from \"./Stats/StatDrawer.jsx\";\r\nimport EFT from \"./services/EFT.js\";\r\nimport ListDrawers from \"./ListDrawer/ListDrawers.jsx\";\r\n\r\nconst initialSlots = {\r\n  skills: false,\r\n  ship: false,\r\n  miscSlots: [],\r\n  lowSlots: [],\r\n  midSlots: [],\r\n  highSlots: [],\r\n  rigSlots: [],\r\n  droneSlots: [],\r\n};\r\nfunction slotsReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"SKILL\":\r\n      return {\r\n        ...state,\r\n        skills: action.payload,\r\n      };\r\n    case \"SHIP\":\r\n      return {\r\n        ...state,\r\n        ship:\r\n          //prettier-ignore\r\n          action.payload[0]?.item !== undefined ? action.payload[0].item : false,\r\n      };\r\n    case \"MISC_SLOT\":\r\n    case \"LOW_SLOT\":\r\n    case \"MID_SLOT\":\r\n    case \"HIGH_SLOT\":\r\n    case \"RIG_SLOT\":\r\n    case \"DRONE_SLOT\":\r\n      return {\r\n        ...state,\r\n        [translateVariant(action.type)]: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst initialSlotsOpen = {\r\n  SHIP: { open: false },\r\n  MISC_SLOT: { open: false },\r\n  HIGH_SLOT: { open: false },\r\n  MID_SLOT: { open: false },\r\n  LOW_SLOT: { open: false },\r\n  RIG_SLOT: { open: false, filter: false },\r\n  DRONE_SLOT: { open: false, filter: false },\r\n\r\n  AMMO: { open: false, slotVariant: false, filter: false },\r\n  STAT: { open: false, slotVariant: false, slotNumber: false, filter: false },\r\n};\r\n\r\nfunction slotsOpenReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"SHIP\":\r\n    case \"MISC_SLOT\":\r\n    case \"HIGH_SLOT\":\r\n    case \"MID_SLOT\":\r\n    case \"LOW_SLOT\":\r\n      return { ...initialSlotsOpen, [action.type]: { open: true } };\r\n    case \"DRONE_SLOT\":\r\n      return {\r\n        ...initialSlotsOpen,\r\n        DRONE_SLOT: {\r\n          open: true,\r\n          filter: action.payload.filter,\r\n        },\r\n      };\r\n    case \"RIG_SLOT\":\r\n      return {\r\n        ...initialSlotsOpen,\r\n        RIG_SLOT: {\r\n          open: true,\r\n          filter: action.payload.filter,\r\n        },\r\n      };\r\n    case \"AMMO\":\r\n      return {\r\n        ...initialSlotsOpen,\r\n        AMMO: {\r\n          open: true,\r\n          slotVariant: action.payload.slotVariant,\r\n          filter: action.payload.filter,\r\n        },\r\n      };\r\n    case \"STAT\":\r\n      return {\r\n        ...state,\r\n        STAT: {\r\n          open: action.payload.open,\r\n          slotVariant: action.payload.slotVariant,\r\n          slotNumber: action.payload.slotNumber,\r\n          filter: action.payload.filter,\r\n        },\r\n      };\r\n    case \"RESET\":\r\n    default:\r\n      return initialSlotsOpen;\r\n  }\r\n}\r\n\r\nconst initialListItems = {\r\n  SHIP: false,\r\n  MISC_SLOT: false,\r\n  HIGH_SLOT: false,\r\n  MID_SLOT: false,\r\n  LOW_SLOT: false,\r\n  RIG_SLOT: false,\r\n  DRONE_SLOT: false,\r\n  AMMO: false,\r\n};\r\nfunction listItemsReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"SHIP\":\r\n    case \"MISC_SLOT\":\r\n    case \"HIGH_SLOT\":\r\n    case \"MID_SLOT\":\r\n    case \"LOW_SLOT\":\r\n    case \"RIG_SLOT\":\r\n    case \"DRONE_SLOT\":\r\n    case \"AMMO\":\r\n      return { ...state, [action.type]: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default function Drawers(props) {\r\n  //prettier-ignore\r\n  const [activeSlot, setActiveSlot] = useState({ type: false, index: false});\r\n\r\n  const [slots, dispatchSlots] = useReducer(slotsReducer, initialSlots);\r\n  const [slotsOpen, dispatchSlotsOpen] = useReducer(\r\n    slotsOpenReducer,\r\n    initialSlotsOpen\r\n  );\r\n  const [listItems, dispatchListItems] = useReducer(\r\n    listItemsReducer,\r\n    initialListItems\r\n  );\r\n\r\n  const [fit, setFit] = useState(false);\r\n  const [exportFitText, setExportFitText] = useState(false);\r\n\r\n  useEffect(() => {\r\n    props.cache\r\n      .wait(\"/skillsStaticBoard\")\r\n      .then((data) => dispatchSlots({ type: \"SKILL\", payload: data }));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (props.open === true) dispatchSlotsOpen({ type: \"SHIP\" });\r\n    else dispatchSlotsOpen({ type: \"RESET\" });\r\n  }, [props.open]);\r\n\r\n  useEffect(() => {\r\n    /*  console.log(\r\n      \"FitCalc\"\r\n    );\r\n    console.time(\"Fit Stat Calculation\"); */\r\n    const appliedFit = Fit.apply(slots);\r\n    /*  console.timeEnd(\"Fit Stat Calculation\");\r\n    console.log(appliedFit);\r\n    console.log(\r\n      ``\r\n    ); */\r\n    setFit(appliedFit);\r\n    setExportFitText(EFT.buildTextFromFit(appliedFit));\r\n    props.setFit(appliedFit);\r\n    props.setFitID(EFT.buildCompareTextFromFit(slots));\r\n  }, [EFT.buildCompareTextFromFit(slots)]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ListDrawers\r\n        expand={props.expand}\r\n        slotsOpen={slotsOpen}\r\n        fit={fit}\r\n        slots={slots}\r\n        activeSlot={activeSlot}\r\n        dispatchListItems={dispatchListItems}\r\n        dispatchSlotsOpen={dispatchSlotsOpen}\r\n        fitID={props.fitID}\r\n        cache={props.cache}\r\n      />\r\n\r\n      <FittingDrawer\r\n        fit={fit}\r\n        slots={slots}\r\n        open={props.open}\r\n        setOpen={props.setOpen}\r\n        expand={props.expand}\r\n        setExpand={props.setExpand}\r\n        exportFitText={exportFitText}\r\n        slotsOpen={slotsOpen}\r\n        dispatchSlotsOpen={dispatchSlotsOpen}\r\n        listItems={listItems}\r\n        dispatchListItems={dispatchListItems}\r\n        dispatchSlots={dispatchSlots}\r\n        setActiveSlot={setActiveSlot}\r\n        cache={props.cache}\r\n      />\r\n      <StatDrawer\r\n        open={slotsOpen.STAT.open}\r\n        dispatchSlotsOpen={dispatchSlotsOpen}\r\n        slot={giveSlotToStatDrawer(fit, slotsOpen.STAT)}\r\n        cache={props.cache}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction giveSlotToStatDrawer(fit, STAT) {\r\n  if (!STAT.slotVariant) return undefined;\r\n  switch (STAT.slotVariant) {\r\n    case \"SHIP\":\r\n      return fit.ship;\r\n    case \"MISC_SLOT\":\r\n    case \"HIGH_SLOT\":\r\n    case \"MID_SLOT\":\r\n    case \"LOW_SLOT\":\r\n    case \"RIG_SLOT\":\r\n      return fit[translateVariant(STAT.slotVariant)][STAT.slotNumber];\r\n    default:\r\n      return undefined;\r\n  }\r\n}\r\nexport function translateVariant(variant) {\r\n  switch (variant) {\r\n    case \"SHIP\":\r\n      return \"ship\";\r\n    case \"MISC_SLOT\":\r\n      return \"miscSlots\";\r\n    case \"HIGH_SLOT\":\r\n      return \"highSlots\";\r\n    case \"MID_SLOT\":\r\n      return \"midSlots\";\r\n    case \"LOW_SLOT\":\r\n      return \"lowSlots\";\r\n    case \"RIG_SLOT\":\r\n      return \"rigSlots\";\r\n    case \"DRONE_SLOT\":\r\n      return \"droneSlots\";\r\n    default:\r\n      return undefined;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { SvgIcon } from \"@material-ui/core\";\r\n\r\nexport const ArmorIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\"m6.86886,11.73771l1.459,-2.65575c0.01641,0.00001 -0.01638,-0.7213 0.24591,-1.14753c0.2623,-0.42623 0.45902,-0.68852 0.88525,-0.7541c0.42623,-0.06557 -1.01639,-1.01639 -0.09836,-1.96721c0.91803,-0.95082 1.90164,-1.31148 3.2459,-0.55738c1.34426,0.7541 2.78686,2.29506 2.83605,2.29507l0.15574,3.29509c-0.41393,2.35245 -0.7377,3.4918 -0.7459,3.49179c0.0164,0.00001 2.11477,1.01641 2.86886,4.32788l-3.55739,-1.44263c0.01641,0.00001 -2.86884,2.19673 -2.88524,2.19672c0.0164,0.00001 -3.65573,-0.42622 -3.67213,-0.42623c0.0164,0.00001 -0.34425,-2.2295 -0.36065,-2.22951c0.0164,0.00001 2.21312,-2.06556 2.19671,-2.06557l-2.57375,-2.36064z\"\r\n      fill={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const ShieldIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\" M 15.023 17.29 Q 13.407 18.645 12.078 18.723 Q 10.593 18.723 8.925 17.29 Q 7.257 15.857 6.788 14.866 L 6.788 5.277 Q 10.198 6.134 12.078 6.137 Q 13.959 6.14 17.212 5.277 L 17.212 14.866 Q 16.638 15.935 15.023 17.29 Z \"\r\n      fill={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const StructureIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\" M 12.266 19.395 L 8.944 17.478 L 5.623 15.56 L 5.623 11.725 L 5.623 7.89 L 8.944 5.972 L 12.266 4.054 L 15.587 5.972 L 18.908 7.89 L 18.908 11.725 L 18.908 15.56 L 15.587 17.478 L 12.266 19.395 Z \"\r\n      fill=\"none\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n    <line\r\n      x1=\"6.771\"\r\n      y1=\"8.587\"\r\n      x2=\"17.862\"\r\n      y2=\"14.945\"\r\n      strokeWidth=\"1\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n    <line\r\n      x1=\"17.862\"\r\n      y1=\"8.587\"\r\n      x2=\"6.606\"\r\n      y2=\"15.11\"\r\n      strokeWidth=\"1\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n    <line\r\n      x1=\"12.266\"\r\n      y1=\"5.257\"\r\n      x2=\"12.266\"\r\n      y2=\"18.33\"\r\n      strokeWidth=\"1\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const EhpIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\" M 17.856 11.92 L 17.856 11.92 Q 18.168 11.92 18.348 12.208 L 18.348 12.208 L 18.348 12.208 Q 18.528 12.496 18.528 13 L 18.528 13 L 18.528 13 Q 18.528 13.96 18.072 14.488 L 18.072 14.488 L 18.072 14.488 Q 17.184 15.568 15.564 16.48 L 15.564 16.48 L 15.564 16.48 Q 13.944 17.392 12.096 17.392 L 12.096 17.392 L 12.096 17.392 Q 9.576 17.392 8.184 16.024 L 8.184 16.024 L 8.184 16.024 Q 6.792 14.656 6.792 12.28 L 6.792 12.28 L 6.792 12.28 Q 6.792 10.624 7.488 9.196 L 7.488 9.196 L 7.488 9.196 Q 8.184 7.768 9.42 6.928 L 9.42 6.928 L 9.42 6.928 Q 10.656 6.088 12.216 6.088 L 12.216 6.088 L 12.216 6.088 Q 13.608 6.088 14.448 6.916 L 14.448 6.916 L 14.448 6.916 Q 15.288 7.744 15.288 9.16 L 15.288 9.16 L 15.288 9.16 Q 15.288 10.816 14.1 12.004 L 14.1 12.004 L 14.1 12.004 Q 12.912 13.192 10.08 13.888 L 10.08 13.888 L 10.08 13.888 Q 10.68 14.992 12.36 14.992 L 12.36 14.992 L 12.36 14.992 Q 13.44 14.992 14.82 14.236 L 14.82 14.236 L 14.82 14.236 Q 16.2 13.48 17.208 12.256 L 17.208 12.256 L 17.208 12.256 Q 17.496 11.92 17.856 11.92 L 17.856 11.92 L 17.856 11.92 Z  M 11.808 8.44 L 11.808 8.44 Q 10.92 8.44 10.308 9.472 L 10.308 9.472 L 10.308 9.472 Q 9.696 10.504 9.696 11.968 L 9.696 11.968 L 9.696 12.016 L 9.696 12.016 Q 11.112 11.68 11.928 11.008 L 11.928 11.008 L 11.928 11.008 Q 12.744 10.336 12.744 9.448 L 12.744 9.448 L 12.744 9.448 Q 12.744 8.992 12.492 8.716 L 12.492 8.716 L 12.492 8.716 Q 12.24 8.44 11.808 8.44 L 11.808 8.44 L 11.808 8.44 Z \"\r\n      fill={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\n","import React from \"react\";\r\nimport {\r\n  LinearProgress,\r\n  Typography,\r\n  Grid,\r\n  withStyles,\r\n  useTheme,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport { useCallback } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: 20,\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n  },\r\n  rootGrid: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n  },\r\n  progress: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  childGrid: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  label: {\r\n    fontSize: 12,\r\n    color: \"#ffffff\",\r\n  },\r\n  description: {\r\n    fontSize: 14,\r\n    fontWeight: 700,\r\n    color: theme.palette.text.secondary,\r\n  },\r\n}));\r\n\r\nexport default function LinearProgressLabel(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const LinearProgressFixed = useCallback(\r\n    withStyles(() => ({\r\n      root: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        backgroundColor: !!props.backgroundColor\r\n          ? props.backgroundColor\r\n          : theme.palette.background.paper,\r\n      },\r\n      bar: {\r\n        backgroundColor: !!props.color\r\n          ? props.color\r\n          : theme.palette.background.paper,\r\n      },\r\n    }))(LinearProgress),\r\n    [props.backgroundColor, props.color, theme]\r\n  );\r\n\r\n  return (\r\n    <Grid className={classes.root}>\r\n      <Grid className={classes.rootGrid}>\r\n        <LinearProgressFixed\r\n          className={classes.progress}\r\n          variant=\"determinate\"\r\n          value={props.value}\r\n        />\r\n      </Grid>\r\n      <Grid className={classes.childGrid}>\r\n        {props.Icon}\r\n        <Typography className={classes.label} {...props.typographyProps}>\r\n          {props.label}\r\n        </Typography>\r\n        <Typography\r\n          className={classes.description}\r\n          style={{ paddingLeft: !!props.description ? 5 : 0 }}\r\n        >\r\n          {props.description}\r\n        </Typography>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Button, Grid, ListItem, useTheme } from \"@material-ui/core\";\r\nimport LinearProgressLabel from \"./LinearProgressLabel\";\r\n\r\nexport const ResistanceProgressLabel = React.forwardRef((props, ref) => {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Grid container>\r\n      <Grid innerRef={ref} item xs={12}>\r\n        <ListItem style={{ width: \"100%\", padding: 0 }} button={!!props.button}>\r\n          <LinearProgressLabel\r\n            value={0}\r\n            label={getLabel(props)}\r\n            description={getDescription(props)}\r\n            backgroundColor={theme.palette.background.paper}\r\n            Icon={props.Icon}\r\n            typographyProps={{\r\n              style: {\r\n                fontSize: 14,\r\n                fontWeight: 700,\r\n                color: theme.palette.text.primary,\r\n              },\r\n            }}\r\n          />\r\n        </ListItem>\r\n      </Grid>\r\n\r\n      <Grid item xs={3}>\r\n        <LinearProgressLabel\r\n          value={props.resistance?.EM}\r\n          label={`${props.resistance?.EM.toFixed(1)}%`}\r\n          backgroundColor={theme.palette.property.blueSecondary}\r\n          color={theme.palette.property.blue}\r\n        />\r\n      </Grid>\r\n      <Grid item xs={3}>\r\n        <LinearProgressLabel\r\n          value={props.resistance?.TH}\r\n          label={`${props.resistance?.TH.toFixed(1)}%`}\r\n          backgroundColor={theme.palette.property.redSecondary}\r\n          color={theme.palette.property.red}\r\n        />\r\n      </Grid>\r\n      <Grid item xs={3}>\r\n        <LinearProgressLabel\r\n          value={props.resistance?.KI}\r\n          label={`${props.resistance?.KI.toFixed(1)}%`}\r\n          backgroundColor={theme.palette.property.greySecondary}\r\n          color={theme.palette.property.grey}\r\n        />\r\n      </Grid>\r\n      <Grid item xs={3}>\r\n        <LinearProgressLabel\r\n          value={props.resistance?.EX}\r\n          label={`${props.resistance?.EX.toFixed(1)}%`}\r\n          backgroundColor={theme.palette.property.orgSecondary}\r\n          color={theme.palette.property.org}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n});\r\nfunction getDescription(props) {\r\n  const ehpFactor = calculateEhpFactor(props.damageType, props.resistance);\r\n  if (ehpFactor === 1 || !ehpFactor) return \"\";\r\n\r\n  if (props.activeBonus === 0)\r\n    return `${(props.resistance?.HP * ehpFactor).toFixed(0)}`;\r\n  return `${(props.resistance?.HP * ehpFactor).toFixed(0)}+${(\r\n    props.activeBonus * ehpFactor\r\n  ).toFixed(1)}/s`;\r\n}\r\nfunction getLabel(props) {\r\n  if (!!props.label) return props.label;\r\n  if (props.activeBonus === 0) return `${(props.resistance?.HP).toFixed(0)}`;\r\n  return `${(props.resistance?.HP).toFixed(0)}+${props.activeBonus.toFixed(\r\n    1\r\n  )}/s`;\r\n}\r\nfunction calculateEhpFactor(damageType, resistance) {\r\n  if (!damageType || !resistance) return 1;\r\n\r\n  return (\r\n    (100 * (damageType.EM + damageType.TH + damageType.KI + damageType.EX)) /\r\n    (damageType.EM * (100 - resistance.EM) +\r\n      damageType.TH * (100 - resistance.TH) +\r\n      damageType.KI * (100 - resistance.KI) +\r\n      damageType.EX * (100 - resistance.EX))\r\n  );\r\n}\r\n","import {\r\n  ClickAwayListener,\r\n  List,\r\n  ListItem,\r\n  makeStyles,\r\n  Paper,\r\n  Popper,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport { EhpIcon } from \"../../Icons/defenseIcons\";\r\nimport { ResistanceProgressLabel } from \"./ResistanceProgressLabel\";\r\n\r\nconst scrollbarWidth = (() => {\r\n  // Creating invisible container\r\n  const outer = document.createElement(\"div\");\r\n  outer.style.visibility = \"hidden\";\r\n  outer.style.overflow = \"scroll\"; // forcing scrollbar to appear\r\n  outer.style.msOverflowStyle = \"scrollbar\"; // needed for WinJS apps\r\n  document.body.appendChild(outer);\r\n\r\n  // Creating inner element and placing it in the container\r\n  const inner = document.createElement(\"div\");\r\n  outer.appendChild(inner);\r\n\r\n  // Calculating difference between container's full width and the child width\r\n  const _scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\r\n\r\n  // Removing temporary elements from the DOM\r\n  outer.parentNode.removeChild(outer);\r\n\r\n  return _scrollbarWidth;\r\n})();\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  popperPaper: {\r\n    width: 300,\r\n    overflow: \"hidden\",\r\n  },\r\n  popperChild: {\r\n    width: 300 + scrollbarWidth,\r\n    maxHeight: 400,\r\n    overflowY: \"auto\",\r\n    overflowX: \"hidden\",\r\n    paddingRight: scrollbarWidth,\r\n  },\r\n  listItem: {\r\n    padding: 0,\r\n  },\r\n}));\r\n\r\nfunction DamageTypeList(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <List className={classes.list} component=\"div\">\r\n      {damgeTypes.map((damageType) => {\r\n        return (\r\n          <ListItem\r\n            key={damageType.name}\r\n            className={classes.listItem}\r\n            button\r\n            onClick={() => {\r\n              props.setDamageType({ ...damageType });\r\n            }}\r\n          >\r\n            <ResistanceProgressLabel\r\n              label={damageType.name}\r\n              resistance={damageType}\r\n            />\r\n          </ListItem>\r\n        );\r\n      })}\r\n    </List>\r\n  );\r\n}\r\n\r\nexport default function DamageTypeProgressLabel(props) {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n\r\n  const anchorEl = useRef(null);\r\n\r\n  const [DamageTypeListOpen, setDamageTypeListOpen] = useState(false);\r\n\r\n  return (\r\n    <ClickAwayListener\r\n      onClickAway={() => {\r\n        setDamageTypeListOpen(false);\r\n      }}\r\n    >\r\n      {/* wrraper for ClickAwayListener */}\r\n      <div className={classes.root}>\r\n        <div\r\n          ref={anchorEl}\r\n          onClick={() => {\r\n            setDamageTypeListOpen(!DamageTypeListOpen);\r\n          }}\r\n        >\r\n          <ResistanceProgressLabel\r\n            label={props.damageType.name || \"Omni\"}\r\n            Icon={\r\n              <div style={{ height: 24 }}>\r\n                <EhpIcon color={theme.palette.text.primary} />\r\n              </div>\r\n            }\r\n            resistance={props.damageType}\r\n            button\r\n          />\r\n        </div>\r\n        <Popper\r\n          open={DamageTypeListOpen}\r\n          anchorEl={anchorEl.current}\r\n          placement=\"bottom\"\r\n        >\r\n          <Paper className={classes.popperPaper} elevation={3}>\r\n            <div className={classes.popperChild}>\r\n              <DamageTypeList setDamageType={props.setDamageType} />\r\n            </div>\r\n          </Paper>\r\n        </Popper>\r\n      </div>\r\n    </ClickAwayListener>\r\n  );\r\n}\r\n\r\nconst damgeTypes = [\r\n  { name: \"Omni\", EM: 25, TH: 25, KI: 25, EX: 25 },\r\n  { name: \"Amarr\", EM: 60, TH: 40, KI: 0, EX: 0 },\r\n  { name: \"Minmatar\", EM: 25, TH: 25, KI: 25, EX: 25 },\r\n  { name: \"Caldari\", EM: 25, TH: 25, KI: 25, EX: 25 },\r\n  { name: \"Gallente\", EM: 25, TH: 40, KI: 60, EX: 25 },\r\n  { name: \"Angel Cartel\", EM: 7, TH: 9, KI: 22, EX: 62 },\r\n  { name: \"Blood Raiders\", EM: 50, TH: 48, KI: 1, EX: 1 },\r\n  { name: \"Drones\", EM: 6, TH: 6, KI: 20, EX: 68 },\r\n  { name: \"EoM\", EM: 0, TH: 26, KI: 74, EX: 0 },\r\n  { name: \"Guristas\", EM: 2, TH: 18, KI: 79, EX: 1 },\r\n  { name: \"Mercenaries\", EM: 51, TH: 9, KI: 33, EX: 7 },\r\n  { name: \"Mordu's Region\", EM: 30, TH: 0, KI: 70, EX: 0 },\r\n  { name: \"Sansha\", EM: 53, TH: 47, KI: 0, EX: 0 },\r\n  { name: \"Blood\", EM: 0, TH: 55, KI: 45, EX: 0 },\r\n  { name: \"Electro Magnetic\", EM: 100, TH: 0, KI: 0, EX: 0 },\r\n  { name: \"Thermal\", EM: 0, TH: 100, KI: 0, EX: 0 },\r\n  { name: \"Kinetic\", EM: 0, TH: 0, KI: 100, EX: 0 },\r\n  { name: \"Explosive\", EM: 0, TH: 0, KI: 0, EX: 100 },\r\n];\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  ArmorIcon,\r\n  EhpIcon,\r\n  ShieldIcon,\r\n  StructureIcon,\r\n} from \"../../Icons/defenseIcons.jsx\";\r\nimport { ResistanceProgressLabel } from \"./ResistanceProgressLabel\";\r\nimport { Grid, useTheme } from \"@material-ui/core\";\r\nimport DamageTypeProgressLabel from \"./DamageTypeProgressLabel.jsx\";\r\n\r\n// EM-TH-KI-EX\r\nexport default function Resistance(props) {\r\n  const theme = useTheme();\r\n\r\n  const [damageType, setDamageType] = useState({\r\n    EM: 25,\r\n    TH: 25,\r\n    KI: 25,\r\n    EX: 25,\r\n  });\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container>\r\n        <ResistanceProgressLabel\r\n          variant=\"shield\"\r\n          Icon={\r\n            <div style={{ height: 24 }}>\r\n              <ShieldIcon color={theme.palette.text.primary} />\r\n            </div>\r\n          }\r\n          resistance={props.stat.defense.resistance.shield}\r\n          activeBonus={props.stat.defense.active.shieldBonus}\r\n          damageType={damageType}\r\n        />\r\n        <ResistanceProgressLabel\r\n          variant=\"armor\"\r\n          Icon={\r\n            <div style={{ height: 24 }}>\r\n              <ArmorIcon color={theme.palette.text.primary} />\r\n            </div>\r\n          }\r\n          resistance={props.stat.defense.resistance.armor}\r\n          activeBonus={props.stat.defense.active.armorBonus}\r\n          damageType={damageType}\r\n        />\r\n        <ResistanceProgressLabel\r\n          variant=\"structure\"\r\n          Icon={\r\n            <div>\r\n              <StructureIcon color={theme.palette.text.primary} />\r\n            </div>\r\n          }\r\n          resistance={props.stat.defense.resistance.structure}\r\n          activeBonus={props.stat.defense.active.structureBonus}\r\n          damageType={damageType}\r\n        />\r\n        <DamageTypeProgressLabel\r\n          damageType={damageType}\r\n          setDamageType={setDamageType}\r\n        />\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { SvgIcon } from \"@material-ui/core\";\r\n\r\nexport const TurretIcon = (props) => (\r\n  <SvgIcon>\r\n    <line\r\n      x1=\"5.284\"\r\n      y1=\"12.303\"\r\n      x2=\"15.248\"\r\n      y2=\"7.431\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n      strokeLinecap=\"round\"\r\n    />\r\n    <path\r\n      d=\" M 7.734 10.073 L 7.761 9.55 L 9.413 8.725 L 9.688 8.092 L 14.835 6 Q 15.523 5.697 16.294 6 Q 17.064 6.303 18.33 8.092 L 16.459 10.514 L 17.174 10.817 L 17.174 11.642 L 16.459 12.303 L 15.908 12.303 L 15.771 12.716 L 14.835 13.404 L 14.835 14.725 L 15.55 15.055 L 15.55 15.633 L 16.459 16.018 L 16.459 16.514 L 11.615 18.798 L 10.486 18.55 L 9.413 18.55 L 8.284 17.807 L 8.284 17.257 L 7.761 16.844 L 9.11 15.633 L 9.688 15.248 L 10.651 14.725 L 10.651 12.716 L 11.45 12.303 L 11.45 11.862 L 10.486 12.303 L 10.651 11.642 L 9.688 12.138 L 8.477 11.862 L 7.734 10.073 Z \"\r\n      fill={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const LauncherIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\" M 9.589 13.688 L 9.364 14.101 L 10.819 14.79 L 10.819 15.552 L 8.081 15.552 L 7.343 16.019 L 7.343 17.59 L 16.708 17.59 L 18.766 16.019 L 18.766 15.257 L 17.95 14.79 L 18.553 13.363 L 18.979 12.316 L 7.542 6.41 L 5.021 11.36 L 9.589 13.688 Z \"\r\n      fill={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const CalibrationIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\" M 6.635 7.496 C 7.188 5.819 8.854 4.859 10.353 5.353 C 11.853 5.847 12.621 7.61 12.068 9.288 C 11.515 10.965 9.849 11.925 8.349 11.431 C 6.85 10.937 6.082 9.174 6.635 7.496 Z \"\r\n      fill=\"none\"\r\n      strokeWidth=\"2\"\r\n      stroke={props.color || \"#000000\"}\r\n    />\r\n    <path\r\n      d=\" M 19.368 9.482 Q 19.128 8.823 18.536 8.151 L 12.74 7.818 L 11.895 7.426 L 11.532 9.871 L 9.57 11.411 L 7.125 10.596 L 6.129 11.139 L 3.955 10.384 Q 2.899 10.958 2.929 12.679 L 16.634 18.777 L 17.359 17.901 L 18.536 18.264 Q 19.351 17.751 18.989 16.392 L 17.812 16.09 L 17.812 15.426 L 9.027 12.135 L 9.027 11.984 L 10.838 11.984 L 11.895 11.743 L 18.536 12.528 Q 19.294 11.724 19.476 10.898 L 20.8 10.898 Q 21.344 10.203 20.8 9.539 L 19.368 9.482 Z \"\r\n      fill={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const DroneBayIcon = (props) => {\r\n  return (\r\n    <SvgIcon>\r\n      <path\r\n        d=\" M 5.97 12 C 5.97 8.72 8.672 6.057 12 6.057 C 15.328 6.057 18.03 8.72 18.03 12 C 18.03 15.28 15.328 17.943 12 17.943 C 8.672 17.943 5.97 15.28 5.97 12 Z \"\r\n        fill=\"none\"\r\n        strokeWidth=\"1\"\r\n        strokeLinecap=\"square\"\r\n        stroke={props.color || \"#000000\"}\r\n      />\r\n      <line\r\n        x1=\"7.281\"\r\n        y1=\"6.953\"\r\n        x2=\"9.328\"\r\n        y2=\"9.164\"\r\n        strokeWidth=\"2\"\r\n        strokeLinecap=\"square\"\r\n        stroke={props.color || \"#000000\"}\r\n      />\r\n      <line\r\n        x1=\"16.719\"\r\n        y1=\"6.953\"\r\n        x2=\"14.602\"\r\n        y2=\"9.164\"\r\n        strokeWidth=\"2\"\r\n        strokeLinecap=\"square\"\r\n        stroke={props.color || \"#000000\"}\r\n      />\r\n      <line\r\n        x1=\"9.328\"\r\n        y1=\"14.789\"\r\n        x2=\"7.281\"\r\n        y2=\"17.047\"\r\n        strokeLinecap=\"square\"\r\n        strokeWidth=\"2\"\r\n        stroke={props.color || \"#000000\"}\r\n      />\r\n      <line\r\n        x1=\"14.602\"\r\n        y1=\"14.789\"\r\n        x2=\"16.719\"\r\n        y2=\"17.047\"\r\n        strokeWidth=\"2\"\r\n        strokeLinecap=\"square\"\r\n        stroke={props.color || \"#000000\"}\r\n      />\r\n    </SvgIcon>\r\n  );\r\n};\r\nexport const DroneBandwidthIcon = (props) => {\r\n  return (\r\n    <SvgIcon>\r\n      <path\r\n        d=\" M 14.484 4.922 L 11.76 11.074 L 15.012 11.074 L 10.441 19.002 L 19.195 9.879 L 14.906 9.879 L 19.635 4.922 L 14.484 4.922 Z \"\r\n        fill={props.color || \"#000000\"}\r\n      />\r\n      <line\r\n        x1=\"7.041\"\r\n        y1=\"6.915\"\r\n        x2=\"9.635\"\r\n        y2=\"9.728\"\r\n        strokeWidth=\"2\"\r\n        stroke={props.color || \"#000000\"}\r\n      />\r\n      <line\r\n        x1=\"9.635\"\r\n        y1=\"14.118\"\r\n        x2=\"7.041\"\r\n        y2=\"17.009\"\r\n        strokeWidth=\"2\"\r\n        stroke={props.color || \"#000000\"}\r\n      />\r\n      <line\r\n        x1=\"15.844\"\r\n        y1=\"16.281\"\r\n        x2=\"16.479\"\r\n        y2=\"17.009\"\r\n        strokeWidth=\"2\"\r\n        stroke={props.color || \"#000000\"}\r\n      />\r\n    </SvgIcon>\r\n  );\r\n};\r\n","import { findAttributebyID } from \"../../../../services/dataManipulation/findAttributes\";\r\nimport Fit from \"../../../../fitter/src/Fit\";\r\n\r\nexport default class Stat {\r\n  static defaultStat = {\r\n    damage: {\r\n      turretLauncherDamage: { max: 0, effective: 0, alpha: 0 },\r\n      turretLauncherRange: [],\r\n      droneDamage: { max: 0, effective: 0, alpha: 0 },\r\n    },\r\n    defense: {\r\n      resistance: {\r\n        armor: { HP: 0, EM: 0, TH: 0, KI: 0, EX: 0 },\r\n        shield: { HP: 0, EM: 0, TH: 0, KI: 0, EX: 0 },\r\n        structure: { HP: 0, EM: 0, TH: 0, KI: 0, EX: 0 },\r\n      },\r\n      active: {\r\n        shieldBonus: 0,\r\n        armorBonus: 0,\r\n        structureBonus: 0,\r\n      },\r\n    },\r\n    capacitor: {\r\n      ambientChargeRate: 0,\r\n      boosterChargeRate: 0,\r\n      activationUseRate: 0,\r\n      stableLevel: 0,\r\n    },\r\n    resource: {\r\n      capacity: {\r\n        turret: 0,\r\n        launcher: 0,\r\n        calibration: 0,\r\n        droneBandwidth: 0,\r\n        droneBay: 0,\r\n        droneActive: 5,\r\n      },\r\n      load: {\r\n        turret: 0,\r\n        launcher: 0,\r\n        calibration: 0,\r\n        droneBandwidth: 0,\r\n        droneBay: 0,\r\n        droneActive: 0,\r\n      },\r\n    },\r\n    engineering: {\r\n      pg: { load: 0, output: 0 },\r\n      cpu: { load: 0, output: 0 },\r\n    },\r\n    miscellaneous: {\r\n      scanResolution: 0,\r\n      signatureRadius: 0,\r\n      maximumLockedTarget: 0,\r\n      maximumTargetingRange: 0,\r\n      sensorStrength: {\r\n        gravimetric: 0,\r\n        magnetometric: 0,\r\n        ladar: 0,\r\n        radar: 0,\r\n      },\r\n      inertialModifier: 0,\r\n      maximumVelocity: 0,\r\n      warpSpeedMultiplier: 0,\r\n\r\n      cargoBayCapacity: 0,\r\n    },\r\n  };\r\n  static stat(fit) {\r\n    const propCapacitor = Stat.capacitor(fit);\r\n\r\n    return {\r\n      damage: Stat.damage(fit),\r\n      defense: Stat.defense(fit),\r\n      capacitor: {\r\n        ...propCapacitor,\r\n        stableLevel: Stat.capacitor_stableLevel(fit, propCapacitor),\r\n      },\r\n      engineering: Stat.engineering(fit),\r\n      resource: Stat.resource(fit),\r\n      miscellaneous: Stat.miscellaneous(fit),\r\n    };\r\n  }\r\n\r\n  static damage(fit) {\r\n    if (!fit.highSlots)\r\n      return {\r\n        turretLauncherDamage: { max: 0, effective: 0, alpha: 0 },\r\n        turretLauncherRange: [],\r\n        droneDamage: { max: 0, effective: 0, alpha: 0 },\r\n      };\r\n\r\n    const turrets = Stat.#damage_turrets(fit);\r\n    const launchers = Stat.#damage_launchers(fit);\r\n    const drones = Stat.#damage_drones(fit);\r\n\r\n    const turretLauncherDamageSlots = [...turrets, ...launchers];\r\n    const turretLauncherDamage = turretLauncherDamageSlots.reduce(\r\n      (acc, slot) => {\r\n        const damage = Stat.#damage_getDamage(slot.item, slot.charge);\r\n\r\n        return {\r\n          max: acc.max + damage.max,\r\n          effective: acc.effective + damage.effective,\r\n          alpha: acc.alpha + damage.alpha,\r\n        };\r\n      },\r\n      { max: 0, effective: 0, alpha: 0 }\r\n    );\r\n\r\n    const turretLauncherRange = Stat.#damage_range(turrets, launchers);\r\n\r\n    const droneDamage = drones.reduce(\r\n      (acc, slot) => {\r\n        const damage = Stat.#damage_getDamage(slot.item, slot.item);\r\n        const typeCount = slot.item.typeCount;\r\n        return {\r\n          max: acc.max + damage.max * typeCount,\r\n          practical: acc.effective + damage.effective * typeCount,\r\n          alpha: acc.alpha + damage.alpha,\r\n        };\r\n      },\r\n      { max: 0, effective: 0, alpha: 0 }\r\n    );\r\n\r\n    return { turretLauncherDamage, turretLauncherRange, droneDamage };\r\n  }\r\n  static #damage_turrets = (fit) => {\r\n    return Fit.mapSlots(\r\n      fit,\r\n      (slot) => {\r\n        const isTurretFitted = !!slot?.item?.typeEffectsStats?.find(\r\n          (efft) => efft.effectID === 42\r\n        ); //effectID: 42, effectName: \"turretFitted\"\r\n        const isActivated = slot.item.typeState === \"activation\";\r\n        if (isTurretFitted && Fit.validateChargeSlot(slot) && isActivated)\r\n          return slot;\r\n        else return undefined;\r\n      },\r\n      { isIterate: { highSlots: true } }\r\n    ).filter((slot) => !!slot);\r\n  };\r\n  static #damage_launchers = (fit) => {\r\n    return Fit.mapSlots(\r\n      fit,\r\n      (slot) => {\r\n        const isLauncherFitted = !!slot?.item?.typeEffectsStats?.find(\r\n          (efft) => efft.effectID === 40\r\n        ); //effectID: 40, effectName: \"launcherFitted\"\r\n        const isActivated = slot.item.typeState === \"activation\";\r\n        if (isLauncherFitted && Fit.validateChargeSlot(slot) && isActivated)\r\n          return slot;\r\n        else return undefined;\r\n      },\r\n      { isIterate: { highSlots: true } }\r\n    ).filter((slot) => !!slot);\r\n  };\r\n  static #damage_drones = (fit) => {\r\n    return Fit.mapSlots(\r\n      fit,\r\n      (slot) => {\r\n        const isActivated = slot.item.typeState === \"activation\";\r\n        if (isActivated) return slot;\r\n        else return undefined;\r\n      },\r\n      { isIterate: { droneSlots: true } }\r\n    ).filter((slot) => !!slot);\r\n  };\r\n  static #damage_getDamage = (item, charge) => {\r\n    const rateOfFire = Stat.getActivationTime(item, charge);\r\n    const alphaDamage = Stat.#damage_alphaDamage(item, charge);\r\n\r\n    const dps = alphaDamage / rateOfFire.max || 0;\r\n    const Edps = alphaDamage / rateOfFire.effective || 0;\r\n    return { max: dps, effective: Edps, alpha: alphaDamage };\r\n  };\r\n  static #damage_alphaDamage = (item, charge) => {\r\n    const damageModifier = findAttributebyID(item, 64); //attributeID: 64, attributeName: \"Damage Modifier\"\r\n\r\n    const EM_damage = findAttributebyID(charge, 114); //attributeID: 114, attributeName: \"EM damage\"\r\n    const TH_damage = findAttributebyID(charge, 118); //attributeID: 118, attributeName: \"Thermal damage\"\r\n    const KI_damage = findAttributebyID(charge, 117); //attributeID: 117, attributeName: \"Kinetic damage\"\r\n    const EX_damage = findAttributebyID(charge, 116); //attributeID: 116, attributeName: \"Explosive damage\"\r\n    const mergedDamage = EM_damage + TH_damage + KI_damage + EX_damage;\r\n    const damagePerShot = !!damageModifier\r\n      ? damageModifier * mergedDamage\r\n      : mergedDamage;\r\n\r\n    return damagePerShot;\r\n  };\r\n  static #damage_range = (turrets, launchers) => {\r\n    const turretRange = turrets.reduce((acc, slot) => {\r\n      const optimalRange = findAttributebyID(slot.item, 54); //attributeID: 54, attributeName: \"Optimal Range\"\r\n      const falloffRange = findAttributebyID(slot.item, 158); //attributeID: 158, attributeName: \"Accuracy falloff \"\r\n      if (!optimalRange || !falloffRange) return acc;\r\n\r\n      const overlappingRange = acc.find(\r\n        (range) =>\r\n          range.optimalRange === optimalRange &&\r\n          range.falloffRange === falloffRange\r\n      );\r\n      if (!!overlappingRange) overlappingRange.debug.push(slot);\r\n      else acc.push({ optimalRange, falloffRange, debug: [slot] });\r\n      return acc;\r\n    }, []);\r\n    const launcherRange = launchers.reduce((acc, slot) => {\r\n      const maximumVelocity = findAttributebyID(slot.charge, 37); //attributeID: 37, attributeName: \"Maximum Velocity\"\r\n      const filghtTime = findAttributebyID(slot.charge, 281); //attributeID: 281, attributeName: \"Maximum Flight Time\"\r\n      if (!maximumVelocity || !filghtTime) return acc;\r\n\r\n      const optimalRange = maximumVelocity * (filghtTime / 1000);\r\n      const overlappingRange = acc.find(\r\n        (range) => range.optimalRange === optimalRange\r\n      );\r\n      if (!!overlappingRange) overlappingRange.debug.push(slot);\r\n      else acc.push({ optimalRange, falloffRange: 0, debug: [slot] });\r\n      return acc;\r\n    }, []);\r\n    const turretLauncherRange = [...turretRange, ...launcherRange];\r\n\r\n    return turretLauncherRange;\r\n  };\r\n\r\n  static capacitor(fit) {\r\n    if (!fit)\r\n      return {\r\n        ambientChargeRate: 0,\r\n        boosterChargeRate: 0,\r\n        activationUseRate: 0,\r\n      };\r\n    const debug = [];\r\n    const slots = Fit.mapSlots(fit, (slot) => slot, {\r\n      isIterate: {\r\n        highSlots: true,\r\n        midSlots: true,\r\n        lowSlots: true,\r\n      },\r\n    });\r\n    const activationUseRate = slots.reduce((acc, slot) => {\r\n      const cus = Stat.#capacitor_getUseRate(slot);\r\n      if (cus > 0)\r\n        debug.push({\r\n          typeName: slot.item.typeName,\r\n          capacitorUsePerSec: cus,\r\n          dominID: slot.item.domainID,\r\n        });\r\n      return acc + cus;\r\n    }, 0);\r\n    const ambientChargeRate = Stat.#capacitor_getAmbientChargeRate(fit, 25);\r\n    const boosterChargeRate = Stat.#capacitor_getBoosterChargeRate(fit);\r\n    debug.push({ activationUseRate, ambientChargeRate, boosterChargeRate });\r\n\r\n    /* console.log(debug) */\r\n    return { ambientChargeRate, boosterChargeRate, activationUseRate };\r\n  }\r\n  static capacitor_stableLevel(fit, propCapacitor = false) {\r\n    if (!fit.ship?.typeID) return 0;\r\n    const capacitor = !!propCapacitor ? propCapacitor : Stat.capacitor(fit);\r\n    const Cmax = findAttributebyID(fit.ship, 482); //attributeID: 482, attributeName: \"Capacitor Capacity\"\r\n    const Tnow = findAttributebyID(fit.ship, 55) / 1000; //attributeID: 55, attributeName: \"Capacitor Recharge time\"\r\n\r\n    const capacitorDeltas = [];\r\n    for (let i = 200; i < 1000 + 1; i++) {\r\n      const Cnow = Cmax * (i / 1000);\r\n      capacitorDeltas.push({\r\n        capacitorLevel: i / 10,\r\n        delta:\r\n          Stat.#capacitor_getAmbientChargeRateMath(Cmax, Cnow, Tnow) +\r\n          capacitor.boosterChargeRate -\r\n          capacitor.activationUseRate,\r\n      });\r\n    }\r\n    const positiveDeltas = capacitorDeltas\r\n      .sort((a, b) => a.delta - b.delta)\r\n      .filter((capacitorDelta) => capacitorDelta.delta >= 0);\r\n\r\n    if (positiveDeltas[0] === undefined) return 0;\r\n    else return positiveDeltas[0].capacitorLevel;\r\n  }\r\n  static #capacitor_getUseRate = (slot) => {\r\n    if (slot.item.typeState !== \"activation\") return 0;\r\n\r\n    const activationCost = findAttributebyID(slot.item, 6); // attributeID: 6, attributeName: \"Activation Cost\"\r\n    if (activationCost === undefined) return 0;\r\n\r\n    const activationTime = Stat.getActivationTime(slot.item, slot.charge);\r\n\r\n    return activationCost / activationTime.effective;\r\n  };\r\n  static #capacitor_getAmbientChargeRate = (fit, capacitorLevel) => {\r\n    const Cmax = findAttributebyID(fit.ship, 482); //attributeID: 482, attributeName: \"Capacitor Capacity\"\r\n    const Tnow = findAttributebyID(fit.ship, 55) / 1000; //attributeID: 55, attributeName: \"Capacitor Recharge time\"\r\n    const Cnow = (Cmax * capacitorLevel) / 100;\r\n\r\n    return Stat.#capacitor_getAmbientChargeRateMath(Cmax, Cnow, Tnow);\r\n  };\r\n  static #capacitor_getBoosterChargeRate = (fit) => {\r\n    const slots = Fit.mapSlots(fit, (slot) => slot, {\r\n      isIterate: { midSlots: true },\r\n    });\r\n    const boosterSlots = slots.filter((slot) => {\r\n      if (!slot?.item?.typeEffectsStats) return false;\r\n      return slot.item.typeEffectsStats.find((efft) => efft.effectID === 48); //effectID: 48, effectName: \"powerBooster\"\r\n    });\r\n\r\n    return boosterSlots.reduce((acc, boosterSlot) => {\r\n      //prettier-ignore\r\n      const activationTime = Stat.getActivationTime(boosterSlot.item, boosterSlot.charge);\r\n      //prettier-ignore\r\n      const capacitorBonus = findAttributebyID(boosterSlot.charge, 67); //attributeID: 67, attributeName: \"Capacitor Bonus\"\r\n      const boostChargeRate = capacitorBonus / activationTime.effective || 0;\r\n\r\n      return acc + boostChargeRate;\r\n    }, 0);\r\n  };\r\n  static #capacitor_getAmbientChargeRateMath = (Cmax, Cnow, Tnow) => {\r\n    return ((10 * Cmax) / Tnow) * (Math.sqrt(Cnow / Cmax) - Cnow / Cmax) || 0;\r\n  };\r\n\r\n  static defense(fit) {\r\n    if (!fit || !fit.ship)\r\n      return {\r\n        resistance: {\r\n          armor: { HP: 0, EM: 0, TH: 0, KI: 0, EX: 0 },\r\n          shield: { HP: 0, EM: 0, TH: 0, KI: 0, EX: 0 },\r\n          structure: { HP: 0, EM: 0, TH: 0, KI: 0, EX: 0 },\r\n        },\r\n        active: {\r\n          shieldBonus: 0,\r\n          armorBonus: 0,\r\n          structureBonus: 0,\r\n        },\r\n      };\r\n    return {\r\n      resistance: Stat.#defense_resistance(fit),\r\n      active: Stat.#defense_active(fit),\r\n    };\r\n  }\r\n  static #defense_resistance = (fit) => {\r\n    if (!fit.ship || !fit.ship.typeAttributesStats)\r\n      return {\r\n        armor: { HP: 0, EM: 0, TH: 0, KI: 0, EX: 0 },\r\n        shield: { HP: 0, EM: 0, TH: 0, KI: 0, EX: 0 },\r\n        structure: { HP: 0, EM: 0, TH: 0, KI: 0, EX: 0 },\r\n      };\r\n\r\n    const shipAttrs = fit.ship.typeAttributesStats;\r\n\r\n    const armorHP = shipAttrs.find((attr) => attr.attributeID === 265);\r\n    const armorEM = shipAttrs.find((attr) => attr.attributeID === 267);\r\n    const armorTH = shipAttrs.find((attr) => attr.attributeID === 270);\r\n    const armorKI = shipAttrs.find((attr) => attr.attributeID === 269);\r\n    const armorEX = shipAttrs.find((attr) => attr.attributeID === 268);\r\n\r\n    const shieldHP = shipAttrs.find((attr) => attr.attributeID === 263);\r\n    const shieldEM = shipAttrs.find((attr) => attr.attributeID === 271);\r\n    const shieldTH = shipAttrs.find((attr) => attr.attributeID === 274);\r\n    const shieldKI = shipAttrs.find((attr) => attr.attributeID === 273);\r\n    const shieldEX = shipAttrs.find((attr) => attr.attributeID === 272);\r\n\r\n    const structureHP = shipAttrs.find((attr) => attr.attributeID === 9);\r\n    const structureEM = shipAttrs.find((attr) => attr.attributeID === 113);\r\n    const structureTH = shipAttrs.find((attr) => attr.attributeID === 110);\r\n    const structureKI = shipAttrs.find((attr) => attr.attributeID === 109);\r\n    const structureEX = shipAttrs.find((attr) => attr.attributeID === 111);\r\n\r\n    return {\r\n      armor: {\r\n        HP: armorHP.value,\r\n        EM: Stat.#defense_resistance_decimal_fix(armorEM),\r\n        TH: Stat.#defense_resistance_decimal_fix(armorTH),\r\n        KI: Stat.#defense_resistance_decimal_fix(armorKI),\r\n        EX: Stat.#defense_resistance_decimal_fix(armorEX),\r\n      },\r\n      shield: {\r\n        HP: shieldHP.value,\r\n        EM: Stat.#defense_resistance_decimal_fix(shieldEM),\r\n        TH: Stat.#defense_resistance_decimal_fix(shieldTH),\r\n        KI: Stat.#defense_resistance_decimal_fix(shieldKI),\r\n        EX: Stat.#defense_resistance_decimal_fix(shieldEX),\r\n      },\r\n      structure: {\r\n        HP: structureHP.value,\r\n        EM: Stat.#defense_resistance_decimal_fix(structureEM),\r\n        TH: Stat.#defense_resistance_decimal_fix(structureTH),\r\n        KI: Stat.#defense_resistance_decimal_fix(structureKI),\r\n        EX: Stat.#defense_resistance_decimal_fix(structureEX),\r\n      },\r\n    };\r\n  };\r\n  static #defense_resistance_decimal_fix = (attr) => {\r\n    return 100 - attr.value * 100;\r\n  };\r\n  static #defense_active = (fit) => {\r\n    const active = {\r\n      shieldBonus: 0,\r\n      armorBonus: 0,\r\n      structureBonus: 0,\r\n    };\r\n    if (!fit.ship || !fit.ship.typeAttributesStats) return active;\r\n\r\n    Fit.mapSlots(\r\n      fit,\r\n      (slot) => {\r\n        if (!slot.item.typeAttributesStats) return;\r\n        const activationTime = findAttributebyID(slot.item, 73); //attributeID: 73, attributeName: \"Activation time / duration\"\r\n\r\n        const shieldBonus = findAttributebyID(slot.item, 68); //attributeID: 68, attributeName: \"Shield Bonus\"\r\n        if (!!shieldBonus) {\r\n          active.shieldBonus += (shieldBonus / activationTime) * 1000;\r\n          return;\r\n        }\r\n        const armorBonus = findAttributebyID(slot.item, 84); //attributeID: 84, attributeName: \"Armor Hitpoints Repaired\"\r\n        if (!!armorBonus) {\r\n          active.armorBonus += (armorBonus / activationTime) * 1000;\r\n          return;\r\n        }\r\n        const structureBonus = findAttributebyID(slot.item, 83); //attributeID: 83, attributeName: \"Structure Hitpoints Repaired\"\r\n        if (!!structureBonus) {\r\n          active.structureBonus += (structureBonus / activationTime) * 1000;\r\n          return;\r\n        }\r\n      },\r\n      {\r\n        isIterate: { midSlots: true, lowSlots: true },\r\n      }\r\n    );\r\n    return active;\r\n  };\r\n\r\n  static engineering(fit) {\r\n    if (!fit.ship?.typeID)\r\n      return {\r\n        pg: { load: 0, output: 0 },\r\n        cpu: { load: 0, output: 0 },\r\n      };\r\n\r\n    const pgLoad = findAttributebyID(fit.ship, 15); // attributeID: 15, attributeName: \"Power Load\"\r\n    const pgOutput = findAttributebyID(fit.ship, 11); //attributeID: 11, attributeName: \"Powergrid Output\"\r\n    const cpuLoad = findAttributebyID(fit.ship, 49); // attributeID: 49, attributeName: \"CPU Load\"\r\n    const cpuOutput = findAttributebyID(fit.ship, 48); //attributeID: 48, attributeName: \"CPU Output\"\r\n\r\n    return {\r\n      pg: { load: Number(pgLoad.toFixed(1)), output: pgOutput },\r\n      cpu: { load: Number(cpuLoad.toFixed(1)), output: cpuOutput },\r\n    };\r\n  }\r\n\r\n  static resource(fit) {\r\n    if (!fit.ship || !fit.ship.typeAttributesStats)\r\n      return {\r\n        capacity: {\r\n          turret: 0,\r\n          launcher: 0,\r\n          calibration: 0,\r\n          droneBandwidth: 0,\r\n          droneBay: 0,\r\n          droneActive: 5,\r\n        },\r\n        load: {\r\n          turret: 0,\r\n          launcher: 0,\r\n          calibration: 0,\r\n          droneBandwidth: 0,\r\n          droneBay: 0,\r\n          droneActive: 0,\r\n        },\r\n      };\r\n\r\n    const turretHardpoint = findAttributebyID(fit.ship, 102); //attributeID: 102, attributeName: \"Turret Hardpoints\"\r\n    const launcherHardpoint = findAttributebyID(fit.ship, 101); //attributeID: 101, attributeName: \"Launcher Hardpoints\";\r\n    const calibration = findAttributebyID(fit.ship, 1132); //attributeID: 1132, attributeName: \"Calibration\"\r\n    const droneCapacity = findAttributebyID(fit.ship, 283); //attributeID: 283, attributeName: \"Drone Capacity\"\r\n    const droneBandwidth = findAttributebyID(fit.ship, 1271); //ttributeID: 1271, attributeName: \"Drone Bandwidth\"\r\n\r\n    const mountedTurrets = fit.highSlots.reduce((acc, slot) => {\r\n      const isTurretFitted = !!slot?.item?.typeEffectsStats?.find(\r\n        (efft) => efft.effectID === 42\r\n      ); //effectID: 42, effectName: \"turretFitted\"\r\n      return isTurretFitted && slot.item.typeState !== \"offline\" ? ++acc : acc;\r\n    }, 0);\r\n    const mountedLaunchers = fit.highSlots.reduce((acc, slot) => {\r\n      const isLauncherFitted = !!slot?.item?.typeEffectsStats?.find(\r\n        (efft) => efft.effectID === 40\r\n      ); //effectID: 40, effectName: \"launcherFitted\"\r\n      return isLauncherFitted && slot.item.typeState !== \"offline\"\r\n        ? ++acc\r\n        : acc;\r\n    }, 0);\r\n    const mountedCalibration = fit.rigSlots.reduce((acc, slot) => {\r\n      const calibration = findAttributebyID(slot.item, 1153); //attributeID: 1153, attributeName: \"Calibration cost\"\r\n      return !!calibration && slot.item.typeState !== \"offline\"\r\n        ? acc + calibration\r\n        : acc;\r\n    }, 0);\r\n    const mountedDroneBandwidth = fit.droneSlots.reduce((acc, slot) => {\r\n      const droneBandwidth = findAttributebyID(slot.item, 1272); //attributeID: 1272, attributeName: \"Bandwidth Needed\"\r\n      return !!droneBandwidth && slot.item.typeState === \"activation\"\r\n        ? acc + droneBandwidth * slot.item.typeCount\r\n        : acc;\r\n    }, 0);\r\n    const mountedDronebay = fit.droneSlots.reduce((acc, slot) => {\r\n      const droneVolume = slot.item.volume;\r\n      return !!droneVolume && slot.item.typeState !== \"offline\"\r\n        ? acc + droneVolume * slot.item.typeCount\r\n        : acc;\r\n    }, 0);\r\n    const droneActive = fit.droneSlots.reduce((acc, slot) => {\r\n      if (slot.item.typeState === \"activation\")\r\n        return acc + (slot.item.typeCount || 0);\r\n      return acc;\r\n    }, 0);\r\n\r\n    return {\r\n      capacity: {\r\n        turret: turretHardpoint,\r\n        launcher: launcherHardpoint,\r\n        calibration: calibration,\r\n        droneBay: droneCapacity,\r\n        droneBandwidth: droneBandwidth,\r\n        droneActive: 5,\r\n      },\r\n      load: {\r\n        turret: mountedTurrets,\r\n        launcher: mountedLaunchers,\r\n        calibration: mountedCalibration,\r\n        droneBay: mountedDronebay,\r\n        droneBandwidth: mountedDroneBandwidth,\r\n        droneActive: droneActive,\r\n      },\r\n    };\r\n  }\r\n\r\n  static miscellaneous(fit) {\r\n    if (!fit.ship)\r\n      return {\r\n        scanResolution: 0,\r\n        signatureRadius: 0,\r\n        maximumLockedTarget: 0,\r\n        maximumTargetingRange: 0,\r\n        sensorStrength: {\r\n          gravimetric: 0,\r\n          magnetometric: 0,\r\n          ladar: 0,\r\n          radar: 0,\r\n        },\r\n        inertialModifier: 0,\r\n        maximumVelocity: 0,\r\n        warpSpeedMultiplier: 0,\r\n\r\n        cargoBayCapacity: 0,\r\n      };\r\n\r\n    const ship = fit.ship;\r\n\r\n    const scanResolution = findAttributebyID(ship, 564); //attributeID: 564, attributeName: \"Scan Resolution\"\r\n    const signatureRadius = findAttributebyID(ship, 552); //attributeID: 552, attributeName: \"Signature Radius\"\r\n\r\n    const gravimetricSensorStrength = findAttributebyID(ship, 211); //attributeID: 211, attributeName: \"Gravimetric Sensor Strength\"\r\n    const magnetometricSensorStrength = findAttributebyID(ship, 210); //attributeID: 210, attributeName: \"Magnetometric Sensor Strength\"\r\n    const ladarSensorStrength = findAttributebyID(ship, 209); // attributeID: 209, attributeName: \"Ladar Sensor Strength\"\r\n    const radarSensorStrength = findAttributebyID(ship, 208); //attributeID: 208, attributeName: \"RADAR Sensor Strength\"\r\n    const maximumLockedTarget = findAttributebyID(ship, 192); //attributeID: 192, attributeName: \"Maximum Locked Targets\"\r\n    const maximumTargetingRange = findAttributebyID(ship, 76); // attributeID: 76, attributeName: \"Maximum Targeting Range\"\r\n\r\n    const inertialModifier = findAttributebyID(ship, 70); // attributeID: 70, attributeName: \"Inertia Modifier\"\r\n    const maximumVelocity = Stat.#miscellaneous_maximumVelocity(fit);\r\n    const warpSpeedMultiplier = findAttributebyID(ship, 600); //attributeID: 600, attributeName: \"Warp Speed Multiplier\"\r\n\r\n    const cargoBayCapacity = findAttributebyID(ship.capacity);\r\n\r\n    return {\r\n      scanResolution,\r\n      signatureRadius,\r\n      maximumLockedTarget,\r\n      maximumTargetingRange,\r\n      sensorStrength: {\r\n        gravimetric: gravimetricSensorStrength,\r\n        magnetometric: magnetometricSensorStrength,\r\n        ladar: ladarSensorStrength,\r\n        radar: radarSensorStrength,\r\n      },\r\n      inertialModifier,\r\n      maximumVelocity,\r\n      warpSpeedMultiplier,\r\n      cargoBayCapacity,\r\n    };\r\n  }\r\n  static #miscellaneous_maximumVelocity = function (fit) {\r\n    const activePropulsionModules = Fit.mapSlots(\r\n      fit,\r\n      (slot) => {\r\n        const isPropulsionModule = !!slot.item?.typeEffectsStats?.find((efft) =>\r\n          [6730, 6731].includes(efft.effectID)\r\n        ); // effectID: 6731, effectName: \"moduleBonusAfterburner\"\r\n        // effectID: 6730, effectName: \"moduleBonusMicrowarpdrive\"\r\n        const isActive = slot.item.typeState === \"activation\";\r\n\r\n        if (isActive && isPropulsionModule) return slot.item;\r\n        else return undefined;\r\n      },\r\n      { isIterate: { midSlots: true } }\r\n    ).filter((slot) => !!slot);\r\n    const shipBaseMaximumVelocity = findAttributebyID(fit.ship, 37); //attributeID: 37, attributeName: \"Maximum Velocity\"\r\n    if (activePropulsionModules.length === 0) return shipBaseMaximumVelocity;\r\n\r\n    //prettier-ignore\r\n    const propModuleMaximumVelocityBonusMul = findAttributebyID( activePropulsionModules[0], 20) / 100 // attributeID: 20, attributeName: \"Maximum Velocity Bonus\"\r\n    const propModuleThrust = findAttributebyID(activePropulsionModules[0], 567); // attributeID: 567, attributeName: \"Thrust\",\r\n\r\n    const propModuleMassAdd = propModuleThrust / 3;\r\n    const shipMass = findAttributebyID(fit.ship, 4); // attributeID: 4, attributeName: \"Mass\";\r\n    const mass =\r\n      Fit.mapSlots(fit, (slot) => slot, {\r\n        isIterate: {\r\n          highSlots: true,\r\n          midSlots: true,\r\n          lowSlots: true,\r\n        },\r\n      }).reduce((acc, slot) => {\r\n        if (!!slot.item.mass) return acc + slot.item.mass;\r\n        return acc;\r\n      }, 0) +\r\n      propModuleMassAdd +\r\n      shipMass;\r\n\r\n    const shipAppliedMaximumVelocity =\r\n      shipBaseMaximumVelocity *\r\n      (1 + (propModuleMaximumVelocityBonusMul * propModuleThrust) / mass);\r\n\r\n    return shipAppliedMaximumVelocity;\r\n  };\r\n\r\n  static getActivationTime(item, charge) {\r\n    if (!item) return { max: 0, effective: 0 };\r\n\r\n    const reloadTime = findAttributebyID(item, 1795); //attributeID: 1795, attributeName: \"Reload Time\"\r\n    const activationTime = findAttributebyID(item, 73); // attributeID: 73, attributeName: \"Activation time / duration\"\r\n    const rateOfFire = findAttributebyID(item, 51); //attributeID: 51, attributeName: \"Rate of fire\"\r\n    const TAV = !!activationTime ? activationTime : rateOfFire; // True Activation Time\r\n\r\n    if (!reloadTime) return { max: TAV / 1000, effective: TAV / 1000 };\r\n\r\n    const itemCapacity = item.capacity;\r\n    const chargeVolume = charge.volume;\r\n    const chargePerCycle = findAttributebyID(item, 56); //attributeID: 56, attributeName: \"Charges Per Cycle\"\r\n\r\n    const chargeVolumePerAct = !!chargePerCycle\r\n      ? chargeVolume * chargePerCycle\r\n      : 0;\r\n    const reloadTimePerAct =\r\n      !!reloadTime && !!itemCapacity && !!chargeVolume\r\n        ? reloadTime / Math.floor(itemCapacity / chargeVolumePerAct)\r\n        : 0;\r\n    const EactivationTime = TAV + reloadTimePerAct;\r\n\r\n    if (!Stat.#getActivationTime_isTypeNeedCharge(item))\r\n      return { max: TAV / 1000, effective: EactivationTime / 1000 };\r\n    if (Fit.validateChargeSlot({ item, charge }))\r\n      return { max: TAV / 1000, effective: EactivationTime / 1000 };\r\n    else return { max: Infinity, effective: Infinity };\r\n  }\r\n  static #getActivationTime_isTypeNeedCharge = (type) => {\r\n    if (!type || !type.typeEffectsStats) return false;\r\n\r\n    //TODO: Add command burst effectIDs\r\n    //effectID: 42, effectName: \"turretFitted\"\r\n    //effectID: 40, effectName: \"launcherFitted\"\r\n    //effectID: 48, effectName: \"powerBooster\"\r\n    const thisEffectsNeedCharge = [42, 40, 48];\r\n\r\n    return type.typeEffectsStats.reduce((acc, efft) => {\r\n      if (thisEffectsNeedCharge.includes(efft.effectID)) return true;\r\n      return acc;\r\n    }, false);\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  ListItem,\r\n  makeStyles,\r\n  Grid,\r\n  Typography,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\n\r\nimport Stat from \"./services/Stat\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: 0,\r\n    marginBottom: 8,\r\n    width: \"100%\",\r\n    paddingLeft: 10,\r\n  },\r\n  boldTypography: {\r\n    fontSize: 14,\r\n    fontWeight: 700,\r\n  },\r\n}));\r\n\r\nconst GridBoldTypography = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid style={{ flexBasis: 140, maxWidth: 140 }}>\r\n      <TextField\r\n        label={\r\n          <Typography className={classes.boldTypography} noWrap>\r\n            {props.children}\r\n          </Typography>\r\n        }\r\n        value={props.value || 0}\r\n        InputProps={{\r\n          readOnly: true,\r\n          disableUnderline: true,\r\n        }}\r\n        inputProps={{\r\n          style: {\r\n            padding: \"2px 0px 2px 0px\",\r\n            fontSize: 14,\r\n            fontWeight: 700,\r\n          },\r\n        }}\r\n      />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default function ResourcesMiscellaneousListItem(props) {\r\n  const classes = useStyles();\r\n\r\n  const [misc, setMisc] = useState(Stat.defaultStat.miscellaneous);\r\n\r\n  useEffect(() => {\r\n    setMisc(props.stat.miscellaneous);\r\n  }, [props.stat.miscellaneous]);\r\n\r\n  return (\r\n    <ListItem className={classes.root} key=\"onlyOne\">\r\n      <Grid justify=\"center\" container>\r\n        <GridBoldTypography\r\n          value={misc.maximumLockedTarget}\r\n        >{`Max Locked Target`}</GridBoldTypography>\r\n        <GridBoldTypography\r\n          value={misc.maximumTargetingRange}\r\n        >{`Max Trageting Range (m)`}</GridBoldTypography>\r\n        <GridBoldTypography\r\n          value={misc.scanResolution}\r\n        >{`Scan Resolution (mm)`}</GridBoldTypography>\r\n\r\n        <GridBoldTypography value={misc.sensorStrength.gravimetric?.toFixed(1)}>\r\n          {`Gravimetric (point)`}\r\n        </GridBoldTypography>\r\n        <GridBoldTypography\r\n          value={misc.sensorStrength.magnetometric?.toFixed(1)}\r\n        >\r\n          {`Magnetometric (point)`}\r\n        </GridBoldTypography>\r\n        <GridBoldTypography\r\n          value={misc.sensorStrength.ladar?.toFixed(1)}\r\n        >{`Ladar (point)`}</GridBoldTypography>\r\n        <GridBoldTypography\r\n          value={misc.sensorStrength.radar?.toFixed(1)}\r\n        >{`Radar (point)`}</GridBoldTypography>\r\n\r\n        <GridBoldTypography\r\n          value={misc.maximumVelocity?.toFixed(2)}\r\n        >{`Max Velocity (m/sec)`}</GridBoldTypography>\r\n        <GridBoldTypography\r\n          value={misc.inertialModifier?.toFixed(6)}\r\n        >{`Inertia Modifier (x)`}</GridBoldTypography>\r\n        <GridBoldTypography\r\n          value={misc.warpSpeedMultiplier}\r\n        >{`Warp Speed Modifier (x)`}</GridBoldTypography>\r\n        <GridBoldTypography\r\n          value={misc.signatureRadius?.toFixed(2)}\r\n        >{`Signature Radius (m)`}</GridBoldTypography>\r\n        <Grid style={{ flexBasis: 140 }} item />\r\n      </Grid>\r\n    </ListItem>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  Grid,\r\n  Tooltip,\r\n  List,\r\n  ListItem,\r\n  Collapse,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport LinearProgressLabel from \"./LinearProgressLabel\";\r\nimport {\r\n  TurretIcon,\r\n  LauncherIcon,\r\n  CalibrationIcon,\r\n  DroneBayIcon,\r\n  DroneBandwidthIcon,\r\n} from \"../../Icons/resourceIcons\";\r\nimport Stat from \"./services/Stat\";\r\nimport { useCallback } from \"react\";\r\nimport ResourcesMiscellaneousListItem from \"./ResourcesMiscellaneousListItem\";\r\n\r\nconst TurretHardpoint = (props) => {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <LinearProgressLabel\r\n      value={0}\r\n      label={props.label}\r\n      Icon={\r\n        <Tooltip title=\"Turret Hardpoints\" placement=\"left\" arrow>\r\n          <div style={{ height: 24 }}>\r\n            <TurretIcon color={theme.palette.text.primary} />\r\n          </div>\r\n        </Tooltip>\r\n      }\r\n      typographyProps={{\r\n        style: {\r\n          fontSize: 14,\r\n          fontWeight: 700,\r\n          color: theme.palette.text.primary,\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\nconst LauncherHardpoint = (props) => {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <LinearProgressLabel\r\n      value={0}\r\n      label={props.label}\r\n      Icon={\r\n        <Tooltip title=\"Launcher Hardpoints\" placement=\"left\" arrow>\r\n          <div style={{ height: 24 }}>\r\n            <LauncherIcon color={theme.palette.text.primary} />\r\n          </div>\r\n        </Tooltip>\r\n      }\r\n      typographyProps={{\r\n        style: {\r\n          fontSize: 14,\r\n          fontWeight: 700,\r\n          color: theme.palette.text.primary,\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\nconst Calibration = (props) => {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <LinearProgressLabel\r\n      value={0}\r\n      label={props.label}\r\n      Icon={\r\n        <Tooltip title=\"Calibration\" placement=\"left\" arrow>\r\n          <div style={{ height: 24 }}>\r\n            <CalibrationIcon color={theme.palette.text.primary} />\r\n          </div>\r\n        </Tooltip>\r\n      }\r\n      typographyProps={{\r\n        style: {\r\n          fontSize: 14,\r\n          fontWeight: 700,\r\n          color: theme.palette.text.primary,\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\nconst DroneBandwidth = (props) => {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <LinearProgressLabel\r\n      value={props.value}\r\n      label={props.label}\r\n      Icon={\r\n        <Tooltip title=\"Drone Bandwidth\" placement=\"left\" arrow>\r\n          <div style={{ height: 24 }}>\r\n            <DroneBandwidthIcon\r\n              color={\r\n                props.isError\r\n                  ? theme.palette.property.red\r\n                  : theme.palette.text.primary\r\n              }\r\n            />\r\n          </div>\r\n        </Tooltip>\r\n      }\r\n      typographyProps={{\r\n        style: {\r\n          fontSize: 14,\r\n          fontWeight: 700,\r\n          color: props.isError\r\n            ? theme.palette.property.red\r\n            : theme.palette.text.primary,\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\nconst DroneBay = (props) => {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <LinearProgressLabel\r\n      value={props.value}\r\n      label={props.label}\r\n      Icon={\r\n        <Tooltip title=\"Drone Bay\" placement=\"left\" arrow>\r\n          <div style={{ height: 24 }}>\r\n            <DroneBayIcon\r\n              color={\r\n                props.isError\r\n                  ? theme.palette.property.red\r\n                  : theme.palette.text.primary\r\n              }\r\n            />\r\n          </div>\r\n        </Tooltip>\r\n      }\r\n      typographyProps={{\r\n        style: {\r\n          fontSize: 14,\r\n          fontWeight: 700,\r\n          color: props.isError\r\n            ? theme.palette.property.red\r\n            : theme.palette.text.primary,\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    padding: 0,\r\n    margin: 0,\r\n  },\r\n  rootChild: {\r\n    width: \"100%\",\r\n    padding: \"0px 0px 0px 0px\",\r\n  },\r\n  expand: {\r\n    transform: \"rotate(0deg)\",\r\n    right: \"10%\",\r\n    transition: theme.transitions.create(\"transform\", {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    right: \"10%\",\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  nested: {\r\n    padding: 0,\r\n    margin: 0,\r\n    backgroundColor: theme.palette.action.hover,\r\n  },\r\n}));\r\n\r\nexport default function Hardpoints(props) {\r\n  const classes = useStyles();\r\n\r\n  const [open, setOpen] = useState(true);\r\n  const [load, setLoad] = useState(Stat.defaultStat.resource.load);\r\n  const [capacity, setCapacity] = useState(Stat.defaultStat.resource.capacity);\r\n\r\n  useEffect(() => {\r\n    setLoad(props.stat.resource.load);\r\n    setCapacity(props.stat.resource.capacity);\r\n  }, [props.stat]);\r\n\r\n  const handleClick = useCallback(() => {\r\n    setOpen(!open);\r\n  }, [open]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <List className={classes.root}>\r\n        <ListItem className={classes.rootChild} dense onClick={handleClick}>\r\n          <Grid container item alignContent=\"center\">\r\n            <Grid item xs={4} sm={2}>\r\n              <TurretHardpoint label={`${load.turret}/${capacity.turret}`} />\r\n            </Grid>\r\n            <Grid item xs={4} sm={2}>\r\n              <LauncherHardpoint\r\n                label={`${load.launcher}/${capacity.launcher}`}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={4} sm={2}>\r\n              <Calibration\r\n                label={`${load.calibration}/${capacity.calibration}`}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={6} sm={3}>\r\n              <DroneBay\r\n                value={load.droneBay / capacity.droneBay}\r\n                label={`${load.droneBay}/${capacity.droneBay}m3`}\r\n                isError={load.droneBay > capacity.droneBay}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={6} sm={3}>\r\n              <DroneBandwidth\r\n                value={load.droneBandwidth / capacity.droneBandwidth}\r\n                label={`${load.droneBandwidth}/${capacity.droneBandwidth}Mbit/s`}\r\n                isError={load.droneBandwidth > capacity.droneBandwidth}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </ListItem>\r\n        <Collapse in={open} timeout=\"auto\">\r\n          <ResourcesMiscellaneousListItem stat={props.stat} />\r\n        </Collapse>\r\n      </List>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { SvgIcon } from \"@material-ui/core\";\r\n\r\nexport const AlphaIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\" M 14.104 8.315 L 14.182 8.315 L 14.182 8.315 Q 14.328 8.013 14.606 7.554 L 14.606 7.554 L 14.606 7.554 Q 14.885 7.095 15.139 6.841 L 15.139 6.841 L 17.619 6.841 L 17.619 6.841 Q 17.18 7.651 16.726 8.828 L 16.726 8.828 L 16.726 8.828 Q 16.271 10.005 16.018 11.177 L 16.018 11.177 L 15.363 14.302 L 15.363 14.302 Q 15.305 14.595 15.305 14.819 L 15.305 14.819 L 15.305 14.819 Q 15.305 15.454 15.9 15.454 L 15.9 15.454 L 15.9 15.454 Q 16.252 15.454 16.535 15.337 L 16.535 15.337 L 16.535 17.661 L 16.535 17.661 Q 15.92 17.954 14.924 17.954 L 14.924 17.954 L 14.924 17.954 Q 12.98 17.954 12.541 16.343 L 12.541 16.343 L 12.463 16.343 L 12.463 16.343 Q 11.672 17.271 10.964 17.612 L 10.964 17.612 L 10.964 17.612 Q 10.256 17.954 9.357 17.954 L 9.357 17.954 L 9.357 17.954 Q 7.941 17.954 7.16 16.914 L 7.16 16.914 L 7.16 16.914 Q 6.379 15.874 6.379 13.999 L 6.379 13.999 L 6.379 13.999 Q 6.379 11.929 7.033 10.234 L 7.033 10.234 L 7.033 10.234 Q 7.688 8.54 8.869 7.588 L 8.869 7.588 L 8.869 7.588 Q 10.051 6.636 11.516 6.636 L 11.516 6.636 L 11.516 6.636 Q 12.385 6.636 12.995 7.017 L 12.995 7.017 L 12.995 7.017 Q 13.605 7.397 14.104 8.315 L 14.104 8.315 L 14.104 8.315 Z  M 10.656 15.581 L 10.656 15.581 L 10.656 15.581 Q 11.408 15.581 11.975 14.893 L 11.975 14.893 L 11.975 14.893 Q 12.541 14.204 12.868 12.891 L 12.868 12.891 L 12.868 12.891 Q 13.195 11.577 13.195 10.737 L 13.195 10.737 L 13.195 10.737 Q 13.195 9.956 12.883 9.487 L 12.883 9.487 L 12.883 9.487 Q 12.57 9.019 11.936 9.019 L 11.936 9.019 L 11.936 9.019 Q 11.242 9.019 10.651 9.683 L 10.651 9.683 L 10.651 9.683 Q 10.061 10.347 9.709 11.445 L 9.709 11.445 L 9.709 11.445 Q 9.357 12.544 9.357 13.716 L 9.357 13.716 L 9.357 13.716 Q 9.357 14.683 9.675 15.132 L 9.675 15.132 L 9.675 15.132 Q 9.992 15.581 10.656 15.581 Z \"\r\n      fill={props.color || \"#000000\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\nexport const DroneDamageSVG = (props) => {\r\n  return (\r\n    <SvgIcon>\r\n      <line\r\n        x1=\"7.281\"\r\n        y1=\"6.953\"\r\n        x2=\"10.652\"\r\n        y2=\"10.558\"\r\n        strokeWidth=\"2\"\r\n        stroke={props.color}\r\n      />\r\n      <line\r\n        x1=\"16.719\"\r\n        y1=\"6.953\"\r\n        x2=\"13.348\"\r\n        y2=\"10.558\"\r\n        strokeWidth=\"2\"\r\n        stroke={props.color}\r\n      />\r\n      <line\r\n        x1=\"10.652\"\r\n        y1=\"13.442\"\r\n        x2=\"7.281\"\r\n        y2=\"17.047\"\r\n        strokeWidth=\"2\"\r\n        stroke={props.color}\r\n      />\r\n      <line\r\n        x1=\"13.348\"\r\n        y1=\"13.442\"\r\n        x2=\"16.719\"\r\n        y2=\"17.047\"\r\n        strokeWidth=\"2\"\r\n        stroke={props.color}\r\n      />\r\n      <path\r\n        d=\" M 9.725 12 L 12 9.725 L 14.275 12 L 12 14.275 L 9.725 12 Z \"\r\n        fill=\"rgb(255,255,255)\"\r\n      />\r\n    </SvgIcon>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { makeStyles, Typography, ListItem, useTheme } from \"@material-ui/core\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  rootPostIt: {\r\n    position: \"absolute\",\r\n    left: 0,\r\n  },\r\n  root: {\r\n    width: \"100%\",\r\n    padding: 0,\r\n  },\r\n  rootDiv: {\r\n    padding: 0,\r\n    width: \"100%\",\r\n    height: 52,\r\n    position: \"relative\",\r\n  },\r\n  label: {\r\n    position: \"absolute\",\r\n    top: 2,\r\n    left: 6,\r\n    fontSize: 11,\r\n    color: \"#ffffff\",\r\n    fontWeight: 700,\r\n  },\r\n  optimalRangeLabel: {\r\n    fontSize: 14,\r\n    fontWeight: 700,\r\n    color: theme.palette.text.primary,\r\n  },\r\n  rangeFont: {\r\n    fontSize: 14,\r\n    fontWeight: 700,\r\n    color: theme.palette.text.primary,\r\n  },\r\n}));\r\n\r\nconst PostIt = (props) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div\r\n      className={classes.rootPostIt}\r\n      style={{\r\n        width: `${props.share || 0}%`,\r\n        height: props.index * 13 + 22,\r\n        borderRight: `solid 1px ${props.color}`,\r\n      }}\r\n    >\r\n      <div style={{ backgroundColor: props.color, height: 20 }} />\r\n      <div style={{ height: props.index * 13 }} />\r\n\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst OptimalRangeBar = (props) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <PostIt\r\n      share={props.share.optimalRangeShare}\r\n      index={0}\r\n      color={theme.palette.property.green}\r\n    >\r\n      <Typography className={classes.rangeFont} align=\"right\">\r\n        {`${(props.share.optimalRange / 1000).toFixed(1)}KM`}\r\n      </Typography>\r\n    </PostIt>\r\n  );\r\n};\r\nconst FalloffRangeBar = (props) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    props.share.falloffRange > 0 && (\r\n      <PostIt\r\n        share={props.share.falloffRangeShare}\r\n        index={1}\r\n        color={theme.palette.property.org}\r\n      >\r\n        <Typography className={classes.rangeFont} align=\"right\">\r\n          {\r\n            //prettier-ignore\r\n            `${((props.share.optimalRange + props.share.falloffRange) / 1000).toFixed(1)}KM`\r\n          }\r\n        </Typography>\r\n      </PostIt>\r\n    )\r\n  );\r\n};\r\n\r\nexport default function DamageRangeListItem(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [shares, setShares] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setShares(getShares(props.stat.damage.turretLauncherRange));\r\n  }, [props.stat.damage.turretLauncherRange]);\r\n\r\n  return shares.map((share) => {\r\n    return (\r\n      <ListItem\r\n        className={classes.root}\r\n        key={`${share.optimalRangeShare}/${share.falloffRangeShare}`}\r\n      >\r\n        <div className={classes.rootDiv}>\r\n          <PostIt\r\n            share={100}\r\n            index={2}\r\n            color={theme.palette.property.greySecondary}\r\n          />\r\n          <FalloffRangeBar share={share} />\r\n          <OptimalRangeBar share={share} />\r\n          <Typography className={classes.label}>\r\n            {`${share.debug[0].item.typeName} - ${share.debug[0].charge.typeName}`}\r\n          </Typography>\r\n        </div>\r\n      </ListItem>\r\n    );\r\n  });\r\n}\r\nfunction getShares(turretLauncherRange) {\r\n  const rangeMax = turretLauncherRange.reduce((acc, range) => {\r\n    const rangeSum = range.optimalRange + range.falloffRange;\r\n    if (rangeSum > acc) return rangeSum;\r\n    else return acc;\r\n  }, 0);\r\n\r\n  return turretLauncherRange.map((range) => {\r\n    return {\r\n      ...range,\r\n      optimalRangeShare: (range.optimalRange / rangeMax) * 100,\r\n      falloffRangeShare:\r\n        ((range.falloffRange + range.optimalRange) / rangeMax) * 100,\r\n    };\r\n  });\r\n}\r\n","import React, { useState, useCallback } from \"react\";\r\nimport LinearProgressLabel from \"./LinearProgressLabel\";\r\nimport { AlphaIcon, DroneDamageSVG } from \"../../Icons/damageIcons\";\r\nimport { TurretIcon } from \"../../Icons/resourceIcons\";\r\nimport {\r\n  Tooltip,\r\n  Grid,\r\n  makeStyles,\r\n  Collapse,\r\n  ListItem,\r\n  List,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport DamageRangeListItem from \"./DamageRangeListItem\";\r\n\r\nconst WeaponDps = (props) => {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <LinearProgressLabel\r\n      value={0}\r\n      label={props.label}\r\n      backgroundColor={theme.palette.background.paper}\r\n      Icon={\r\n        <Tooltip title=\"Weapon DPS\" placement=\"left\" arrow>\r\n          <div style={{ height: 24 }}>\r\n            <TurretIcon color={theme.palette.text.primary} />\r\n          </div>\r\n        </Tooltip>\r\n      }\r\n      typographyProps={{\r\n        style: {\r\n          fontSize: 14,\r\n          fontWeight: 700,\r\n          color: theme.palette.text.primary,\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\nconst WeaponAlpha = (props) => {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <LinearProgressLabel\r\n      value={0}\r\n      label={props.label}\r\n      backgroundColor={theme.palette.background.paper}\r\n      Icon={\r\n        <Tooltip title=\"Alpha Damage\" placement=\"left\" arrow>\r\n          <div style={{ height: 24 }}>\r\n            <AlphaIcon color={theme.palette.text.primary} />\r\n          </div>\r\n        </Tooltip>\r\n      }\r\n      typographyProps={{\r\n        style: {\r\n          fontSize: 14,\r\n          fontWeight: 700,\r\n          color: theme.palette.text.primary,\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\nconst DroneDps = (props) => {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <LinearProgressLabel\r\n      value={0}\r\n      label={props.label}\r\n      backgroundColor={theme.palette.background.paper}\r\n      Icon={\r\n        <Tooltip title=\"Drone DPS\" placement=\"left\" arrow>\r\n          <div style={{ height: 24 }}>\r\n            <DroneDamageSVG\r\n              color={\r\n                props.isError\r\n                  ? theme.palette.property.red\r\n                  : theme.palette.text.primary\r\n              }\r\n            />\r\n          </div>\r\n        </Tooltip>\r\n      }\r\n      typographyProps={{\r\n        style: {\r\n          fontSize: 14,\r\n          fontWeight: 700,\r\n          color: props.isError\r\n            ? theme.palette.property.red\r\n            : theme.palette.text.primary,\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    padding: 0,\r\n    margin: 0,\r\n  },\r\n  rootChild: {\r\n    height: 20,\r\n    width: \"100%\",\r\n    padding: \"0px 0px 0px 0px\",\r\n  },\r\n\r\n  nested: {\r\n    padding: 0,\r\n    margin: 0,\r\n  },\r\n}));\r\n\r\nexport default function Damage(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [open, setOpen] = useState(true);\r\n\r\n  const handleClick = useCallback(() => {\r\n    setOpen(!open);\r\n  }, [open]);\r\n\r\n  return (\r\n    <Grid container>\r\n      <List className={classes.root}>\r\n        <ListItem className={classes.rootChild} dense onClick={handleClick}>\r\n          <Grid item xs={1}></Grid>\r\n          <Grid item xs={4}>\r\n            <WeaponDps\r\n              label={`${props.stat.damage.turretLauncherDamage.effective.toFixed(\r\n                0\r\n              )}`}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={2}>\r\n            <WeaponAlpha\r\n              label={`${props.stat.damage.turretLauncherDamage.alpha.toFixed(\r\n                0\r\n              )}`}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <DroneDps\r\n              label={`${props.stat.damage.droneDamage.max.toFixed(0)}`}\r\n              isError={\r\n                props.stat.resource.load.droneActive >\r\n                props.stat.resource.capacity.droneActive\r\n              }\r\n            />\r\n          </Grid>\r\n          <Grid item xs={1}></Grid>\r\n        </ListItem>\r\n        <Collapse in={open} timeout=\"auto\">\r\n          <DamageRangeListItem stat={props.stat} />\r\n        </Collapse>\r\n      </List>\r\n    </Grid>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Grid, useTheme } from \"@material-ui/core\";\r\nimport LinearProgressLabel from \"./LinearProgressLabel\";\r\nimport FlagIcon from \"@material-ui/icons/Flag\";\r\n\r\nconst Cpu = (props) => {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <LinearProgressLabel\r\n      value={getPercent(props.load, props.output)}\r\n      label={`${getNum(props.load)}/${getNum(props.output)}tf`}\r\n      backgroundColor={theme.palette.property.blueSecondary}\r\n      color={theme.palette.property.blue}\r\n      Icon={\r\n        getPercent(props.load, props.output) >= 100 && (\r\n          <FlagIcon style={{ color: \"#ffffff\" }} fontSize=\"small\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\nconst Powergrid = (props) => {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <LinearProgressLabel\r\n      value={getPercent(props.load, props.output)}\r\n      label={`${getNum(props.load)}/${getNum(props.output)}MW`}\r\n      backgroundColor={theme.palette.property.redSecondary}\r\n      color={theme.palette.property.red}\r\n      Icon={\r\n        getPercent(props.load, props.output) >= 100 && (\r\n          <FlagIcon style={{ color: \"#ffffff\" }} fontSize=\"small\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default function Engineering(props) {\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container>\r\n        <Grid item xs={12}>\r\n          <Cpu\r\n            load={props.stat.engineering.cpu.load}\r\n            output={props.stat.engineering.cpu.output}\r\n          />\r\n          <Powergrid\r\n            load={props.stat.engineering.pg.load}\r\n            output={props.stat.engineering.pg.output}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nfunction getPercent(load, output) {\r\n  if (!load || !output) return 0;\r\n  if (load.constructor !== Number || output.constructor !== Number) return 0;\r\n\r\n  const percent = Number((load / output) * 100);\r\n  if (percent >= 100) return 100;\r\n  else return percent;\r\n}\r\nfunction getNum(data) {\r\n  if (!data || data.constructor !== Number) return 0;\r\n  else return data;\r\n}\r\n","import React from \"react\";\r\nimport { SvgIcon } from \"@material-ui/core\";\r\n\r\nexport const CapacitorChargeIcon = (props) => (\r\n  <SvgIcon>\r\n    <path\r\n      d=\" M 9.518 3.357 L 4.172 12.911 Q 5.394 15.954 9.319 16.238 L 15.148 6.712 Q 12.987 3.527 9.518 3.357 Z \"\r\n      fill={props.color || \"#000000\"}\r\n    />\r\n    <path\r\n      d=\" M 19.828 6.712 L 12.42 6.712 L 8.991 14.346 L 12.159 14.346 L 5.096 26.546 L 19.375 11.663 L 15.058 11.663 L 19.828 6.712 Z \"\r\n      fill={props.color || \"#000000\"}\r\n      strokeWidth=\"1.5\"\r\n      stroke={props.backgroundColor || \"#ffffff\"}\r\n    />\r\n  </SvgIcon>\r\n);\r\n","import React from \"react\";\r\nimport LinearProgressLabel from \"./LinearProgressLabel\";\r\nimport { CapacitorChargeIcon } from \"../../Icons/capacitorIcons\";\r\nimport { Tooltip, makeStyles, useTheme } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  tooltip: {\r\n    maxWidth: 80,\r\n  },\r\n}));\r\n\r\nexport default function Capacitor(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <LinearProgressLabel\r\n        value={0}\r\n        label={`${(\r\n          props.stat.capacitor.ambientChargeRate +\r\n          props.stat.capacitor.boosterChargeRate -\r\n          props.stat.capacitor.activationUseRate\r\n        ).toFixed(2)}GJ/s`}\r\n        backgroundColor={theme.palette.background.paper}\r\n        Icon={\r\n          <Tooltip\r\n            classes={{ tooltip: classes.tooltip }}\r\n            //prettier-ignore\r\n            title={`Passive +${props.stat.capacitor.ambientChargeRate.toFixed(2)} \r\n            Active +${props.stat.capacitor.boosterChargeRate.toFixed(2)} \r\n            Active -${props.stat.capacitor.activationUseRate.toFixed(2)}`}\r\n            placement=\"left\"\r\n            arrow\r\n          >\r\n            <div style={{ height: 24 }}>\r\n              <CapacitorChargeIcon\r\n                color={theme.palette.text.primary}\r\n                backgroundColor={theme.palette.background.paper}\r\n              />\r\n            </div>\r\n          </Tooltip>\r\n        }\r\n        typographyProps={{\r\n          style: {\r\n            fontSize: 14,\r\n            fontWeight: 700,\r\n            color: theme.palette.text.primary,\r\n          },\r\n        }}\r\n      />\r\n      <LinearProgressLabel\r\n        value={props.stat.capacitor.stableLevel}\r\n        label={`${props.stat.capacitor.stableLevel}%`}\r\n        backgroundColor={theme.palette.property.orgSecondary}\r\n        color={theme.palette.property.org}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Resistance from \"./Resistance\";\r\nimport Resources from \"./Resouces\";\r\nimport Damage from \"./Damage\";\r\nimport Engineering from \"./Engineering\";\r\nimport Capacitor from \"./Capacitor\";\r\nimport Stat from \"./services/Stat\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function StatsSummary(props) {\r\n  useEffect(() => {\r\n    props.setStat(Stat.stat(props.fit));\r\n  }, [props.fitID]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Resources {...props} />\r\n      <Damage {...props} />\r\n      <Capacitor {...props} />\r\n      <Resistance {...props} />\r\n      <Engineering {...props} />\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Drawers from \"../Drawers/Drawers\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  Grid,\r\n  Typography,\r\n  makeStyles,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport StatsSummary from \"./Stats/StatsSummary\";\r\nimport Stat from \"./Stats/services/Stat\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  editButton: {\r\n    fontSize: 26,\r\n    fontWeight: 1000,\r\n    letterSpacing: -1.5,\r\n    lineHeight: 1,\r\n  },\r\n}));\r\n\r\nconst EditButton = (props) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Button\r\n      style={{ height: 70 }}\r\n      fullWidth\r\n      onClick={() => props.setOpen(!props.open)}\r\n    >\r\n      <Grid item xs={12}>\r\n        <Typography\r\n          className={classes.editButton}\r\n          style={{\r\n            color: !!props.fit.ship?.typeName\r\n              ? theme.palette.text.primary\r\n              : theme.palette.property.blueGreyLight,\r\n          }}\r\n          align=\"center\"\r\n        >\r\n          {props.fit.ship?.typeName || \"CLICK HERE TO START FITTING\"}\r\n        </Typography>\r\n      </Grid>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default function FitCard(props) {\r\n  const [fit, setFit] = useState(false);\r\n  const [fitID, setFitID] = useState(false);\r\n\r\n  const [open, setOpen] = useState(true);\r\n  const [expand, setExpand] = useState(window.innerWidth < 1000 ? false : true);\r\n\r\n  const [stat, setStat] = useState(Stat.defaultStat);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Card\r\n        style={{ width: \"85%\", minWidth: 300, maxWidth: 600 }}\r\n        elevation={3}\r\n      >\r\n        <EditButton fit={fit} open={open} setOpen={setOpen} />\r\n        <StatsSummary fit={fit} fitID={fitID} stat={stat} setStat={setStat} />\r\n      </Card>\r\n\r\n      <Drawers\r\n        open={open}\r\n        setOpen={setOpen}\r\n        expand={expand}\r\n        setExpand={setExpand}\r\n        fitID={fitID}\r\n        setFitID={setFitID}\r\n        setFit={setFit}\r\n        cache={props.cache}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport FitCard from \"./FitCard/FitCard\";\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  Grid,\r\n  makeStyles,\r\n  Paper,\r\n  useTheme,\r\n} from \"@material-ui/core\";\r\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\r\nimport WbSunnyIcon from \"@material-ui/icons/WbSunny\";\r\nimport Brightness2Icon from \"@material-ui/icons/Brightness2\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modeButton: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    color: theme.palette.text.primary,\r\n  },\r\n  modeButtonActive: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    color: theme.palette.property.org,\r\n  },\r\n}));\r\n\r\nconst Links = (props) => {\r\n  return (\r\n    <Paper elevation={2}>\r\n      <ButtonGroup variant=\"text\">\r\n        <Button\r\n          href={\"https://github.com/tiktrimo/EVE-Fitting.js\"}\r\n          target=\"_blank\"\r\n          color=\"primary\"\r\n        >\r\n          <GitHubIcon />\r\n        </Button>\r\n        <Button\r\n          href={\"https://github.com/tiktrimo/EVE-Fitting.js/issues\"}\r\n          target=\"_blank\"\r\n          color=\"primary\"\r\n        >\r\n          BUG REPORT\r\n        </Button>\r\n        <Button\r\n          href={\r\n            \"https://github.com/tiktrimo/EVE-Fitting.js/blob/master/DOCS/DOCS.md\"\r\n          }\r\n          target=\"_blank\"\r\n          color=\"primary\"\r\n        >\r\n          DOCS\r\n        </Button>\r\n      </ButtonGroup>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nconst Settings = (props) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Paper style={{ marginLeft: 10 }} elevation={2}>\r\n      <ButtonGroup variant=\"text\">\r\n        <Button\r\n          className={\r\n            props.isDark ? classes.modeButton : classes.modeButtonActive\r\n          }\r\n          onClick={() => {\r\n            props.setIsDark(false);\r\n          }}\r\n        >\r\n          <WbSunnyIcon />\r\n        </Button>\r\n        <Button\r\n          className={\r\n            props.isDark ? classes.modeButtonActive : classes.modeButton\r\n          }\r\n          onClick={() => {\r\n            props.setIsDark(true);\r\n          }}\r\n        >\r\n          <Brightness2Icon />\r\n        </Button>\r\n      </ButtonGroup>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default function InitialCard(props) {\r\n  const [width, setWidth] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setWidth(window.innerWidth);\r\n    const handleRender = (e) => {\r\n      setWidth(window.innerWidth);\r\n    };\r\n    window.addEventListener(\"resize\", handleRender);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleRender);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"row-reverse\" }}>\r\n      <Grid\r\n        style={{\r\n          width: width < 1000 ? \"100%\" : width - 600,\r\n          margin: 0,\r\n        }}\r\n        container\r\n        spacing={3}\r\n      >\r\n        <Grid xs={12} container item justify=\"center\"></Grid>\r\n        <Grid xs={12} container item justify=\"center\">\r\n          <FitCard cache={props.cache} />\r\n        </Grid>\r\n        <Grid xs={12} container item justify=\"center\">\r\n          <Links />\r\n          <Settings isDark={props.isDark} setIsDark={props.setIsDark} />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport cacheService from \"./cache/cacheService\";\r\nimport { useEffect } from \"react\";\r\nimport { storage } from \"./index\";\r\nimport cJSON from \"compressed-json\";\r\nimport InitialCard from \"./components/InitialCard\";\r\nimport { makeStyles, Paper } from \"@material-ui/core\";\r\n\r\nconst ttl = 60 * 60 * 1;\r\nconst cache = new cacheService(ttl);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    borderRadius: 0,\r\n    overflow: \"auto\",\r\n  },\r\n}));\r\n\r\nexport default function InitialD(props) {\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    cache.get(\"/marketCategories\", () => {\r\n      return storage\r\n        .ref(\"/marketCategories.json\")\r\n        .getDownloadURL()\r\n        .then(async (url) => {\r\n          return await fetch(url)\r\n            .then((data) => data.json())\r\n            .then((data) => cJSON.decompress(data));\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    cache.get(\"/typeIDsTable\", () => {\r\n      return storage\r\n        .ref(\"/listInvTypesTable.json\")\r\n        .getDownloadURL()\r\n        .then(async (url) => {\r\n          return await fetch(url)\r\n            .then((data) => data.json())\r\n            .then((data) => cJSON.decompress(data));\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    cache.get(\"/skillsStaticBoard\", () => {\r\n      return storage\r\n        .ref(\"/skillsStaticBoard.json\")\r\n        .getDownloadURL()\r\n        .then(async (url) => {\r\n          return await fetch(url)\r\n            .then((data) => data.json())\r\n            .then((data) => cJSON.decompress(data));\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    cache.get(\"/attributesCategories\", () => {\r\n      return storage\r\n        .ref(\"/attributesCategories.json\")\r\n        .getDownloadURL()\r\n        .then(async (url) => {\r\n          return await fetch(url)\r\n            .then((data) => data.json())\r\n            .then((data) => cJSON.decompress(data));\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Paper className={classes.root} elevation={0}>\r\n      <InitialCard\r\n        isDark={props.isDark}\r\n        setIsDark={props.setIsDark}\r\n        cache={cache}\r\n      />\r\n    </Paper>\r\n  );\r\n}\r\n","import InitialFetch from \"./InitialFetch\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { red, orange, blue, blueGrey, green } from \"@material-ui/core/colors\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst lightTheme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      light: \"#6d6d6d\",\r\n      main: \"#424242\",\r\n      dark: \"#1b1b1b\",\r\n    },\r\n    action: {\r\n      opaqueHover: \"#F5F5F5\",\r\n    },\r\n    button: {\r\n      color: \"#ffffff\",\r\n    },\r\n    property: {\r\n      blue: blue[500],\r\n      blueSecondary: blue[200],\r\n      red: red[500],\r\n      redSecondary: red[200],\r\n      grey: blueGrey[500],\r\n      greySecondary: blueGrey[200],\r\n      org: orange[500], // For some f'ed reson using \"orange\"name make problem.\r\n      orgSecondary: orange[200], // So instead of looking for some problem jusy used or(an)g(e)\r\n      green: green[500],\r\n    },\r\n  },\r\n});\r\n\r\nconst darkTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      light: \"#ffffff\",\r\n      main: \"#ffffff\",\r\n      dark: \"#f5f5f5\",\r\n    },\r\n    action: {\r\n      opaqueHover: \"#515151\",\r\n    },\r\n    button: {\r\n      color: \"#ffffff\",\r\n    },\r\n    property: {\r\n      blue: \"#66b3e8\",\r\n      blueSecondary: \"#b1cce2\",\r\n      red: \"#f54256\",\r\n      redSecondary: \"#e8a5a5\",\r\n      grey: blueGrey[400],\r\n      greySecondary: blueGrey[200],\r\n      org: \"#ff994d\", // For some f'ed reson using \"orange\"name make problem.\r\n      orgSecondary: \"#f3cb90\", // So instead of looking for problem just used or(an)g(e)\r\n      green: green[500],\r\n    },\r\n  },\r\n  overrides: {\r\n    MuiPaper: {\r\n      elevation3: {\r\n        boxShadow: \"\",\r\n        border: \"solid 0.1px #595959\",\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nexport default function Initialtheming(props) {\r\n  const [isDark, setIsDark] = useState(false);\r\n\r\n  return (\r\n    <MuiThemeProvider theme={isDark ? darkTheme : lightTheme}>\r\n      <InitialFetch isDark={isDark} setIsDark={setIsDark} />\r\n    </MuiThemeProvider>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport firebaseAPI from \"./key/ignore/firebaseAPI\";\r\nimport * as firebase from \"firebase/app\";\r\nimport \"firebase/analytics\";\r\nimport \"firebase/database\";\r\nimport \"firebase/storage\";\r\nimport Initialtheming from \"./Initialtheming\";\r\n\r\nfirebase.initializeApp(firebaseAPI);\r\nexport const database = firebase.database();\r\nexport const analytics = firebase.analytics();\r\nexport const storage = firebase.storage();\r\n\r\nanalytics.logEvent(\"pageLoad\", { type: \"log\" });\r\n\r\nReactDOM.render(<Initialtheming />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}